(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function gT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vm={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function uA(){if(a0)return iu;a0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return iu.Fragment=e,iu.jsx=t,iu.jsxs=t,iu}var s0;function cA(){return s0||(s0=1,Vm.exports=uA()),Vm.exports}var ae=cA(),Lm={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function hA(){if(o0)return Me;o0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,U={};function V(N,re,ue){this.props=N,this.context=re,this.refs=U,this.updater=ue||C}V.prototype.isReactComponent={},V.prototype.setState=function(N,re){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,re,"setState")},V.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=V.prototype;function G(N,re,ue){this.props=N,this.context=re,this.refs=U,this.updater=ue||C}var Q=G.prototype=new j;Q.constructor=G,I(Q,V.prototype),Q.isPureReactComponent=!0;var se=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function D(N,re,ue,ie,pe,Oe){return ue=Oe.ref,{$$typeof:n,type:N,key:re,ref:ue!==void 0?ue:null,props:Oe}}function A(N,re){return D(N.type,re,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function x(N){var re={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ue){return re[ue]})}var k=/\/+/g;function L(N,re){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):re.toString(36)}function M(){}function Rt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(M,M):(N.status="pending",N.then(function(re){N.status==="pending"&&(N.status="fulfilled",N.value=re)},function(re){N.status==="pending"&&(N.status="rejected",N.reason=re)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ot(N,re,ue,ie,pe){var Oe=typeof N;(Oe==="undefined"||Oe==="boolean")&&(N=null);var Ee=!1;if(N===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(N.$$typeof){case n:case e:Ee=!0;break;case v:return Ee=N._init,ot(Ee(N._payload),re,ue,ie,pe)}}if(Ee)return pe=pe(N),Ee=ie===""?"."+L(N,0):ie,se(pe)?(ue="",Ee!=null&&(ue=Ee.replace(k,"$&/")+"/"),ot(pe,re,ue,"",function(dn){return dn})):pe!=null&&(R(pe)&&(pe=A(pe,ue+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+Ee)),re.push(pe)),1;Ee=0;var Ct=ie===""?".":ie+":";if(se(N))for(var Xe=0;Xe<N.length;Xe++)ie=N[Xe],Oe=Ct+L(ie,Xe),Ee+=ot(ie,re,ue,Oe,pe);else if(Xe=b(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(ie=N.next()).done;)ie=ie.value,Oe=Ct+L(ie,Xe++),Ee+=ot(ie,re,ue,Oe,pe);else if(Oe==="object"){if(typeof N.then=="function")return ot(Rt(N),re,ue,ie,pe);throw re=String(N),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function X(N,re,ue){if(N==null)return N;var ie=[],pe=0;return ot(N,ie,"","",function(Oe){return re.call(ue,Oe,pe++)}),ie}function ce(N){if(N._status===-1){var re=N._result;re=re(),re.then(function(ue){(N._status===0||N._status===-1)&&(N._status=1,N._result=ue)},function(ue){(N._status===0||N._status===-1)&&(N._status=2,N._result=ue)}),N._status===-1&&(N._status=0,N._result=re)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ie(){}return Me.Children={map:X,forEach:function(N,re,ue){X(N,function(){re.apply(this,arguments)},ue)},count:function(N){var re=0;return X(N,function(){re++}),re},toArray:function(N){return X(N,function(re){return re})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Me.Component=V,Me.Fragment=t,Me.Profiler=s,Me.PureComponent=G,Me.StrictMode=i,Me.Suspense=g,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return $.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cloneElement=function(N,re,ue){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=I({},N.props),pe=N.key,Oe=void 0;if(re!=null)for(Ee in re.ref!==void 0&&(Oe=void 0),re.key!==void 0&&(pe=""+re.key),re)!le.call(re,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&re.ref===void 0||(ie[Ee]=re[Ee]);var Ee=arguments.length-2;if(Ee===1)ie.children=ue;else if(1<Ee){for(var Ct=Array(Ee),Xe=0;Xe<Ee;Xe++)Ct[Xe]=arguments[Xe+2];ie.children=Ct}return D(N.type,pe,void 0,void 0,Oe,ie)},Me.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Me.createElement=function(N,re,ue){var ie,pe={},Oe=null;if(re!=null)for(ie in re.key!==void 0&&(Oe=""+re.key),re)le.call(re,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=re[ie]);var Ee=arguments.length-2;if(Ee===1)pe.children=ue;else if(1<Ee){for(var Ct=Array(Ee),Xe=0;Xe<Ee;Xe++)Ct[Xe]=arguments[Xe+2];pe.children=Ct}if(N&&N.defaultProps)for(ie in Ee=N.defaultProps,Ee)pe[ie]===void 0&&(pe[ie]=Ee[ie]);return D(N,Oe,void 0,void 0,null,pe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:d,render:N}},Me.isValidElement=R,Me.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ce}},Me.memo=function(N,re){return{$$typeof:p,type:N,compare:re===void 0?null:re}},Me.startTransition=function(N){var re=$.T,ue={};$.T=ue;try{var ie=N(),pe=$.S;pe!==null&&pe(ue,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,me)}catch(Oe){me(Oe)}finally{$.T=re}},Me.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Me.use=function(N){return $.H.use(N)},Me.useActionState=function(N,re,ue){return $.H.useActionState(N,re,ue)},Me.useCallback=function(N,re){return $.H.useCallback(N,re)},Me.useContext=function(N){return $.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,re){return $.H.useDeferredValue(N,re)},Me.useEffect=function(N,re,ue){var ie=$.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,re)},Me.useId=function(){return $.H.useId()},Me.useImperativeHandle=function(N,re,ue){return $.H.useImperativeHandle(N,re,ue)},Me.useInsertionEffect=function(N,re){return $.H.useInsertionEffect(N,re)},Me.useLayoutEffect=function(N,re){return $.H.useLayoutEffect(N,re)},Me.useMemo=function(N,re){return $.H.useMemo(N,re)},Me.useOptimistic=function(N,re){return $.H.useOptimistic(N,re)},Me.useReducer=function(N,re,ue){return $.H.useReducer(N,re,ue)},Me.useRef=function(N){return $.H.useRef(N)},Me.useState=function(N){return $.H.useState(N)},Me.useSyncExternalStore=function(N,re,ue){return $.H.useSyncExternalStore(N,re,ue)},Me.useTransition=function(){return $.H.useTransition()},Me.version="19.1.0",Me}var l0;function Bg(){return l0||(l0=1,Lm.exports=hA()),Lm.exports}var z=Bg();const he=gT(z);var Um={exports:{}},au={},Bm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function fA(){return u0||(u0=1,function(n){function e(X,ce){var me=X.length;X.push(ce);e:for(;0<me;){var Ie=me-1>>>1,N=X[Ie];if(0<s(N,ce))X[Ie]=ce,X[me]=N,me=Ie;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ce=X[0],me=X.pop();if(me!==ce){X[0]=me;e:for(var Ie=0,N=X.length,re=N>>>1;Ie<re;){var ue=2*(Ie+1)-1,ie=X[ue],pe=ue+1,Oe=X[pe];if(0>s(ie,me))pe<N&&0>s(Oe,ie)?(X[Ie]=Oe,X[pe]=me,Ie=pe):(X[Ie]=ie,X[ue]=me,Ie=ue);else if(pe<N&&0>s(Oe,me))X[Ie]=Oe,X[pe]=me,Ie=pe;else break e}}return ce}function s(X,ce){var me=X.sortIndex-ce.sortIndex;return me!==0?me:X.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],p=[],v=1,T=null,b=3,C=!1,I=!1,U=!1,V=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function se(X){for(var ce=t(p);ce!==null;){if(ce.callback===null)i(p);else if(ce.startTime<=X)i(p),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(p)}}function $(X){if(U=!1,se(X),!I)if(t(g)!==null)I=!0,le||(le=!0,L());else{var ce=t(p);ce!==null&&ot($,ce.startTime-X)}}var le=!1,D=-1,A=5,R=-1;function x(){return V?!0:!(n.unstable_now()-R<A)}function k(){if(V=!1,le){var X=n.unstable_now();R=X;var ce=!0;try{e:{I=!1,U&&(U=!1,G(D),D=-1),C=!0;var me=b;try{t:{for(se(X),T=t(g);T!==null&&!(T.expirationTime>X&&x());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,b=T.priorityLevel;var N=Ie(T.expirationTime<=X);if(X=n.unstable_now(),typeof N=="function"){T.callback=N,se(X),ce=!0;break t}T===t(g)&&i(g),se(X)}else i(g);T=t(g)}if(T!==null)ce=!0;else{var re=t(p);re!==null&&ot($,re.startTime-X),ce=!1}}break e}finally{T=null,b=me,C=!1}ce=void 0}}finally{ce?L():le=!1}}}var L;if(typeof Q=="function")L=function(){Q(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Rt=M.port2;M.port1.onmessage=k,L=function(){Rt.postMessage(null)}}else L=function(){j(k,0)};function ot(X,ce){D=j(function(){X(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var me=b;b=ce;try{return X()}finally{b=me}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=b;b=X;try{return ce()}finally{b=me}},n.unstable_scheduleCallback=function(X,ce,me){var Ie=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ie+me:Ie):me=Ie,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,X={id:v++,callback:ce,priorityLevel:X,startTime:me,expirationTime:N,sortIndex:-1},me>Ie?(X.sortIndex=me,e(p,X),t(g)===null&&X===t(p)&&(U?(G(D),D=-1):U=!0,ot($,me-Ie))):(X.sortIndex=N,e(g,X),I||C||(I=!0,le||(le=!0,L()))),X},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(X){var ce=b;return function(){var me=b;b=ce;try{return X.apply(this,arguments)}finally{b=me}}}}(zm)),zm}var c0;function dA(){return c0||(c0=1,Bm.exports=fA()),Bm.exports}var jm={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function mA(){if(h0)return on;h0=1;var n=Bg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},on.flushSync=function(g){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,g)return g()}finally{c.T=p,i.p=v,i.d.f()}},on.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},on.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},on.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:C}):v==="script"&&i.d.X(g,{crossOrigin:T,integrity:b,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},on.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin);i.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},on.requestFormReset=function(g){i.d.r(g)},on.unstable_batchedUpdates=function(g,p){return g(p)},on.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.1.0",on}var f0;function gA(){if(f0)return jm.exports;f0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jm.exports=mA(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function pA(){if(d0)return au;d0=1;var n=dA(),e=Bg(),t=gA();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function g(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),r;if(m===u)return d(f),a;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=m;break}if(w===u){E=!0,u=f,o=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===o){E=!0,o=m,u=f;break}if(w===u){E=!0,u=m,o=f;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Rt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case V:return"Profiler";case U:return"StrictMode";case $:return"Suspense";case le:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case Q:return(r.displayName||"Context")+".Provider";case G:return(r._context.displayName||"Context")+".Consumer";case se:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:Rt(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return Rt(r(a))}catch{}}return null}var ot=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ie=[],N=-1;function re(r){return{current:r}}function ue(r){0>N||(r.current=Ie[N],Ie[N]=null,N--)}function ie(r,a){N++,Ie[N]=r.current,r.current=a}var pe=re(null),Oe=re(null),Ee=re(null),Ct=re(null);function Xe(r,a){switch(ie(Ee,a),ie(Oe,r),ie(pe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?x_(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=x_(a),r=k_(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(pe),ie(pe,r)}function dn(){ue(pe),ue(Oe),ue(Ee)}function mr(r){r.memoizedState!==null&&ie(Ct,r);var a=pe.current,o=k_(a,r.type);a!==o&&(ie(Oe,r),ie(pe,o))}function Jn(r){Oe.current===r&&(ue(pe),ue(Oe)),Ct.current===r&&(ue(Ct),Jl._currentValue=me)}var Fr=Object.prototype.hasOwnProperty,Yr=n.unstable_scheduleCallback,gr=n.unstable_cancelCallback,Ua=n.unstable_shouldYield,Is=n.unstable_requestPaint,Tn=n.unstable_now,nl=n.unstable_getCurrentPriorityLevel,Ba=n.unstable_ImmediatePriority,Li=n.unstable_UserBlockingPriority,Gr=n.unstable_NormalPriority,Ds=n.unstable_LowPriority,pr=n.unstable_IdlePriority,Wr=n.log,Os=n.unstable_setDisableYieldValue,ht=null,Ge=null;function mn(r){if(typeof Wr=="function"&&Os(r),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ht,r)}catch{}}var qt=Math.clz32?Math.clz32:Qr,Ms=Math.log,rl=Math.LN2;function Qr(r){return r>>>=0,r===0?32:31-(Ms(r)/rl|0)|0}var $r=256,Kr=4194304;function Cn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Xr(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var w=u&134217727;return w!==0?(u=w&~m,u!==0?f=Cn(u):(E&=w,E!==0?f=Cn(E):o||(o=w&~r,o!==0&&(f=Cn(o))))):(w=u&~m,w!==0?f=Cn(w):E!==0?f=Cn(E):o||(o=u&~r,o!==0&&(f=Cn(o)))),f===0?0:a!==0&&a!==f&&(a&m)===0&&(m=f&-f,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:f}function Zr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Ui(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var r=$r;return $r<<=1,($r&4194048)===0&&($r=256),r}function Qe(){var r=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),r}function Le(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Ht(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Kt(r,a,o,u,f,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,O=r.expirationTimes,F=r.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-qt(o),ee=1<<Z;w[Z]=0,O[Z]=-1;var Y=F[Z];if(Y!==null)for(F[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~ee}u!==0&&gn(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~a))}function gn(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-qt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function _t(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-qt(o),f=1<<u;f&a|r[u]&a&&(r[u]|=a),o&=~f}}function kt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ue(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function yr(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:J_(r.type))}function Ns(r,a){var o=ce.p;try{return ce.p=r,a()}finally{ce.p=o}}var lt=Math.random().toString(36).slice(2),gt="__reactFiber$"+lt,ft="__reactProps$"+lt,zn="__reactContainer$"+lt,il="__reactEvents$"+lt,Bf="__reactListeners$"+lt,Bi="__reactHandles$"+lt,Zu="__reactResources$"+lt,za="__reactMarker$"+lt;function zi(r){delete r[gt],delete r[ft],delete r[il],delete r[Bf],delete r[Bi]}function Jr(r){var a=r[gt];if(a)return a;for(var o=r.parentNode;o;){if(a=o[zn]||o[gt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=U_(r);r!==null;){if(o=r[gt])return o;r=U_(r)}return a}r=o,o=r.parentNode}return null}function vr(r){if(r=r[gt]||r[zn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function _r(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function pn(r){var a=r[Zu];return a||(a=r[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function bt(r){r[za]=!0}var al=new Set,xs={};function er(r,a){ei(r,a),ei(r+"Capture",a)}function ei(r,a){for(xs[r]=a,r=0;r<a.length;r++)al.add(a[r])}var Ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ec={},ja={};function tc(r){return Fr.call(ja,r)?!0:Fr.call(ec,r)?!1:Ju.test(r)?ja[r]=!0:(ec[r]=!0,!1)}function ji(r,a,o){if(tc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Er(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Xt(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var qa,nc;function ti(r){if(qa===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);qa=a&&a[1]||"",nc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+r+nc}var ks=!1;function Ps(r,a){if(!r||ks)return"";ks=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(W){var Y=W}Reflect.construct(r,[],ee)}else{try{ee.call()}catch(W){Y=W}r.call(ee.prototype)}}else{try{throw Error()}catch(W){Y=W}(ee=r())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var O=E.split(`
`),F=w.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===F.length)for(u=O.length-1,f=F.length-1;1<=u&&0<=f&&O[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==F[f]){var Z=`
`+O[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ks=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ti(o):""}function sl(r){switch(r.tag){case 26:case 27:case 5:return ti(r.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Ps(r.type,!1);case 11:return Ps(r.type.render,!1);case 1:return Ps(r.type,!0);case 31:return ti("Activity");default:return""}}function Vs(r){try{var a="";do a+=sl(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ol(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zf(r){var a=ol(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ls(r){r._valueTracker||(r._valueTracker=zf(r))}function ll(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=ol(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Ha(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var jf=/[\n"\\]/g;function It(r){return r.replace(jf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function In(r,a,o,u,f,m,E,w){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?qi(r,E,yn(a)):o!=null?qi(r,E,yn(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+yn(w):r.removeAttribute("name")}function Fa(r,a,o,u,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;o=o!=null?""+yn(o):"",a=a!=null?""+yn(a):o,w||a===r.value||(r.value=a),r.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function qi(r,a,o){a==="number"&&Ha(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ni(r,a,o,u){if(r=r.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=a.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+yn(o),a=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}a!==null||r[f].disabled||(a=r[f])}a!==null&&(a.selected=!0)}}function tt(r,a,o){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+yn(o):""}function Ya(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(ot(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=yn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function jn(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||Ga.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function ul(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&o[f]!==u&&rc(r,f,u)}else for(var m in a)a.hasOwnProperty(m)&&rc(r,m,a[m])}function cl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(r){return Hf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ri=null;function qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ii=null,ai=null;function hl(r){var a=vr(r);if(a&&(r=a.stateNode)){var o=r[ft]||null;e:switch(r=a.stateNode,a.type){case"input":if(In(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var f=u[ft]||null;if(!f)throw Error(i(90));In(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&ll(u)}break e;case"textarea":tt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ni(r,!!o.multiple,a,!1)}}}var Tr=!1;function ic(r,a,o){if(Tr)return r(a,o);Tr=!0;try{var u=r(a);return u}finally{if(Tr=!1,(ii!==null||ai!==null)&&(Xc(),ii&&(a=ii,r=ai,ai=ii=null,hl(a),r)))for(a=0;a<r.length;a++)hl(r[a])}}function Wa(r,a){var o=r.stateNode;if(o===null)return null;var u=o[ft]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(tr)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Hn=!1}var br=null,Hi=null,si=null;function fl(){if(si)return si;var r,a=Hi,o=a.length,u,f="value"in br?br.value:br.textContent,m=f.length;for(r=0;r<o&&a[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===f[m-u];u++);return si=f.slice(r,1<u?1-u:void 0)}function wr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Sr(){return!0}function dl(){return!1}function Ft(r){function a(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Sr:dl,this.isPropagationStopped=dl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),a}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Ft($e),$a=v({},$e,{view:0,detail:0}),ac=Ft($a),zs,js,Ar,Ka=v({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ar&&(Ar&&r.type==="mousemove"?(zs=r.screenX-Ar.screenX,js=r.screenY-Ar.screenY):js=zs=0,Ar=r),zs)},movementY:function(r){return"movementY"in r?r.movementY:js}}),Fn=Ft(Ka),sc=v({},Ka,{dataTransfer:0}),Ff=Ft(sc),Xa=v({},$a,{relatedTarget:0}),qs=Ft(Xa),ml=v({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Hs=Ft(ml),oc=v({},$e,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fs=Ft(oc),Yf=v({},$e,{data:0}),gl=Ft(Yf),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=uc[r])?!!a[r]:!1}function Ja(){return pl}var cc=v({},$a,{key:function(r){if(r.key){var a=Za[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=wr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?lc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(r){return r.type==="keypress"?wr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ys=Ft(cc),hc=v({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Ft(hc),oi=v({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),fc=Ft(oi),dc=v({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),mc=Ft(dc),gc=v({},Ka,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Gs=Ft(gc),vn=v({},$e,{newState:0,oldState:0}),pc=Ft(vn),yc=[9,13,27,32],Rr=tr&&"CompositionEvent"in window,h=null;tr&&"documentMode"in document&&(h=document.documentMode);var y=tr&&"TextEvent"in window&&!h,_=tr&&(!Rr||h&&8<h&&11>=h),S=" ",q=!1;function K(r,a){switch(r){case"keyup":return yc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var je=!1;function Pt(r,a){switch(r){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(q=!0,S);case"textInput":return r=a.data,r===S&&q?null:r;default:return null}}function qe(r,a){if(je)return r==="compositionend"||!Rr&&K(r,a)?(r=fl(),si=Hi=br=null,je=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var Yt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Yt[r.type]:a==="textarea"}function li(r,a,o,u){ii?ai?ai.push(u):ai=[u]:ii=u,a=rh(a,"onChange"),0<a.length&&(o=new Bs("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Zt=null,Cr=null;function vl(r){I_(r,0)}function vc(r){var a=_r(r);if(ll(a))return r}function $p(r,a){if(r==="change")return a}var Kp=!1;if(tr){var Gf;if(tr){var Wf="oninput"in document;if(!Wf){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),Wf=typeof Xp.oninput=="function"}Gf=Wf}else Gf=!1;Kp=Gf&&(!document.documentMode||9<document.documentMode)}function Zp(){Zt&&(Zt.detachEvent("onpropertychange",Jp),Cr=Zt=null)}function Jp(r){if(r.propertyName==="value"&&vc(Cr)){var a=[];li(a,Cr,r,qn(r)),ic(vl,a)}}function B1(r,a,o){r==="focusin"?(Zp(),Zt=a,Cr=o,Zt.attachEvent("onpropertychange",Jp)):r==="focusout"&&Zp()}function z1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vc(Cr)}function j1(r,a){if(r==="click")return vc(a)}function q1(r,a){if(r==="input"||r==="change")return vc(a)}function H1(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Dn=typeof Object.is=="function"?Object.is:H1;function _l(r,a){if(Dn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Fr.call(a,f)||!Dn(r[f],a[f]))return!1}return!0}function ey(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ty(r,a){var o=ey(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ey(o)}}function ny(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?ny(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function ry(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ha(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Ha(r.document)}return a}function Qf(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var F1=tr&&"documentMode"in document&&11>=document.documentMode,Ws=null,$f=null,El=null,Kf=!1;function iy(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Kf||Ws==null||Ws!==Ha(u)||(u=Ws,"selectionStart"in u&&Qf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),El&&_l(El,u)||(El=u,u=rh($f,"onSelect"),0<u.length&&(a=new Bs("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=Ws)))}function es(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Qs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Xf={},ay={};tr&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ts(r){if(Xf[r])return Xf[r];if(!Qs[r])return r;var a=Qs[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in ay)return Xf[r]=a[o];return r}var sy=ts("animationend"),oy=ts("animationiteration"),ly=ts("animationstart"),Y1=ts("transitionrun"),G1=ts("transitionstart"),W1=ts("transitioncancel"),uy=ts("transitionend"),cy=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function nr(r,a){cy.set(r,a),er(a,[r])}var hy=new WeakMap;function Yn(r,a){if(typeof r=="object"&&r!==null){var o=hy.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Vs(a)},hy.set(r,a),a)}return{value:r,source:a,stack:Vs(a)}}var Gn=[],$s=0,Jf=0;function _c(){for(var r=$s,a=Jf=$s=0;a<r;){var o=Gn[a];Gn[a++]=null;var u=Gn[a];Gn[a++]=null;var f=Gn[a];Gn[a++]=null;var m=Gn[a];if(Gn[a++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&fy(o,f,m)}}function Ec(r,a,o,u){Gn[$s++]=r,Gn[$s++]=a,Gn[$s++]=o,Gn[$s++]=u,Jf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function ed(r,a,o,u){return Ec(r,a,o,u),Tc(r)}function Ks(r,a){return Ec(r,null,null,a),Tc(r)}function fy(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&a!==null&&(f=31-qt(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[a]:u.push(a),a.lane=o|536870912),m):null}function Tc(r){if(50<Yl)throw Yl=0,sm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Xs={};function Q1(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(r,a,o,u){return new Q1(r,a,o,u)}function td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ui(r,a){var o=r.alternate;return o===null?(o=On(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function dy(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function bc(r,a,o,u,f,m){var E=0;if(u=r,typeof r=="function")td(r)&&(E=1);else if(typeof r=="string")E=KS(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=On(31,o,a,f),r.elementType=R,r.lanes=m,r;case I:return ns(o.children,f,m,a);case U:E=8,f|=24;break;case V:return r=On(12,o,a,f|2),r.elementType=V,r.lanes=m,r;case $:return r=On(13,o,a,f),r.elementType=$,r.lanes=m,r;case le:return r=On(19,o,a,f),r.elementType=le,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case Q:E=10;break e;case G:E=9;break e;case se:E=11;break e;case D:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=On(E,o,a,f),a.elementType=r,a.type=u,a.lanes=m,a}function ns(r,a,o,u){return r=On(7,r,u,a),r.lanes=o,r}function nd(r,a,o){return r=On(6,r,null,a),r.lanes=o,r}function rd(r,a,o){return a=On(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Zs=[],Js=0,wc=null,Sc=0,Wn=[],Qn=0,rs=null,ci=1,hi="";function is(r,a){Zs[Js++]=Sc,Zs[Js++]=wc,wc=r,Sc=a}function my(r,a,o){Wn[Qn++]=ci,Wn[Qn++]=hi,Wn[Qn++]=rs,rs=r;var u=ci;r=hi;var f=32-qt(u)-1;u&=~(1<<f),o+=1;var m=32-qt(a)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,ci=1<<32-qt(a)+f|o<<f|u,hi=m+r}else ci=1<<m|o<<f|u,hi=r}function id(r){r.return!==null&&(is(r,1),my(r,1,0))}function ad(r){for(;r===wc;)wc=Zs[--Js],Zs[Js]=null,Sc=Zs[--Js],Zs[Js]=null;for(;r===rs;)rs=Wn[--Qn],Wn[Qn]=null,hi=Wn[--Qn],Wn[Qn]=null,ci=Wn[--Qn],Wn[Qn]=null}var _n=null,Et=null,We=!1,as=null,Ir=!1,sd=Error(i(519));function ss(r){var a=Error(i(418,""));throw wl(Yn(a,r)),sd}function gy(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[gt]=r,a[ft]=u,o){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(o=0;o<Wl.length;o++)Ve(Wl[o],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Fa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ls(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),Ya(a,u.value,u.defaultValue,u.children),Ls(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||N_(a.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),u.onScroll!=null&&Ve("scroll",a),u.onScrollEnd!=null&&Ve("scrollend",a),u.onClick!=null&&(a.onclick=ih),a=!0):a=!1,a||ss(r)}function py(r){for(_n=r.return;_n;)switch(_n.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:_n=_n.return}}function Tl(r){if(r!==_n)return!1;if(!We)return py(r),We=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||bm(r.type,r.memoizedProps)),o=!o),o&&Et&&ss(r),py(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){Et=ir(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}Et=null}}else a===27?(a=Et,aa(r.type)?(r=Rm,Rm=null,Et=r):Et=a):Et=_n?ir(r.stateNode.nextSibling):null;return!0}function bl(){Et=_n=null,We=!1}function yy(){var r=as;return r!==null&&(Sn===null?Sn=r:Sn.push.apply(Sn,r),as=null),r}function wl(r){as===null?as=[r]:as.push(r)}var od=re(null),os=null,fi=null;function Fi(r,a,o){ie(od,a._currentValue),a._currentValue=o}function di(r){r._currentValue=od.current,ue(od)}function ld(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function ud(r,a,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var O=0;O<a.length;O++)if(w.context===a[O]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),ld(m.return,o,r),u||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),ld(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Sl(r,a,o,u){r=null;for(var f=a,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=f.type;Dn(f.pendingProps.value,E.value)||(r!==null?r.push(w):r=[w])}}else if(f===Ct.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Jl):r=[Jl])}f=f.return}r!==null&&ud(a,r,o,u),a.flags|=262144}function Ac(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ls(r){os=r,fi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function sn(r){return vy(os,r)}function Rc(r,a){return os===null&&ls(r),vy(r,a)}function vy(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},fi===null){if(r===null)throw Error(i(308));fi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else fi=fi.next=a;return o}var $1=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},K1=n.unstable_scheduleCallback,X1=n.unstable_NormalPriority,Lt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new $1,data:new Map,refCount:0}}function Al(r){r.refCount--,r.refCount===0&&K1(X1,function(){r.controller.abort()})}var Rl=null,hd=0,eo=0,to=null;function Z1(r,a){if(Rl===null){var o=Rl=[];hd=0,eo=dm(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hd++,a.then(_y,_y),a}function _y(){if(--hd===0&&Rl!==null){to!==null&&(to.status="fulfilled");var r=Rl;Rl=null,eo=0,to=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function J1(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ey=X.S;X.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Z1(r,a),Ey!==null&&Ey(r,a)};var us=re(null);function fd(){var r=us.current;return r!==null?r:ut.pooledCache}function Cc(r,a){a===null?ie(us,us.current):ie(us,a.pool)}function Ty(){var r=fd();return r===null?null:{parent:Lt._currentValue,pool:r}}var Cl=Error(i(460)),by=Error(i(474)),Ic=Error(i(542)),dd={then:function(){}};function wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Dc(){}function Sy(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Dc,Dc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ry(r),r;default:if(typeof a.status=="string")a.then(Dc,Dc);else{if(r=ut,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ry(r),r}throw Il=a,Cl}}var Il=null;function Ay(){if(Il===null)throw Error(i(459));var r=Il;return Il=null,r}function Ry(r){if(r===Cl||r===Ic)throw Error(i(483))}var Yi=!1;function md(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Gi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Wi(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=Tc(r),fy(r,null,o),a}return Ec(r,u,a,o),Tc(r)}function Dl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,_t(r,o)}}function pd(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=a:m=m.next=a}else f=m=a;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var yd=!1;function Ol(){if(yd){var r=to;if(r!==null)throw r}}function Ml(r,a,o,u){yd=!1;var f=r.updateQueue;Yi=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,F=O.next;O.next=null,E===null?m=F:E.next=F,E=O;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=F:w.next=F,Z.lastBaseUpdate=O))}if(m!==null){var ee=f.baseState;E=0,Z=F=O=null,w=m;do{var Y=w.lane&-536870913,W=Y!==w.lane;if(W?(He&Y)===Y:(u&Y)===Y){Y!==0&&Y===eo&&(yd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=r,Te=w;Y=a;var it=o;switch(Te.tag){case 1:if(Ae=Te.payload,typeof Ae=="function"){ee=Ae.call(it,ee,Y);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Te.payload,Y=typeof Ae=="function"?Ae.call(it,ee,Y):Ae,Y==null)break e;ee=v({},ee,Y);break e;case 2:Yi=!0}}Y=w.callback,Y!==null&&(r.flags|=64,W&&(r.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(F=Z=W,O=ee):Z=Z.next=W,E|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;W=w,w=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),ta|=E,r.lanes=E,r.memoizedState=ee}}function Cy(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Iy(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Cy(o[r],a)}var no=re(null),Oc=re(0);function Dy(r,a){r=Ei,ie(Oc,r),ie(no,a),Ei=r|a.baseLanes}function vd(){ie(Oc,Ei),ie(no,no.current)}function _d(){Ei=Oc.current,ue(no),ue(Oc)}var Qi=0,Ne=null,nt=null,Dt=null,Mc=!1,ro=!1,cs=!1,Nc=0,Nl=0,io=null,eS=0;function wt(){throw Error(i(321))}function Ed(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Dn(r[o],a[o]))return!1;return!0}function Td(r,a,o,u,f,m){return Qi=m,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=r===null||r.memoizedState===null?fv:dv,cs=!1,m=o(u,f),cs=!1,ro&&(m=My(a,o,u,f)),Oy(r),m}function Oy(r){X.H=Uc;var a=nt!==null&&nt.next!==null;if(Qi=0,Dt=nt=Ne=null,Mc=!1,Nl=0,io=null,a)throw Error(i(300));r===null||Gt||(r=r.dependencies,r!==null&&Ac(r)&&(Gt=!0))}function My(r,a,o,u){Ne=r;var f=0;do{if(ro&&(io=null),Nl=0,ro=!1,25<=f)throw Error(i(301));if(f+=1,Dt=nt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=oS,m=a(o,u)}while(ro);return m}function tS(){var r=X.H,a=r.useState()[0];return a=typeof a.then=="function"?xl(a):a,r=r.useState()[0],(nt!==null?nt.memoizedState:null)!==r&&(Ne.flags|=1024),a}function bd(){var r=Nc!==0;return Nc=0,r}function wd(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Sd(r){if(Mc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Mc=!1}Qi=0,Dt=nt=Ne=null,ro=!1,Nl=Nc=0,io=null}function bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Ot(){if(nt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var a=Dt===null?Ne.memoizedState:Dt.next;if(a!==null)Dt=a,nt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Ne.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function Ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(r){var a=Nl;return Nl+=1,io===null&&(io=[]),r=Sy(io,r,a),a=Ne,(Dt===null?a.memoizedState:Dt.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?fv:dv),r}function xc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xl(r);if(r.$$typeof===Q)return sn(r)}throw Error(i(438,String(r)))}function Rd(r){var a=null,o=Ne.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Ad(),Ne.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=x;return a.index++,o}function mi(r,a){return typeof a=="function"?a(r):a}function kc(r){var a=Ot();return Cd(a,nt,r)}function Cd(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}a.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{a=f.next;var w=E=null,O=null,F=a,Z=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(He&ee)===ee:(Qi&ee)===ee){var Y=F.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===eo&&(Z=!0);else if((Qi&Y)===Y){F=F.next,Y===eo&&(Z=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=ee,E=m):O=O.next=ee,Ne.lanes|=Y,ta|=Y;ee=F.action,cs&&o(m,ee),m=F.hasEagerState?F.eagerState:o(m,ee)}else Y={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=Y,E=m):O=O.next=Y,Ne.lanes|=ee,ta|=ee;F=F.next}while(F!==null&&F!==a);if(O===null?E=m:O.next=w,!Dn(m,r.memoizedState)&&(Gt=!0,Z&&(o=to,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=O,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Id(r){var a=Ot(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=a.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=r(m,E.action),E=E.next;while(E!==f);Dn(m,a.memoizedState)||(Gt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,u]}function Ny(r,a,o){var u=Ne,f=Ot(),m=We;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!Dn((nt||f).memoizedState,o);E&&(f.memoizedState=o,Gt=!0),f=f.queue;var w=Py.bind(null,u,f,r);if(kl(2048,8,w,[r]),f.getSnapshot!==a||E||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,ao(9,Pc(),ky.bind(null,u,f,o,a),null),ut===null)throw Error(i(349));m||(Qi&124)!==0||xy(u,a,o)}return o}function xy(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Ne.updateQueue,a===null?(a=Ad(),Ne.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function ky(r,a,o,u){a.value=o,a.getSnapshot=u,Vy(a)&&Ly(r)}function Py(r,a,o){return o(function(){Vy(a)&&Ly(r)})}function Vy(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Dn(r,o)}catch{return!0}}function Ly(r){var a=Ks(r,2);a!==null&&Pn(a,r,2)}function Dd(r){var a=bn();if(typeof r=="function"){var o=r;if(r=o(),cs){mn(!0);try{o()}finally{mn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:r},a}function Uy(r,a,o,u){return r.baseState=o,Cd(r,nt,typeof u=="function"?u:mi)}function nS(r,a,o,u,f){if(Lc(r))throw Error(i(485));if(r=a.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};X.T!==null?o(!0):m.isTransition=!1,u(m),o=a.pending,o===null?(m.next=a.pending=m,By(a,m)):(m.next=o.next,a.pending=o.next=m)}}function By(r,a){var o=a.action,u=a.payload,f=r.state;if(a.isTransition){var m=X.T,E={};X.T=E;try{var w=o(f,u),O=X.S;O!==null&&O(E,w),zy(r,a,w)}catch(F){Od(r,a,F)}finally{X.T=m}}else try{m=o(f,u),zy(r,a,m)}catch(F){Od(r,a,F)}}function zy(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){jy(r,a,u)},function(u){return Od(r,a,u)}):jy(r,a,o)}function jy(r,a,o){a.status="fulfilled",a.value=o,qy(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,By(r,o)))}function Od(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,qy(a),a=a.next;while(a!==u)}r.action=null}function qy(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Hy(r,a){return a}function Fy(r,a){if(We){var o=ut.formState;if(o!==null){e:{var u=Ne;if(We){if(Et){t:{for(var f=Et,m=Ir;f.nodeType!==8;){if(!m){f=null;break t}if(f=ir(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Et=ir(f.nextSibling),u=f.data==="F!";break e}}ss(u)}u=!1}u&&(a=o[0])}}return o=bn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:a},o.queue=u,o=uv.bind(null,Ne,u),u.dispatch=o,u=Dd(!1),m=Pd.bind(null,Ne,!1,u.queue),u=bn(),f={state:a,dispatch:null,action:r,pending:null},u.queue=f,o=nS.bind(null,Ne,f,m,o),f.dispatch=o,u.memoizedState=r,[a,o,!1]}function Yy(r){var a=Ot();return Gy(a,nt,r)}function Gy(r,a,o){if(a=Cd(r,a,Hy)[0],r=kc(mi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=xl(a)}catch(E){throw E===Cl?Ic:E}else u=a;a=Ot();var f=a.queue,m=f.dispatch;return o!==a.memoizedState&&(Ne.flags|=2048,ao(9,Pc(),rS.bind(null,f,o),null)),[u,m,r]}function rS(r,a){r.action=a}function Wy(r){var a=Ot(),o=nt;if(o!==null)return Gy(a,o,r);Ot(),a=a.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function ao(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=Ad(),Ne.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function Pc(){return{destroy:void 0,resource:void 0}}function Qy(){return Ot().memoizedState}function Vc(r,a,o,u){var f=bn();u=u===void 0?null:u,Ne.flags|=r,f.memoizedState=ao(1|a,Pc(),o,u)}function kl(r,a,o,u){var f=Ot();u=u===void 0?null:u;var m=f.memoizedState.inst;nt!==null&&u!==null&&Ed(u,nt.memoizedState.deps)?f.memoizedState=ao(a,m,o,u):(Ne.flags|=r,f.memoizedState=ao(1|a,m,o,u))}function $y(r,a){Vc(8390656,8,r,a)}function Ky(r,a){kl(2048,8,r,a)}function Xy(r,a){return kl(4,2,r,a)}function Zy(r,a){return kl(4,4,r,a)}function Jy(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function ev(r,a,o){o=o!=null?o.concat([r]):null,kl(4,4,Jy.bind(null,a,r),o)}function Md(){}function tv(r,a){var o=Ot();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Ed(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function nv(r,a){var o=Ot();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Ed(a,u[1]))return u[0];if(u=r(),cs){mn(!0);try{r()}finally{mn(!1)}}return o.memoizedState=[u,a],u}function Nd(r,a,o){return o===void 0||(Qi&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=a_(),Ne.lanes|=r,ta|=r,o)}function rv(r,a,o,u){return Dn(o,a)?o:no.current!==null?(r=Nd(r,o,u),Dn(r,a)||(Gt=!0),r):(Qi&42)===0?(Gt=!0,r.memoizedState=o):(r=a_(),Ne.lanes|=r,ta|=r,a)}function iv(r,a,o,u,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var E=X.T,w={};X.T=w,Pd(r,!1,a,o);try{var O=f(),F=X.S;if(F!==null&&F(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=J1(O,u);Pl(r,a,Z,kn(r))}else Pl(r,a,u,kn(r))}catch(ee){Pl(r,a,{then:function(){},status:"rejected",reason:ee},kn())}finally{ce.p=m,X.T=E}}function iS(){}function xd(r,a,o,u){if(r.tag!==5)throw Error(i(476));var f=av(r).queue;iv(r,f,a,me,o===null?iS:function(){return sv(r),o(u)})}function av(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:me},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function sv(r){var a=av(r).next.queue;Pl(r,a,{},kn())}function kd(){return sn(Jl)}function ov(){return Ot().memoizedState}function lv(){return Ot().memoizedState}function aS(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=kn();r=Gi(o);var u=Wi(a,r,o);u!==null&&(Pn(u,a,o),Dl(u,a,o)),a={cache:cd()},r.payload=a;return}a=a.return}}function sS(r,a,o){var u=kn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lc(r)?cv(a,o):(o=ed(r,a,o,u),o!==null&&(Pn(o,r,u),hv(o,a,u)))}function uv(r,a,o){var u=kn();Pl(r,a,o,u)}function Pl(r,a,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lc(r))cv(a,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var E=a.lastRenderedState,w=m(E,o);if(f.hasEagerState=!0,f.eagerState=w,Dn(w,E))return Ec(r,a,f,0),ut===null&&_c(),!1}catch{}finally{}if(o=ed(r,a,f,u),o!==null)return Pn(o,r,u),hv(o,a,u),!0}return!1}function Pd(r,a,o,u){if(u={lane:2,revertLane:dm(),action:u,hasEagerState:!1,eagerState:null,next:null},Lc(r)){if(a)throw Error(i(479))}else a=ed(r,o,u,2),a!==null&&Pn(a,r,2)}function Lc(r){var a=r.alternate;return r===Ne||a!==null&&a===Ne}function cv(r,a){ro=Mc=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function hv(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,_t(r,o)}}var Uc={readContext:sn,use:xc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},fv={readContext:sn,use:xc,useCallback:function(r,a){return bn().memoizedState=[r,a===void 0?null:a],r},useContext:sn,useEffect:$y,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Vc(4194308,4,Jy.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Vc(4194308,4,r,a)},useInsertionEffect:function(r,a){Vc(4,2,r,a)},useMemo:function(r,a){var o=bn();a=a===void 0?null:a;var u=r();if(cs){mn(!0);try{r()}finally{mn(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=bn();if(o!==void 0){var f=o(a);if(cs){mn(!0);try{o(a)}finally{mn(!1)}}}else f=a;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=sS.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var a=bn();return r={current:r},a.memoizedState=r},useState:function(r){r=Dd(r);var a=r.queue,o=uv.bind(null,Ne,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Md,useDeferredValue:function(r,a){var o=bn();return Nd(o,r,a)},useTransition:function(){var r=Dd(!1);return r=iv.bind(null,Ne,r.queue,!0,!1),bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Ne,f=bn();if(We){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),ut===null)throw Error(i(349));(He&124)!==0||xy(u,a,o)}f.memoizedState=o;var m={value:o,getSnapshot:a};return f.queue=m,$y(Py.bind(null,u,m,r),[r]),u.flags|=2048,ao(9,Pc(),ky.bind(null,u,m,o,a),null),o},useId:function(){var r=bn(),a=ut.identifierPrefix;if(We){var o=hi,u=ci;o=(u&~(1<<32-qt(u)-1)).toString(32)+o,a=""+a+"R"+o,o=Nc++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=eS++,a=""+a+"r"+o.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:kd,useFormState:Fy,useActionState:Fy,useOptimistic:function(r){var a=bn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Pd.bind(null,Ne,!0,o),o.dispatch=a,[r,a]},useMemoCache:Rd,useCacheRefresh:function(){return bn().memoizedState=aS.bind(null,Ne)}},dv={readContext:sn,use:xc,useCallback:tv,useContext:sn,useEffect:Ky,useImperativeHandle:ev,useInsertionEffect:Xy,useLayoutEffect:Zy,useMemo:nv,useReducer:kc,useRef:Qy,useState:function(){return kc(mi)},useDebugValue:Md,useDeferredValue:function(r,a){var o=Ot();return rv(o,nt.memoizedState,r,a)},useTransition:function(){var r=kc(mi)[0],a=Ot().memoizedState;return[typeof r=="boolean"?r:xl(r),a]},useSyncExternalStore:Ny,useId:ov,useHostTransitionStatus:kd,useFormState:Yy,useActionState:Yy,useOptimistic:function(r,a){var o=Ot();return Uy(o,nt,r,a)},useMemoCache:Rd,useCacheRefresh:lv},oS={readContext:sn,use:xc,useCallback:tv,useContext:sn,useEffect:Ky,useImperativeHandle:ev,useInsertionEffect:Xy,useLayoutEffect:Zy,useMemo:nv,useReducer:Id,useRef:Qy,useState:function(){return Id(mi)},useDebugValue:Md,useDeferredValue:function(r,a){var o=Ot();return nt===null?Nd(o,r,a):rv(o,nt.memoizedState,r,a)},useTransition:function(){var r=Id(mi)[0],a=Ot().memoizedState;return[typeof r=="boolean"?r:xl(r),a]},useSyncExternalStore:Ny,useId:ov,useHostTransitionStatus:kd,useFormState:Wy,useActionState:Wy,useOptimistic:function(r,a){var o=Ot();return nt!==null?Uy(o,nt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:lv},so=null,Vl=0;function Bc(r){var a=Vl;return Vl+=1,so===null&&(so=[]),Sy(so,r,a)}function Ll(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function zc(r,a){throw a.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function mv(r){var a=r._init;return a(r._payload)}function gv(r){function a(B,P){if(r){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function o(B,P){if(!r)return null;for(;P!==null;)a(B,P),P=P.sibling;return null}function u(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=ui(B,P),B.index=0,B.sibling=null,B}function m(B,P,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function w(B,P,H,J){return P===null||P.tag!==6?(P=nd(H,B.mode,J),P.return=B,P):(P=f(P,H),P.return=B,P)}function O(B,P,H,J){var ge=H.type;return ge===I?Z(B,P,H.props.children,J,H.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&mv(ge)===P.type)?(P=f(P,H.props),Ll(P,H),P.return=B,P):(P=bc(H.type,H.key,H.props,null,B.mode,J),Ll(P,H),P.return=B,P)}function F(B,P,H,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=rd(H,B.mode,J),P.return=B,P):(P=f(P,H.children||[]),P.return=B,P)}function Z(B,P,H,J,ge){return P===null||P.tag!==7?(P=ns(H,B.mode,J,ge),P.return=B,P):(P=f(P,H),P.return=B,P)}function ee(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=nd(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return H=bc(P.type,P.key,P.props,null,B.mode,H),Ll(H,P),H.return=B,H;case C:return P=rd(P,B.mode,H),P.return=B,P;case A:var J=P._init;return P=J(P._payload),ee(B,P,H)}if(ot(P)||L(P))return P=ns(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return ee(B,Bc(P),H);if(P.$$typeof===Q)return ee(B,Rc(B,P),H);zc(B,P)}return null}function Y(B,P,H,J){var ge=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:w(B,P,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===ge?O(B,P,H,J):null;case C:return H.key===ge?F(B,P,H,J):null;case A:return ge=H._init,H=ge(H._payload),Y(B,P,H,J)}if(ot(H)||L(H))return ge!==null?null:Z(B,P,H,J,null);if(typeof H.then=="function")return Y(B,P,Bc(H),J);if(H.$$typeof===Q)return Y(B,P,Rc(B,H),J);zc(B,H)}return null}function W(B,P,H,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(H)||null,w(P,B,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return B=B.get(J.key===null?H:J.key)||null,O(P,B,J,ge);case C:return B=B.get(J.key===null?H:J.key)||null,F(P,B,J,ge);case A:var ke=J._init;return J=ke(J._payload),W(B,P,H,J,ge)}if(ot(J)||L(J))return B=B.get(H)||null,Z(P,B,J,ge,null);if(typeof J.then=="function")return W(B,P,H,Bc(J),ge);if(J.$$typeof===Q)return W(B,P,H,Rc(P,J),ge);zc(P,J)}return null}function Ae(B,P,H,J){for(var ge=null,ke=null,ye=P,be=P=0,Qt=null;ye!==null&&be<H.length;be++){ye.index>be?(Qt=ye,ye=null):Qt=ye.sibling;var Ye=Y(B,ye,H[be],J);if(Ye===null){ye===null&&(ye=Qt);break}r&&ye&&Ye.alternate===null&&a(B,ye),P=m(Ye,P,be),ke===null?ge=Ye:ke.sibling=Ye,ke=Ye,ye=Qt}if(be===H.length)return o(B,ye),We&&is(B,be),ge;if(ye===null){for(;be<H.length;be++)ye=ee(B,H[be],J),ye!==null&&(P=m(ye,P,be),ke===null?ge=ye:ke.sibling=ye,ke=ye);return We&&is(B,be),ge}for(ye=u(ye);be<H.length;be++)Qt=W(ye,B,be,H[be],J),Qt!==null&&(r&&Qt.alternate!==null&&ye.delete(Qt.key===null?be:Qt.key),P=m(Qt,P,be),ke===null?ge=Qt:ke.sibling=Qt,ke=Qt);return r&&ye.forEach(function(ca){return a(B,ca)}),We&&is(B,be),ge}function Te(B,P,H,J){if(H==null)throw Error(i(151));for(var ge=null,ke=null,ye=P,be=P=0,Qt=null,Ye=H.next();ye!==null&&!Ye.done;be++,Ye=H.next()){ye.index>be?(Qt=ye,ye=null):Qt=ye.sibling;var ca=Y(B,ye,Ye.value,J);if(ca===null){ye===null&&(ye=Qt);break}r&&ye&&ca.alternate===null&&a(B,ye),P=m(ca,P,be),ke===null?ge=ca:ke.sibling=ca,ke=ca,ye=Qt}if(Ye.done)return o(B,ye),We&&is(B,be),ge;if(ye===null){for(;!Ye.done;be++,Ye=H.next())Ye=ee(B,Ye.value,J),Ye!==null&&(P=m(Ye,P,be),ke===null?ge=Ye:ke.sibling=Ye,ke=Ye);return We&&is(B,be),ge}for(ye=u(ye);!Ye.done;be++,Ye=H.next())Ye=W(ye,B,be,Ye.value,J),Ye!==null&&(r&&Ye.alternate!==null&&ye.delete(Ye.key===null?be:Ye.key),P=m(Ye,P,be),ke===null?ge=Ye:ke.sibling=Ye,ke=Ye);return r&&ye.forEach(function(lA){return a(B,lA)}),We&&is(B,be),ge}function it(B,P,H,J){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var ge=H.key;P!==null;){if(P.key===ge){if(ge=H.type,ge===I){if(P.tag===7){o(B,P.sibling),J=f(P,H.props.children),J.return=B,B=J;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&mv(ge)===P.type){o(B,P.sibling),J=f(P,H.props),Ll(J,H),J.return=B,B=J;break e}o(B,P);break}else a(B,P);P=P.sibling}H.type===I?(J=ns(H.props.children,B.mode,J,H.key),J.return=B,B=J):(J=bc(H.type,H.key,H.props,null,B.mode,J),Ll(J,H),J.return=B,B=J)}return E(B);case C:e:{for(ge=H.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(B,P.sibling),J=f(P,H.children||[]),J.return=B,B=J;break e}else{o(B,P);break}else a(B,P);P=P.sibling}J=rd(H,B.mode,J),J.return=B,B=J}return E(B);case A:return ge=H._init,H=ge(H._payload),it(B,P,H,J)}if(ot(H))return Ae(B,P,H,J);if(L(H)){if(ge=L(H),typeof ge!="function")throw Error(i(150));return H=ge.call(H),Te(B,P,H,J)}if(typeof H.then=="function")return it(B,P,Bc(H),J);if(H.$$typeof===Q)return it(B,P,Rc(B,H),J);zc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(B,P.sibling),J=f(P,H),J.return=B,B=J):(o(B,P),J=nd(H,B.mode,J),J.return=B,B=J),E(B)):o(B,P)}return function(B,P,H,J){try{Vl=0;var ge=it(B,P,H,J);return so=null,ge}catch(ye){if(ye===Cl||ye===Ic)throw ye;var ke=On(29,ye,null,B.mode);return ke.lanes=J,ke.return=B,ke}finally{}}}var oo=gv(!0),pv=gv(!1),$n=re(null),Dr=null;function $i(r){var a=r.alternate;ie(Ut,Ut.current&1),ie($n,r),Dr===null&&(a===null||no.current!==null||a.memoizedState!==null)&&(Dr=r)}function yv(r){if(r.tag===22){if(ie(Ut,Ut.current),ie($n,r),Dr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Dr=r)}}else Ki()}function Ki(){ie(Ut,Ut.current),ie($n,$n.current)}function gi(r){ue($n),Dr===r&&(Dr=null),ue(Ut)}var Ut=re(0);function jc(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Am(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Vd(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ld={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=kn(),f=Gi(u);f.payload=a,o!=null&&(f.callback=o),a=Wi(r,f,u),a!==null&&(Pn(a,r,u),Dl(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=kn(),f=Gi(u);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=Wi(r,f,u),a!==null&&(Pn(a,r,u),Dl(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=kn(),u=Gi(o);u.tag=2,a!=null&&(u.callback=a),a=Wi(r,u,o),a!==null&&(Pn(a,r,o),Dl(a,r,o))}};function vv(r,a,o,u,f,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):a.prototype&&a.prototype.isPureReactComponent?!_l(o,u)||!_l(f,m):!0}function _v(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&Ld.enqueueReplaceState(a,a.state,null)}function hs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var qc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ev(r){qc(r)}function Tv(r){console.error(r)}function bv(r){qc(r)}function Hc(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function wv(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(r,a,o){return o=Gi(o),o.tag=3,o.payload={element:null},o.callback=function(){Hc(r,a)},o}function Sv(r){return r=Gi(r),r.tag=3,r}function Av(r,a,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){wv(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){wv(a,o,u),typeof f!="function"&&(na===null?na=new Set([this]):na.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function lS(r,a,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Sl(a,o,f,!0),o=$n.current,o!==null){switch(o.tag){case 13:return Dr===null?lm():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===dd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),cm(r,u,f)),!1;case 22:return o.flags|=65536,u===dd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),cm(r,u,f)),!1}throw Error(i(435,o.tag))}return cm(r,u,f),lm(),!1}if(We)return a=$n.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==sd&&(r=Error(i(422),{cause:u}),wl(Yn(r,o)))):(u!==sd&&(a=Error(i(423),{cause:u}),wl(Yn(a,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Yn(u,o),f=Ud(r.stateNode,u,f),pd(r,f),Tt!==4&&(Tt=2)),!1;var m=Error(i(520),{cause:u});if(m=Yn(m,o),Fl===null?Fl=[m]:Fl.push(m),Tt!==4&&(Tt=2),a===null)return!0;u=Yn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Ud(o.stateNode,u,r),pd(o,r),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(na===null||!na.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Sv(f),Av(f,r,o,u),pd(o,f),!1}o=o.return}while(o!==null);return!1}var Rv=Error(i(461)),Gt=!1;function Jt(r,a,o,u){a.child=r===null?pv(a,null,o,u):oo(a,r.child,o,u)}function Cv(r,a,o,u,f){o=o.render;var m=a.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return ls(a),u=Td(r,a,o,E,m,f),w=bd(),r!==null&&!Gt?(wd(r,a,f),pi(r,a,f)):(We&&w&&id(a),a.flags|=1,Jt(r,a,u,f),a.child)}function Iv(r,a,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!td(m)&&m.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=m,Dv(r,a,m,u,f)):(r=bc(o.type,null,u,a,a.mode,f),r.ref=a.ref,r.return=a,a.child=r)}if(m=r.child,!Gd(r,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:_l,o(E,u)&&r.ref===a.ref)return pi(r,a,f)}return a.flags|=1,r=ui(m,u),r.ref=a.ref,r.return=a,a.child=r}function Dv(r,a,o,u,f){if(r!==null){var m=r.memoizedProps;if(_l(m,u)&&r.ref===a.ref)if(Gt=!1,a.pendingProps=u=m,Gd(r,f))(r.flags&131072)!==0&&(Gt=!0);else return a.lanes=r.lanes,pi(r,a,f)}return Bd(r,a,o,u,f)}function Ov(r,a,o){var u=a.pendingProps,f=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(f=a.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;a.childLanes=m&~u}else a.childLanes=0,a.child=null;return Mv(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Cc(a,m!==null?m.cachePool:null),m!==null?Dy(a,m):vd(),yv(a);else return a.lanes=a.childLanes=536870912,Mv(r,a,m!==null?m.baseLanes|o:o,o)}else m!==null?(Cc(a,m.cachePool),Dy(a,m),Ki(),a.memoizedState=null):(r!==null&&Cc(a,null),vd(),Ki());return Jt(r,a,f,o),a.child}function Mv(r,a,o,u){var f=fd();return f=f===null?null:{parent:Lt._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},r!==null&&Cc(a,null),vd(),yv(a),r!==null&&Sl(r,a,u,!0),null}function Fc(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Bd(r,a,o,u,f){return ls(a),o=Td(r,a,o,u,void 0,f),u=bd(),r!==null&&!Gt?(wd(r,a,f),pi(r,a,f)):(We&&u&&id(a),a.flags|=1,Jt(r,a,o,f),a.child)}function Nv(r,a,o,u,f,m){return ls(a),a.updateQueue=null,o=My(a,u,o,f),Oy(r),u=bd(),r!==null&&!Gt?(wd(r,a,m),pi(r,a,m)):(We&&u&&id(a),a.flags|=1,Jt(r,a,o,m),a.child)}function xv(r,a,o,u,f){if(ls(a),a.stateNode===null){var m=Xs,E=o.contextType;typeof E=="object"&&E!==null&&(m=sn(E)),m=new o(u,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ld,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=u,m.state=a.memoizedState,m.refs={},md(a),E=o.contextType,m.context=typeof E=="object"&&E!==null?sn(E):Xs,m.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Vd(a,o,E,u),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Ld.enqueueReplaceState(m,m.state,null),Ml(a,u,m,f),Ol(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){m=a.stateNode;var w=a.memoizedProps,O=hs(o,w);m.props=O;var F=m.context,Z=o.contextType;E=Xs,typeof Z=="object"&&Z!==null&&(E=sn(Z));var ee=o.getDerivedStateFromProps;Z=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==E)&&_v(a,m,u,E),Yi=!1;var Y=a.memoizedState;m.state=Y,Ml(a,u,m,f),Ol(),F=a.memoizedState,w||Y!==F||Yi?(typeof ee=="function"&&(Vd(a,o,ee,u),F=a.memoizedState),(O=Yi||vv(a,o,O,u,Y,F,E))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=F),m.props=u,m.state=F,m.context=E,u=O):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{m=a.stateNode,gd(r,a),E=a.memoizedProps,Z=hs(o,E),m.props=Z,ee=a.pendingProps,Y=m.context,F=o.contextType,O=Xs,typeof F=="object"&&F!==null&&(O=sn(F)),w=o.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ee||Y!==O)&&_v(a,m,u,O),Yi=!1,Y=a.memoizedState,m.state=Y,Ml(a,u,m,f),Ol();var W=a.memoizedState;E!==ee||Y!==W||Yi||r!==null&&r.dependencies!==null&&Ac(r.dependencies)?(typeof w=="function"&&(Vd(a,o,w,u),W=a.memoizedState),(Z=Yi||vv(a,o,Z,u,Y,W,O)||r!==null&&r.dependencies!==null&&Ac(r.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,W,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,W,O)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),m.props=u,m.state=W,m.context=O,u=Z):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),u=!1)}return m=u,Fc(r,a),u=(a.flags&128)!==0,m||u?(m=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,r!==null&&u?(a.child=oo(a,r.child,null,f),a.child=oo(a,null,o,f)):Jt(r,a,o,f),a.memoizedState=m.state,r=a.child):r=pi(r,a,f),r}function kv(r,a,o,u){return bl(),a.flags|=256,Jt(r,a,o,u),a.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(r){return{baseLanes:r,cachePool:Ty()}}function qd(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Kn),r}function Pv(r,a,o){var u=a.pendingProps,f=!1,m=(a.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),E&&(f=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(We){if(f?$i(a):Ki(),We){var w=Et,O;if(O=w){e:{for(O=w,w=Ir;O.nodeType!==8;){if(!w){w=null;break e}if(O=ir(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(a.memoizedState={dehydrated:w,treeContext:rs!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},O=On(18,null,null,0),O.stateNode=w,O.return=a,a.child=O,_n=a,Et=null,O=!0):O=!1}O||ss(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Am(w)?a.lanes=32:a.lanes=536870912,null;gi(a)}return w=u.children,u=u.fallback,f?(Ki(),f=a.mode,w=Yc({mode:"hidden",children:w},f),u=ns(u,f,o,null),w.return=a,u.return=a,w.sibling=u,a.child=w,f=a.child,f.memoizedState=jd(o),f.childLanes=qd(r,E,o),a.memoizedState=zd,u):($i(a),Hd(a,w))}if(O=r.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(m)a.flags&256?($i(a),a.flags&=-257,a=Fd(r,a,o)):a.memoizedState!==null?(Ki(),a.child=r.child,a.flags|=128,a=null):(Ki(),f=u.fallback,w=a.mode,u=Yc({mode:"visible",children:u.children},w),f=ns(f,w,o,null),f.flags|=2,u.return=a,f.return=a,u.sibling=f,a.child=u,oo(a,r.child,null,o),u=a.child,u.memoizedState=jd(o),u.childLanes=qd(r,E,o),a.memoizedState=zd,a=f);else if($i(a),Am(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(i(419)),u.stack="",u.digest=E,wl({value:u,source:null,stack:null}),a=Fd(r,a,o)}else if(Gt||Sl(r,a,o,!1),E=(o&r.childLanes)!==0,Gt||E){if(E=ut,E!==null&&(u=o&-o,u=(u&42)!==0?1:kt(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,Ks(r,u),Pn(E,r,u),Rv;w.data==="$?"||lm(),a=Fd(r,a,o)}else w.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=O.treeContext,Et=ir(w.nextSibling),_n=a,We=!0,as=null,Ir=!1,r!==null&&(Wn[Qn++]=ci,Wn[Qn++]=hi,Wn[Qn++]=rs,ci=r.id,hi=r.overflow,rs=a),a=Hd(a,u.children),a.flags|=4096);return a}return f?(Ki(),f=u.fallback,w=a.mode,O=r.child,F=O.sibling,u=ui(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,F!==null?f=ui(F,f):(f=ns(f,w,o,null),f.flags|=2),f.return=a,u.return=a,u.sibling=f,a.child=u,u=f,f=a.child,w=r.child.memoizedState,w===null?w=jd(o):(O=w.cachePool,O!==null?(F=Lt._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=Ty(),w={baseLanes:w.baseLanes|o,cachePool:O}),f.memoizedState=w,f.childLanes=qd(r,E,o),a.memoizedState=zd,u):($i(a),o=r.child,r=o.sibling,o=ui(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function Hd(r,a){return a=Yc({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Yc(r,a){return r=On(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Fd(r,a,o){return oo(a,r.child,null,o),r=Hd(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Vv(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),ld(r.return,a,o)}function Yd(r,a,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function Lv(r,a,o){var u=a.pendingProps,f=u.revealOrder,m=u.tail;if(Jt(r,a,u.children,o),u=Ut.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vv(r,o,a);else if(r.tag===19)Vv(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ie(Ut,u),f){case"forwards":for(o=a.child,f=null;o!==null;)r=o.alternate,r!==null&&jc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),Yd(a,!1,f,o,m);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(r=f.alternate,r!==null&&jc(r)===null){a.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Yd(a,!0,o,null,m);break;case"together":Yd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function pi(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ta|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Sl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=ui(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=ui(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Gd(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Ac(r)))}function uS(r,a,o){switch(a.tag){case 3:Xe(a,a.stateNode.containerInfo),Fi(a,Lt,r.memoizedState.cache),bl();break;case 27:case 5:mr(a);break;case 4:Xe(a,a.stateNode.containerInfo);break;case 10:Fi(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?($i(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Pv(r,a,o):($i(a),r=pi(r,a,o),r!==null?r.sibling:null);$i(a);break;case 19:var f=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Sl(r,a,o,!1),u=(o&a.childLanes)!==0),f){if(u)return Lv(r,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(Ut,Ut.current),u)break;return null;case 22:case 23:return a.lanes=0,Ov(r,a,o);case 24:Fi(a,Lt,r.memoizedState.cache)}return pi(r,a,o)}function Uv(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Gt=!0;else{if(!Gd(r,o)&&(a.flags&128)===0)return Gt=!1,uS(r,a,o);Gt=(r.flags&131072)!==0}else Gt=!1,We&&(a.flags&1048576)!==0&&my(a,Sc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,f=u._init;if(u=f(u._payload),a.type=u,typeof u=="function")td(u)?(r=hs(u,r),a.tag=1,a=xv(null,a,u,r,o)):(a.tag=0,a=Bd(null,a,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===se){a.tag=11,a=Cv(null,a,u,r,o);break e}else if(f===D){a.tag=14,a=Iv(null,a,u,r,o);break e}}throw a=Rt(u)||u,Error(i(306,a,""))}}return a;case 0:return Bd(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,f=hs(u,a.pendingProps),xv(r,a,u,f,o);case 3:e:{if(Xe(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var m=a.memoizedState;f=m.element,gd(r,a),Ml(a,u,null,o);var E=a.memoizedState;if(u=E.cache,Fi(a,Lt,u),u!==m.cache&&ud(a,[Lt],o,!0),Ol(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=kv(r,a,u,o);break e}else if(u!==f){f=Yn(Error(i(424)),a),wl(f),a=kv(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Et=ir(r.firstChild),_n=a,We=!0,as=null,Ir=!0,o=pv(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(bl(),u===f){a=pi(r,a,o);break e}Jt(r,a,u,o)}a=a.child}return a;case 26:return Fc(r,a),r===null?(o=q_(a.type,null,a.pendingProps,null))?a.memoizedState=o:We||(o=a.type,r=a.pendingProps,u=ah(Ee.current).createElement(o),u[gt]=a,u[ft]=r,tn(u,o,r),bt(u),a.stateNode=u):a.memoizedState=q_(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return mr(a),r===null&&We&&(u=a.stateNode=B_(a.type,a.pendingProps,Ee.current),_n=a,Ir=!0,f=Et,aa(a.type)?(Rm=f,Et=ir(u.firstChild)):Et=f),Jt(r,a,a.pendingProps.children,o),Fc(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&We&&((f=u=Et)&&(u=LS(u,a.type,a.pendingProps,Ir),u!==null?(a.stateNode=u,_n=a,Et=ir(u.firstChild),Ir=!1,f=!0):f=!1),f||ss(a)),mr(a),f=a.type,m=a.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,bm(f,m)?u=null:E!==null&&bm(f,E)&&(a.flags|=32),a.memoizedState!==null&&(f=Td(r,a,tS,null,null,o),Jl._currentValue=f),Fc(r,a),Jt(r,a,u,o),a.child;case 6:return r===null&&We&&((r=o=Et)&&(o=US(o,a.pendingProps,Ir),o!==null?(a.stateNode=o,_n=a,Et=null,r=!0):r=!1),r||ss(a)),null;case 13:return Pv(r,a,o);case 4:return Xe(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=oo(a,null,u,o):Jt(r,a,u,o),a.child;case 11:return Cv(r,a,a.type,a.pendingProps,o);case 7:return Jt(r,a,a.pendingProps,o),a.child;case 8:return Jt(r,a,a.pendingProps.children,o),a.child;case 12:return Jt(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,Fi(a,a.type,u.value),Jt(r,a,u.children,o),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,ls(a),f=sn(f),u=u(f),a.flags|=1,Jt(r,a,u,o),a.child;case 14:return Iv(r,a,a.type,a.pendingProps,o);case 15:return Dv(r,a,a.type,a.pendingProps,o);case 19:return Lv(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=Yc(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ui(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Ov(r,a,o);case 24:return ls(a),u=sn(Lt),r===null?(f=fd(),f===null&&(f=ut,m=cd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),a.memoizedState={parent:u,cache:f},md(a),Fi(a,Lt,f)):((r.lanes&o)!==0&&(gd(r,a),Ml(a,null,null,o),Ol()),f=r.memoizedState,m=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Fi(a,Lt,u)):(u=m.cache,Fi(a,Lt,u),u!==f.cache&&ud(a,[Lt],o,!0))),Jt(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function yi(r){r.flags|=4}function Bv(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!W_(a)){if(a=$n.current,a!==null&&((He&4194048)===He?Dr!==null:(He&62914560)!==He&&(He&536870912)===0||a!==Dr))throw Il=dd,by;r.flags|=8192}}function Gc(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Qe():536870912,r.lanes|=a,ho|=a)}function Ul(r,a){if(!We)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function pt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function cS(r,a,o){var u=a.pendingProps;switch(ad(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(a),null;case 1:return pt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),di(Lt),dn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Tl(a)?yi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,yy())),pt(a),null;case 26:return o=a.memoizedState,r===null?(yi(a),o!==null?(pt(a),Bv(a,o)):(pt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(yi(a),pt(a),Bv(a,o)):(pt(a),a.flags&=-16777217):(r.memoizedProps!==u&&yi(a),pt(a),a.flags&=-16777217),null;case 27:Jn(a),o=Ee.current;var f=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&yi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return pt(a),null}r=pe.current,Tl(a)?gy(a):(r=B_(f,u,o),a.stateNode=r,yi(a))}return pt(a),null;case 5:if(Jn(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&yi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return pt(a),null}if(r=pe.current,Tl(a))gy(a);else{switch(f=ah(Ee.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[gt]=a,r[ft]=u;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=r;e:switch(tn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yi(a)}}return pt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&yi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ee.current,Tl(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,f=_n,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[gt]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||N_(r.nodeValue,o)),r||ss(a)}else r=ah(r).createTextNode(u),r[gt]=a,a.stateNode=r}return pt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Tl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[gt]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pt(a),f=!1}else f=yy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(gi(a),a):(gi(a),null)}if(gi(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),Gc(a,a.updateQueue),pt(a),null;case 4:return dn(),r===null&&ym(a.stateNode.containerInfo),pt(a),null;case 10:return di(a.type),pt(a),null;case 19:if(ue(Ut),f=a.memoizedState,f===null)return pt(a),null;if(u=(a.flags&128)!==0,m=f.rendering,m===null)if(u)Ul(f,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(m=jc(r),m!==null){for(a.flags|=128,Ul(f,!1),r=m.updateQueue,a.updateQueue=r,Gc(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)dy(o,r),o=o.sibling;return ie(Ut,Ut.current&1|2),a.child}r=r.sibling}f.tail!==null&&Tn()>$c&&(a.flags|=128,u=!0,Ul(f,!1),a.lanes=4194304)}else{if(!u)if(r=jc(m),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,Gc(a,r),Ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!We)return pt(a),null}else 2*Tn()-f.renderingStartTime>$c&&o!==536870912&&(a.flags|=128,u=!0,Ul(f,!1),a.lanes=4194304);f.isBackwards?(m.sibling=a.child,a.child=m):(r=f.last,r!==null?r.sibling=m:a.child=m,f.last=m)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Tn(),a.sibling=null,r=Ut.current,ie(Ut,u?r&1|2:r&1),a):(pt(a),null);case 22:case 23:return gi(a),_d(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(pt(a),a.subtreeFlags&6&&(a.flags|=8192)):pt(a),o=a.updateQueue,o!==null&&Gc(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&ue(us),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),di(Lt),pt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function hS(r,a){switch(ad(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return di(Lt),dn(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Jn(a),null;case 13:if(gi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));bl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ue(Ut),null;case 4:return dn(),null;case 10:return di(a.type),null;case 22:case 23:return gi(a),_d(),r!==null&&ue(us),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return di(Lt),null;case 25:return null;default:return null}}function zv(r,a){switch(ad(a),a.tag){case 3:di(Lt),dn();break;case 26:case 27:case 5:Jn(a);break;case 4:dn();break;case 13:gi(a);break;case 19:ue(Ut);break;case 10:di(a.type);break;case 22:case 23:gi(a),_d(),r!==null&&ue(us);break;case 24:di(Lt)}}function Bl(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){st(a,a.return,w)}}function Xi(r,a,o){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=a;var O=o,F=w;try{F()}catch(Z){st(f,O,Z)}}}u=u.next}while(u!==m)}}catch(Z){st(a,a.return,Z)}}function jv(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Iy(a,o)}catch(u){st(r,r.return,u)}}}function qv(r,a,o){o.props=hs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){st(r,a,u)}}function zl(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){st(r,a,f)}}function Or(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){st(r,a,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){st(r,a,f)}else o.current=null}function Hv(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){st(r,r.return,f)}}function Wd(r,a,o){try{var u=r.stateNode;NS(u,r.type,o,a),u[ft]=a}catch(f){st(r,r.return,f)}}function Fv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&aa(r.type)||r.tag===4}function Qd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&aa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $d(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ih));else if(u!==4&&(u===27&&aa(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for($d(r,a,o),r=r.sibling;r!==null;)$d(r,a,o),r=r.sibling}function Wc(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&aa(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Wc(r,a,o),r=r.sibling;r!==null;)Wc(r,a,o),r=r.sibling}function Yv(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);tn(a,u,o),a[gt]=r,a[ft]=o}catch(m){st(r,r.return,m)}}var vi=!1,St=!1,Kd=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function fS(r,a){if(r=r.containerInfo,Em=hh,r=ry(r),Qf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,w=-1,O=-1,F=0,Z=0,ee=r,Y=null;t:for(;;){for(var W;ee!==o||f!==0&&ee.nodeType!==3||(w=E+f),ee!==m||u!==0&&ee.nodeType!==3||(O=E+u),ee.nodeType===3&&(E+=ee.nodeValue.length),(W=ee.firstChild)!==null;)Y=ee,ee=W;for(;;){if(ee===r)break t;if(Y===o&&++F===f&&(w=E),Y===m&&++Z===u&&(O=E),(W=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=W}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:r,selectionRange:o},hh=!1,Wt=a;Wt!==null;)if(a=Wt,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Wt=r;else for(;Wt!==null;){switch(a=Wt,m=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=a,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Ae=hs(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ae,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){st(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Sm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Wt=r;break}Wt=a.return}}function Wv(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Zi(r,o),u&4&&Bl(5,o);break;case 1:if(Zi(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){st(o,o.return,E)}else{var f=hs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(f,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){st(o,o.return,E)}}u&64&&jv(o),u&512&&zl(o,o.return);break;case 3:if(Zi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Iy(r,a)}catch(E){st(o,o.return,E)}}break;case 27:a===null&&u&4&&Yv(o);case 26:case 5:Zi(r,o),a===null&&u&4&&Hv(o),u&512&&zl(o,o.return);break;case 12:Zi(r,o);break;case 13:Zi(r,o),u&4&&Kv(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=TS.bind(null,o),BS(r,o))));break;case 22:if(u=o.memoizedState!==null||vi,!u){a=a!==null&&a.memoizedState!==null||St,f=vi;var m=St;vi=u,(St=a)&&!m?Ji(r,o,(o.subtreeFlags&8772)!==0):Zi(r,o),vi=f,St=m}break;case 30:break;default:Zi(r,o)}}function Qv(r){var a=r.alternate;a!==null&&(r.alternate=null,Qv(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&zi(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,wn=!1;function _i(r,a,o){for(o=o.child;o!==null;)$v(r,a,o),o=o.sibling}function $v(r,a,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ht,o)}catch{}switch(o.tag){case 26:St||Or(o,a),_i(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Or(o,a);var u=dt,f=wn;aa(o.type)&&(dt=o.stateNode,wn=!1),_i(r,a,o),$l(o.stateNode),dt=u,wn=f;break;case 5:St||Or(o,a);case 6:if(u=dt,f=wn,dt=null,_i(r,a,o),dt=u,wn=f,dt!==null)if(wn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(m){st(o,a,m)}else try{dt.removeChild(o.stateNode)}catch(m){st(o,a,m)}break;case 18:dt!==null&&(wn?(r=dt,L_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ru(r)):L_(dt,o.stateNode));break;case 4:u=dt,f=wn,dt=o.stateNode.containerInfo,wn=!0,_i(r,a,o),dt=u,wn=f;break;case 0:case 11:case 14:case 15:St||Xi(2,o,a),St||Xi(4,o,a),_i(r,a,o);break;case 1:St||(Or(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&qv(o,a,u)),_i(r,a,o);break;case 21:_i(r,a,o);break;case 22:St=(u=St)||o.memoizedState!==null,_i(r,a,o),St=u;break;default:_i(r,a,o)}}function Kv(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ru(r)}catch(o){st(a,a.return,o)}}function dS(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Gv),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Gv),a;default:throw Error(i(435,r.tag))}}function Xd(r,a){var o=dS(r);a.forEach(function(u){var f=bS.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Mn(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,E=a,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(aa(w.type)){dt=w.stateNode,wn=!1;break e}break;case 5:dt=w.stateNode,wn=!1;break e;case 3:case 4:dt=w.stateNode.containerInfo,wn=!0;break e}w=w.return}if(dt===null)throw Error(i(160));$v(m,E,f),dt=null,wn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Xv(a,r),a=a.sibling}var rr=null;function Xv(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(a,r),Nn(r),u&4&&(Xi(3,r,r.return),Bl(3,r),Xi(5,r,r.return));break;case 1:Mn(a,r),Nn(r),u&512&&(St||o===null||Or(o,o.return)),u&64&&vi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=rr;if(Mn(a,r),Nn(r),u&512&&(St||o===null||Or(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[za]||m[gt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),tn(m,u,o),m[gt]=r,bt(m),u=m;break e;case"link":var E=Y_("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(u),tn(m,u,o),f.head.appendChild(m);break;case"meta":if(E=Y_("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}m=f.createElement(u),tn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[gt]=r,bt(m),u=m}r.stateNode=u}else G_(f,r.type,r.stateNode);else r.stateNode=F_(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?G_(f,r.type,r.stateNode):F_(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Wd(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(a,r),Nn(r),u&512&&(St||o===null||Or(o,o.return)),o!==null&&u&4&&Wd(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(a,r),Nn(r),u&512&&(St||o===null||Or(o,o.return)),r.flags&32){f=r.stateNode;try{jn(f,"")}catch(W){st(r,r.return,W)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Wd(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Kd=!0);break;case 6:if(Mn(a,r),Nn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){st(r,r.return,W)}}break;case 3:if(lh=null,f=rr,rr=sh(a.containerInfo),Mn(a,r),rr=f,Nn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ru(a.containerInfo)}catch(W){st(r,r.return,W)}Kd&&(Kd=!1,Zv(r));break;case 4:u=rr,rr=sh(r.stateNode.containerInfo),Mn(a,r),Nn(r),rr=u;break;case 12:Mn(a,r),Nn(r);break;case 13:Mn(a,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rm=Tn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Xd(r,u)));break;case 22:f=r.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,F=vi,Z=St;if(vi=F||f,St=Z||O,Mn(a,r),St=Z,vi=F,Nn(r),u&8192)e:for(a=r.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||O||vi||St||fs(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){O=o=a;try{if(m=O.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=O.stateNode;var ee=O.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(W){st(O,O.return,W)}}}else if(a.tag===6){if(o===null){O=a;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(W){st(O,O.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Xd(r,o))));break;case 19:Mn(a,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Xd(r,u)));break;case 30:break;case 21:break;default:Mn(a,r),Nn(r)}}function Nn(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(Fv(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=Qd(r);Wc(r,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(jn(E,""),o.flags&=-33);var w=Qd(r);Wc(r,w,E);break;case 3:case 4:var O=o.stateNode.containerInfo,F=Qd(r);$d(r,F,O);break;default:throw Error(i(161))}}catch(Z){st(r,r.return,Z)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Zv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Zv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Zi(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Wv(r,a.alternate,a),a=a.sibling}function fs(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Xi(4,a,a.return),fs(a);break;case 1:Or(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&qv(a,a.return,o),fs(a);break;case 27:$l(a.stateNode);case 26:case 5:Or(a,a.return),fs(a);break;case 22:a.memoizedState===null&&fs(a);break;case 30:fs(a);break;default:fs(a)}r=r.sibling}}function Ji(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=r,m=a,E=m.flags;switch(m.tag){case 0:case 11:case 15:Ji(f,m,o),Bl(4,m);break;case 1:if(Ji(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){st(u,u.return,F)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Cy(O[f],w)}catch(F){st(u,u.return,F)}}o&&E&64&&jv(m),zl(m,m.return);break;case 27:Yv(m);case 26:case 5:Ji(f,m,o),o&&u===null&&E&4&&Hv(m),zl(m,m.return);break;case 12:Ji(f,m,o);break;case 13:Ji(f,m,o),o&&E&4&&Kv(f,m);break;case 22:m.memoizedState===null&&Ji(f,m,o),zl(m,m.return);break;case 30:break;default:Ji(f,m,o)}a=a.sibling}}function Zd(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Al(o))}function Jd(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Al(r))}function Mr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jv(r,a,o,u),a=a.sibling}function Jv(r,a,o,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Mr(r,a,o,u),f&2048&&Bl(9,a);break;case 1:Mr(r,a,o,u);break;case 3:Mr(r,a,o,u),f&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Al(r)));break;case 12:if(f&2048){Mr(r,a,o,u),r=a.stateNode;try{var m=a.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){st(a,a.return,O)}}else Mr(r,a,o,u);break;case 13:Mr(r,a,o,u);break;case 23:break;case 22:m=a.stateNode,E=a.alternate,a.memoizedState!==null?m._visibility&2?Mr(r,a,o,u):jl(r,a):m._visibility&2?Mr(r,a,o,u):(m._visibility|=2,lo(r,a,o,u,(a.subtreeFlags&10256)!==0)),f&2048&&Zd(E,a);break;case 24:Mr(r,a,o,u),f&2048&&Jd(a.alternate,a);break;default:Mr(r,a,o,u)}}function lo(r,a,o,u,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=r,E=a,w=o,O=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:lo(m,E,w,O,f),Bl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?lo(m,E,w,O,f):jl(m,E):(Z._visibility|=2,lo(m,E,w,O,f)),f&&F&2048&&Zd(E.alternate,E);break;case 24:lo(m,E,w,O,f),f&&F&2048&&Jd(E.alternate,E);break;default:lo(m,E,w,O,f)}a=a.sibling}}function jl(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,f=u.flags;switch(u.tag){case 22:jl(o,u),f&2048&&Zd(u.alternate,u);break;case 24:jl(o,u),f&2048&&Jd(u.alternate,u);break;default:jl(o,u)}a=a.sibling}}var ql=8192;function uo(r){if(r.subtreeFlags&ql)for(r=r.child;r!==null;)e_(r),r=r.sibling}function e_(r){switch(r.tag){case 26:uo(r),r.flags&ql&&r.memoizedState!==null&&ZS(rr,r.memoizedState,r.memoizedProps);break;case 5:uo(r);break;case 3:case 4:var a=rr;rr=sh(r.stateNode.containerInfo),uo(r),rr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=ql,ql=16777216,uo(r),ql=a):uo(r));break;default:uo(r)}}function t_(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Hl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Wt=u,r_(u,r)}t_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n_(r),r=r.sibling}function n_(r){switch(r.tag){case 0:case 11:case 15:Hl(r),r.flags&2048&&Xi(9,r,r.return);break;case 3:Hl(r);break;case 12:Hl(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Qc(r)):Hl(r);break;default:Hl(r)}}function Qc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Wt=u,r_(u,r)}t_(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Xi(8,a,a.return),Qc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Qc(a));break;default:Qc(a)}r=r.sibling}}function r_(r,a){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:Xi(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Al(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=r;Wt!==null;){u=Wt;var f=u.sibling,m=u.return;if(Qv(u),u===o){Wt=null;break e}if(f!==null){f.return=m,Wt=f;break e}Wt=m}}}var mS={getCacheForType:function(r){var a=sn(Lt),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},gS=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ut=null,Pe=null,He=0,Je=0,xn=null,ea=!1,co=!1,em=!1,Ei=0,Tt=0,ta=0,ds=0,tm=0,Kn=0,ho=0,Fl=null,Sn=null,nm=!1,rm=0,$c=1/0,Kc=null,na=null,en=0,ra=null,fo=null,mo=0,im=0,am=null,i_=null,Yl=0,sm=null;function kn(){if((Ze&2)!==0&&He!==0)return He&-He;if(X.T!==null){var r=eo;return r!==0?r:dm()}return yr()}function a_(){Kn===0&&(Kn=(He&536870912)===0||We?De():536870912);var r=$n.current;return r!==null&&(r.flags|=32),Kn}function Pn(r,a,o){(r===ut&&(Je===2||Je===9)||r.cancelPendingCommit!==null)&&(go(r,0),ia(r,He,Kn,!1)),Ht(r,o),((Ze&2)===0||r!==ut)&&(r===ut&&((Ze&2)===0&&(ds|=o),Tt===4&&ia(r,He,Kn,!1)),Nr(r))}function s_(r,a,o){if((Ze&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Zr(r,a),f=u?vS(r,a):um(r,a,!0),m=u;do{if(f===0){co&&!u&&ia(r,a,0,!1);break}else{if(o=r.current.alternate,m&&!pS(o)){f=um(r,a,!1),m=!1;continue}if(f===2){if(m=a,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var w=r;f=Fl;var O=w.current.memoizedState.isDehydrated;if(O&&(go(w,E).flags|=256),E=um(w,E,!1),E!==2){if(em&&!O){w.errorRecoveryDisabledLanes|=m,ds|=m,f=4;break e}m=Sn,Sn=f,m!==null&&(Sn===null?Sn=m:Sn.push.apply(Sn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){go(r,0),ia(r,a,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ia(u,a,Kn,!ea);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=rm+300-Tn(),10<f)){if(ia(u,a,Kn,!ea),Xr(u,0,!0)!==0)break e;u.timeoutHandle=P_(o_.bind(null,u,o,Sn,Kc,nm,a,Kn,ds,ho,ea,m,2,-0,0),f);break e}o_(u,o,Sn,Kc,nm,a,Kn,ds,ho,ea,m,0,-0,0)}}break}while(!0);Nr(r)}function o_(r,a,o,u,f,m,E,w,O,F,Z,ee,Y,W){if(r.timeoutHandle=-1,ee=a.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:XS},e_(a),ee=JS(),ee!==null)){r.cancelPendingCommit=ee(m_.bind(null,r,a,m,o,u,f,E,w,O,Z,1,Y,W)),ia(r,m,E,!F);return}m_(r,a,m,o,u,f,E,w,O)}function pS(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Dn(m(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ia(r,a,o,u){a&=~tm,a&=~ds,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var f=a;0<f;){var m=31-qt(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&gn(r,o,a)}function Xc(){return(Ze&6)===0?(Gl(0),!1):!0}function om(){if(Pe!==null){if(Je===0)var r=Pe.return;else r=Pe,fi=os=null,Sd(r),so=null,Vl=0,r=Pe;for(;r!==null;)zv(r.alternate,r),r=r.return;Pe=null}}function go(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,kS(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),om(),ut=r,Pe=o=ui(r.current,null),He=a,Je=0,xn=null,ea=!1,co=Zr(r,a),em=!1,ho=Kn=tm=ds=ta=Tt=0,Sn=Fl=null,nm=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var f=31-qt(u),m=1<<f;a|=r[f],u&=~m}return Ei=a,_c(),o}function l_(r,a){Ne=null,X.H=Uc,a===Cl||a===Ic?(a=Ay(),Je=3):a===by?(a=Ay(),Je=4):Je=a===Rv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,xn=a,Pe===null&&(Tt=1,Hc(r,Yn(a,r.current)))}function u_(){var r=X.H;return X.H=Uc,r===null?Uc:r}function c_(){var r=X.A;return X.A=mS,r}function lm(){Tt=4,ea||(He&4194048)!==He&&$n.current!==null||(co=!0),(ta&134217727)===0&&(ds&134217727)===0||ut===null||ia(ut,He,Kn,!1)}function um(r,a,o){var u=Ze;Ze|=2;var f=u_(),m=c_();(ut!==r||He!==a)&&(Kc=null,go(r,a)),a=!1;var E=Tt;e:do try{if(Je!==0&&Pe!==null){var w=Pe,O=xn;switch(Je){case 8:om(),E=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(a=!0);var F=Je;if(Je=0,xn=null,po(r,w,O,F),o&&co){E=0;break e}break;default:F=Je,Je=0,xn=null,po(r,w,O,F)}}yS(),E=Tt;break}catch(Z){l_(r,Z)}while(!0);return a&&r.shellSuspendCounter++,fi=os=null,Ze=u,X.H=f,X.A=m,Pe===null&&(ut=null,He=0,_c()),E}function yS(){for(;Pe!==null;)h_(Pe)}function vS(r,a){var o=Ze;Ze|=2;var u=u_(),f=c_();ut!==r||He!==a?(Kc=null,$c=Tn()+500,go(r,a)):co=Zr(r,a);e:do try{if(Je!==0&&Pe!==null){a=Pe;var m=xn;t:switch(Je){case 1:Je=0,xn=null,po(r,a,m,1);break;case 2:case 9:if(wy(m)){Je=0,xn=null,f_(a);break}a=function(){Je!==2&&Je!==9||ut!==r||(Je=7),Nr(r)},m.then(a,a);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:wy(m)?(Je=0,xn=null,f_(a)):(Je=0,xn=null,po(r,a,m,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var w=Pe;if(!E||W_(E)){Je=0,xn=null;var O=w.sibling;if(O!==null)Pe=O;else{var F=w.return;F!==null?(Pe=F,Zc(F)):Pe=null}break t}}Je=0,xn=null,po(r,a,m,5);break;case 6:Je=0,xn=null,po(r,a,m,6);break;case 8:om(),Tt=6;break e;default:throw Error(i(462))}}_S();break}catch(Z){l_(r,Z)}while(!0);return fi=os=null,X.H=u,X.A=f,Ze=o,Pe!==null?0:(ut=null,He=0,_c(),Tt)}function _S(){for(;Pe!==null&&!Ua();)h_(Pe)}function h_(r){var a=Uv(r.alternate,r,Ei);r.memoizedProps=r.pendingProps,a===null?Zc(r):Pe=a}function f_(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=Nv(o,a,a.pendingProps,a.type,void 0,He);break;case 11:a=Nv(o,a,a.pendingProps,a.type.render,a.ref,He);break;case 5:Sd(a);default:zv(o,a),a=Pe=dy(a,Ei),a=Uv(o,a,Ei)}r.memoizedProps=r.pendingProps,a===null?Zc(r):Pe=a}function po(r,a,o,u){fi=os=null,Sd(a),so=null,Vl=0;var f=a.return;try{if(lS(r,f,a,o,He)){Tt=1,Hc(r,Yn(o,r.current)),Pe=null;return}}catch(m){if(f!==null)throw Pe=f,m;Tt=1,Hc(r,Yn(o,r.current)),Pe=null;return}a.flags&32768?(We||u===1?r=!0:co||(He&536870912)!==0?r=!1:(ea=r=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),d_(a,r)):Zc(a)}function Zc(r){var a=r;do{if((a.flags&32768)!==0){d_(a,ea);return}r=a.return;var o=cS(a.alternate,a,Ei);if(o!==null){Pe=o;return}if(a=a.sibling,a!==null){Pe=a;return}Pe=a=r}while(a!==null);Tt===0&&(Tt=5)}function d_(r,a){do{var o=hS(r.alternate,r);if(o!==null){o.flags&=32767,Pe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=o}while(r!==null);Tt=6,Pe=null}function m_(r,a,o,u,f,m,E,w,O){r.cancelPendingCommit=null;do Jc();while(en!==0);if((Ze&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=Jf,Kt(r,o,m,E,w,O),r===ut&&(Pe=ut=null,He=0),fo=a,ra=r,mo=o,im=m,am=f,i_=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,wS(Gr,function(){return __(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=ce.p,ce.p=2,E=Ze,Ze|=4;try{fS(r,a,o)}finally{Ze=E,ce.p=f,X.T=u}}en=1,g_(),p_(),y_()}}function g_(){if(en===1){en=0;var r=ra,a=fo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{Xv(a,r);var m=Tm,E=ry(r.containerInfo),w=m.focusedElem,O=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&ny(w.ownerDocument.documentElement,w)){if(O!==null&&Qf(w)){var F=O.start,Z=O.end;if(Z===void 0&&(Z=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(Z,w.value.length);else{var ee=w.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),Ae=w.textContent.length,Te=Math.min(O.start,Ae),it=O.end===void 0?Te:Math.min(O.end,Ae);!W.extend&&Te>it&&(E=it,it=Te,Te=E);var B=ty(w,Te),P=ty(w,it);if(B&&P&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==P.node||W.focusOffset!==P.offset)){var H=ee.createRange();H.setStart(B.node,B.offset),W.removeAllRanges(),Te>it?(W.addRange(H),W.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),W.addRange(H))}}}}for(ee=[],W=w;W=W.parentNode;)W.nodeType===1&&ee.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var J=ee[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}hh=!!Em,Tm=Em=null}finally{Ze=f,ce.p=u,X.T=o}}r.current=a,en=2}}function p_(){if(en===2){en=0;var r=ra,a=fo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{Wv(r,a.alternate,a)}finally{Ze=f,ce.p=u,X.T=o}}en=3}}function y_(){if(en===4||en===3){en=0,Is();var r=ra,a=fo,o=mo,u=i_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,fo=ra=null,v_(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(na=null),Ue(o),a=a.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ht,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=X.T,f=ce.p,ce.p=2,X.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var w=u[E];m(w.value,{componentStack:w.stack})}}finally{X.T=a,ce.p=f}}(mo&3)!==0&&Jc(),Nr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===sm?Yl++:(Yl=0,sm=r):Yl=0,Gl(0)}}function v_(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Al(a)))}function Jc(r){return g_(),p_(),y_(),__()}function __(){if(en!==5)return!1;var r=ra,a=im;im=0;var o=Ue(mo),u=X.T,f=ce.p;try{ce.p=32>o?32:o,X.T=null,o=am,am=null;var m=ra,E=mo;if(en=0,fo=ra=null,mo=0,(Ze&6)!==0)throw Error(i(331));var w=Ze;if(Ze|=4,n_(m.current),Jv(m,m.current,E,o),Ze=w,Gl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ht,m)}catch{}return!0}finally{ce.p=f,X.T=u,v_(r,a)}}function E_(r,a,o){a=Yn(o,a),a=Ud(r.stateNode,a,2),r=Wi(r,a,2),r!==null&&(Ht(r,2),Nr(r))}function st(r,a,o){if(r.tag===3)E_(r,r,o);else for(;a!==null;){if(a.tag===3){E_(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(na===null||!na.has(u))){r=Yn(o,r),o=Sv(2),u=Wi(a,o,2),u!==null&&(Av(o,u,a,r),Ht(u,2),Nr(u));break}}a=a.return}}function cm(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new gS;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(o)||(em=!0,f.add(o),r=ES.bind(null,r,a,o),a.then(r,r))}function ES(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ut===r&&(He&o)===o&&(Tt===4||Tt===3&&(He&62914560)===He&&300>Tn()-rm?(Ze&2)===0&&go(r,0):tm|=o,ho===He&&(ho=0)),Nr(r)}function T_(r,a){a===0&&(a=Qe()),r=Ks(r,a),r!==null&&(Ht(r,a),Nr(r))}function TS(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),T_(r,o)}function bS(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),T_(r,o)}function wS(r,a){return Yr(r,a)}var eh=null,yo=null,hm=!1,th=!1,fm=!1,ms=0;function Nr(r){r!==yo&&r.next===null&&(yo===null?eh=yo=r:yo=yo.next=r),th=!0,hm||(hm=!0,AS())}function Gl(r,a){if(!fm&&th){fm=!0;do for(var o=!1,u=eh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-qt(42|r)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,A_(u,m))}else m=He,m=Xr(u,u===ut?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Zr(u,m)||(o=!0,A_(u,m));u=u.next}while(o);fm=!1}}function SS(){b_()}function b_(){th=hm=!1;var r=0;ms!==0&&(xS()&&(r=ms),ms=0);for(var a=Tn(),o=null,u=eh;u!==null;){var f=u.next,m=w_(u,a);m===0?(u.next=null,o===null?eh=f:o.next=f,f===null&&(yo=o)):(o=u,(r!==0||(m&3)!==0)&&(th=!0)),u=f}Gl(r)}function w_(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-qt(m),w=1<<E,O=f[E];O===-1?((w&o)===0||(w&u)!==0)&&(f[E]=Ui(w,a)):O<=a&&(r.expiredLanes|=w),m&=~w}if(a=ut,o=He,o=Xr(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(Je===2||Je===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&gr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Zr(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&gr(u),Ue(o)){case 2:case 8:o=Li;break;case 32:o=Gr;break;case 268435456:o=pr;break;default:o=Gr}return u=S_.bind(null,r),o=Yr(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&gr(u),r.callbackPriority=2,r.callbackNode=null,2}function S_(r,a){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Jc()&&r.callbackNode!==o)return null;var u=He;return u=Xr(r,r===ut?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(s_(r,u,a),w_(r,Tn()),r.callbackNode!=null&&r.callbackNode===o?S_.bind(null,r):null)}function A_(r,a){if(Jc())return null;s_(r,a,!0)}function AS(){PS(function(){(Ze&6)!==0?Yr(Ba,SS):b_()})}function dm(){return ms===0&&(ms=De()),ms}function R_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Us(""+r)}function C_(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function RS(r,a,o,u,f){if(a==="submit"&&o&&o.stateNode===f){var m=R_((f[ft]||null).action),E=u.submitter;E&&(a=(a=E[ft]||null)?R_(a.formAction):E.getAttribute("formAction"),a!==null&&(m=a,E=null));var w=new Bs("action","action",null,u,f);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var O=E?C_(f,E):new FormData(f);xd(o,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(w.preventDefault(),O=E?C_(f,E):new FormData(f),xd(o,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var mm=0;mm<Zf.length;mm++){var gm=Zf[mm],CS=gm.toLowerCase(),IS=gm[0].toUpperCase()+gm.slice(1);nr(CS,"on"+IS)}nr(sy,"onAnimationEnd"),nr(oy,"onAnimationIteration"),nr(ly,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Y1,"onTransitionRun"),nr(G1,"onTransitionStart"),nr(W1,"onTransitionCancel"),nr(uy,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function I_(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(a)for(var E=u.length-1;0<=E;E--){var w=u[E],O=w.instance,F=w.currentTarget;if(w=w.listener,O!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(Z){qc(Z)}f.currentTarget=null,m=O}else for(E=0;E<u.length;E++){if(w=u[E],O=w.instance,F=w.currentTarget,w=w.listener,O!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(Z){qc(Z)}f.currentTarget=null,m=O}}}}function Ve(r,a){var o=a[il];o===void 0&&(o=a[il]=new Set);var u=r+"__bubble";o.has(u)||(D_(a,r,2,!1),o.add(u))}function pm(r,a,o){var u=0;a&&(u|=4),D_(o,r,u,a)}var nh="_reactListening"+Math.random().toString(36).slice(2);function ym(r){if(!r[nh]){r[nh]=!0,al.forEach(function(o){o!=="selectionchange"&&(DS.has(o)||pm(o,!1,r),pm(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[nh]||(a[nh]=!0,pm("selectionchange",!1,a))}}function D_(r,a,o,u){switch(J_(a)){case 2:var f=nA;break;case 8:f=rA;break;default:f=Mm}o=f.bind(null,a,o,r),f=void 0,!Hn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(a,o,{capture:!0,passive:f}):r.addEventListener(a,o,!0):f!==void 0?r.addEventListener(a,o,{passive:f}):r.addEventListener(a,o,!1)}function vm(r,a,o,u,f){var m=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Jr(w),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=m=E;continue e}w=w.parentNode}}u=u.return}ic(function(){var F=m,Z=qn(o),ee=[];e:{var Y=cy.get(r);if(Y!==void 0){var W=Bs,Ae=r;switch(r){case"keypress":if(wr(o)===0)break e;case"keydown":case"keyup":W=Ys;break;case"focusin":Ae="focus",W=qs;break;case"focusout":Ae="blur",W=qs;break;case"beforeblur":case"afterblur":W=qs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=fc;break;case sy:case oy:case ly:W=Hs;break;case uy:W=mc;break;case"scroll":case"scrollend":W=ac;break;case"wheel":W=Gs;break;case"copy":case"cut":case"paste":W=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=yl;break;case"toggle":case"beforetoggle":W=pc}var Te=(a&4)!==0,it=!Te&&(r==="scroll"||r==="scrollend"),B=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var P=F,H;P!==null;){var J=P;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||B===null||(J=Wa(P,B),J!=null&&Te.push(Ql(P,J,H))),it)break;P=P.return}0<Te.length&&(Y=new W(Y,Ae,null,o,Z),ee.push({event:Y,listeners:Te}))}}if((a&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",Y&&o!==ri&&(Ae=o.relatedTarget||o.fromElement)&&(Jr(Ae)||Ae[zn]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(Ae=o.relatedTarget||o.toElement,W=F,Ae=Ae?Jr(Ae):null,Ae!==null&&(it=l(Ae),Te=Ae.tag,Ae!==it||Te!==5&&Te!==27&&Te!==6)&&(Ae=null)):(W=null,Ae=F),W!==Ae)){if(Te=Fn,J="onMouseLeave",B="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(Te=yl,J="onPointerLeave",B="onPointerEnter",P="pointer"),it=W==null?Y:_r(W),H=Ae==null?Y:_r(Ae),Y=new Te(J,P+"leave",W,o,Z),Y.target=it,Y.relatedTarget=H,J=null,Jr(Z)===F&&(Te=new Te(B,P+"enter",Ae,o,Z),Te.target=H,Te.relatedTarget=it,J=Te),it=J,W&&Ae)t:{for(Te=W,B=Ae,P=0,H=Te;H;H=vo(H))P++;for(H=0,J=B;J;J=vo(J))H++;for(;0<P-H;)Te=vo(Te),P--;for(;0<H-P;)B=vo(B),H--;for(;P--;){if(Te===B||B!==null&&Te===B.alternate)break t;Te=vo(Te),B=vo(B)}Te=null}else Te=null;W!==null&&O_(ee,Y,W,Te,!1),Ae!==null&&it!==null&&O_(ee,it,Ae,Te,!0)}}e:{if(Y=F?_r(F):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var ge=$p;else if(Vt(Y))if(Kp)ge=q1;else{ge=z1;var ke=B1}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&cl(F.elementType)&&(ge=$p):ge=j1;if(ge&&(ge=ge(r,F))){li(ee,ge,o,Z);break e}ke&&ke(r,Y,F),r==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&qi(Y,"number",Y.value)}switch(ke=F?_r(F):window,r){case"focusin":(Vt(ke)||ke.contentEditable==="true")&&(Ws=ke,$f=F,El=null);break;case"focusout":El=$f=Ws=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,iy(ee,o,Z);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":iy(ee,o,Z)}var ye;if(Rr)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else je?K(r,o)&&(be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(_&&o.locale!=="ko"&&(je||be!=="onCompositionStart"?be==="onCompositionEnd"&&je&&(ye=fl()):(br=Z,Hi="value"in br?br.value:br.textContent,je=!0)),ke=rh(F,be),0<ke.length&&(be=new gl(be,r,null,o,Z),ee.push({event:be,listeners:ke}),ye?be.data=ye:(ye=oe(o),ye!==null&&(be.data=ye)))),(ye=y?Pt(r,o):qe(r,o))&&(be=rh(F,"onBeforeInput"),0<be.length&&(ke=new gl("onBeforeInput","beforeinput",null,o,Z),ee.push({event:ke,listeners:be}),ke.data=ye)),RS(ee,r,F,o,Z)}I_(ee,a)})}function Ql(r,a,o){return{instance:r,listener:a,currentTarget:o}}function rh(r,a){for(var o=a+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Wa(r,o),f!=null&&u.unshift(Ql(r,f,m)),f=Wa(r,a),f!=null&&u.push(Ql(r,f,m))),r.tag===3)return u;r=r.return}return[]}function vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function O_(r,a,o,u,f){for(var m=a._reactName,E=[];o!==null&&o!==u;){var w=o,O=w.alternate,F=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||F===null||(O=F,f?(F=Wa(o,m),F!=null&&E.unshift(Ql(o,F,O))):f||(F=Wa(o,m),F!=null&&E.push(Ql(o,F,O)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var OS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function M_(r){return(typeof r=="string"?r:""+r).replace(OS,`
`).replace(MS,"")}function N_(r,a){return a=M_(a),M_(r)===a}function ih(){}function rt(r,a,o,u,f,m){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||jn(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&jn(r,""+u);break;case"className":Er(r,"class",u);break;case"tabIndex":Er(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(r,o,u);break;case"style":ul(r,u,m);break;case"data":if(a!=="object"){Er(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Us(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&rt(r,a,"name",f.name,f,null),rt(r,a,"formEncType",f.formEncType,f,null),rt(r,a,"formMethod",f.formMethod,f,null),rt(r,a,"formTarget",f.formTarget,f,null)):(rt(r,a,"encType",f.encType,f,null),rt(r,a,"method",f.method,f,null),rt(r,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Us(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ih);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Us(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),ji(r,"popover",u);break;case"xlinkActuate":Xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ji(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qf.get(o)||o,ji(r,o,u))}}function _m(r,a,o,u,f,m){switch(o){case"style":ul(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?jn(r,u):(typeof u=="number"||typeof u=="bigint")&&jn(r,""+u);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xs.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),m=r[ft]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(a,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ji(r,o,u)}}}function tn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:rt(r,a,m,E,o,null)}}f&&rt(r,a,"srcSet",o.srcSet,o,null),u&&rt(r,a,"src",o.src,o,null);return;case"input":Ve("invalid",r);var w=m=E=f=null,O=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":O=Z;break;case"defaultChecked":F=Z;break;case"value":m=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:rt(r,a,u,Z,o,null)}}Fa(r,m,w,O,F,E,f,!1),Ls(r);return;case"select":Ve("invalid",r),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:rt(r,a,f,w,o,null)}a=m,o=E,r.multiple=!!u,a!=null?ni(r,!!u,a,!1):o!=null&&ni(r,!!u,o,!0);return;case"textarea":Ve("invalid",r),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:rt(r,a,E,w,o,null)}Ya(r,u,f,m),Ls(r);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(r,a,O,u,o,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(u=0;u<Wl.length;u++)Ve(Wl[u],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:rt(r,a,F,u,o,null)}return;default:if(cl(a)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&_m(r,a,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&rt(r,a,w,u,o,null))}function NS(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,O=null,F=null,Z=null;for(W in o){var ee=o[W];if(o.hasOwnProperty(W)&&ee!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ee;default:u.hasOwnProperty(W)||rt(r,a,W,null,u,ee)}}for(var Y in u){var W=u[Y];if(ee=o[Y],u.hasOwnProperty(Y)&&(W!=null||ee!=null))switch(Y){case"type":m=W;break;case"name":f=W;break;case"checked":F=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==ee&&rt(r,a,Y,W,u,ee)}}In(r,E,w,O,F,Z,m,f);return;case"select":W=E=w=Y=null;for(m in o)if(O=o[m],o.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":W=O;default:u.hasOwnProperty(m)||rt(r,a,m,null,u,O)}for(f in u)if(m=u[f],O=o[f],u.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":Y=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==O&&rt(r,a,f,m,u,O)}a=w,o=E,u=W,Y!=null?ni(r,!!o,Y,!1):!!u!=!!o&&(a!=null?ni(r,!!o,a,!0):ni(r,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:rt(r,a,w,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&rt(r,a,E,f,u,m)}tt(r,Y,W);return;case"option":for(var Ae in o)if(Y=o[Ae],o.hasOwnProperty(Ae)&&Y!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:rt(r,a,Ae,null,u,Y)}for(O in u)if(Y=u[O],W=o[O],u.hasOwnProperty(O)&&Y!==W&&(Y!=null||W!=null))switch(O){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:rt(r,a,O,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Y=o[Te],o.hasOwnProperty(Te)&&Y!=null&&!u.hasOwnProperty(Te)&&rt(r,a,Te,null,u,Y);for(F in u)if(Y=u[F],W=o[F],u.hasOwnProperty(F)&&Y!==W&&(Y!=null||W!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:rt(r,a,F,Y,u,W)}return;default:if(cl(a)){for(var it in o)Y=o[it],o.hasOwnProperty(it)&&Y!==void 0&&!u.hasOwnProperty(it)&&_m(r,a,it,void 0,u,Y);for(Z in u)Y=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||_m(r,a,Z,Y,u,W);return}}for(var B in o)Y=o[B],o.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&rt(r,a,B,null,u,Y);for(ee in u)Y=u[ee],W=o[ee],!u.hasOwnProperty(ee)||Y===W||Y==null&&W==null||rt(r,a,ee,Y,u,W)}var Em=null,Tm=null;function ah(r){return r.nodeType===9?r:r.ownerDocument}function x_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function bm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wm=null;function xS(){var r=window.event;return r&&r.type==="popstate"?r===wm?!1:(wm=r,!0):(wm=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(r){return V_.resolve(null).then(r).catch(VS)}:P_;function VS(r){setTimeout(function(){throw r})}function aa(r){return r==="head"}function L_(r,a){var o=a,u=0,f=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&$l(E.documentElement),o&2&&$l(E.body),o&4)for(o=E.head,$l(o),E=o.firstChild;E;){var w=E.nextSibling,O=E.nodeName;E[za]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=w}}if(f===0){r.removeChild(m),ru(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);ru(a)}function Sm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sm(o),zi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function LS(r,a,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[za])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=ir(r.nextSibling),r===null)break}return null}function US(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ir(r.nextSibling),r===null))return null;return r}function Am(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function BS(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ir(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Rm=null;function U_(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function B_(r,a,o){switch(a=ah(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function $l(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);zi(r)}var Xn=new Map,z_=new Set;function sh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ti=ce.d;ce.d={f:zS,r:jS,D:qS,C:HS,L:FS,m:YS,X:WS,S:GS,M:QS};function zS(){var r=Ti.f(),a=Xc();return r||a}function jS(r){var a=vr(r);a!==null&&a.tag===5&&a.type==="form"?sv(a):Ti.r(r)}var _o=typeof document>"u"?null:document;function j_(r,a,o){var u=_o;if(u&&typeof a=="string"&&a){var f=It(a);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),z_.has(f)||(z_.add(f),r={rel:r,crossOrigin:o,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),tn(a,"link",r),bt(a),u.head.appendChild(a)))}}function qS(r){Ti.D(r),j_("dns-prefetch",r,null)}function HS(r,a){Ti.C(r,a),j_("preconnect",r,a)}function FS(r,a,o){Ti.L(r,a,o);var u=_o;if(u&&r&&a){var f='link[rel="preload"][as="'+It(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var m=f;switch(a){case"style":m=Eo(r);break;case"script":m=To(r)}Xn.has(m)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Xn.set(m,r),u.querySelector(f)!==null||a==="style"&&u.querySelector(Kl(m))||a==="script"&&u.querySelector(Xl(m))||(a=u.createElement("link"),tn(a,"link",r),bt(a),u.head.appendChild(a)))}}function YS(r,a){Ti.m(r,a);var o=_o;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=To(r)}if(!Xn.has(m)&&(r=v({rel:"modulepreload",href:r},a),Xn.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xl(m)))return}u=o.createElement("link"),tn(u,"link",r),bt(u),o.head.appendChild(u)}}}function GS(r,a,o){Ti.S(r,a,o);var u=_o;if(u&&r){var f=pn(u).hoistableStyles,m=Eo(r);a=a||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(Kl(m)))w.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Xn.get(m))&&Cm(r,o);var O=E=u.createElement("link");bt(O),tn(O,"link",r),O._p=new Promise(function(F,Z){O.onload=F,O.onerror=Z}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,oh(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function WS(r,a){Ti.X(r,a);var o=_o;if(o&&r){var u=pn(o).hoistableScripts,f=To(r),m=u.get(f);m||(m=o.querySelector(Xl(f)),m||(r=v({src:r,async:!0},a),(a=Xn.get(f))&&Im(r,a),m=o.createElement("script"),bt(m),tn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function QS(r,a){Ti.M(r,a);var o=_o;if(o&&r){var u=pn(o).hoistableScripts,f=To(r),m=u.get(f);m||(m=o.querySelector(Xl(f)),m||(r=v({src:r,async:!0,type:"module"},a),(a=Xn.get(f))&&Im(r,a),m=o.createElement("script"),bt(m),tn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function q_(r,a,o,u){var f=(f=Ee.current)?sh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Eo(o.href),o=pn(f).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Eo(o.href);var m=pn(f).hoistableStyles,E=m.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=f.querySelector(Kl(r)))&&!m._p&&(E.instance=m,E.state.loading=5),Xn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(r,o),m||$S(f,r,o,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=To(o),o=pn(f).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Eo(r){return'href="'+It(r)+'"'}function Kl(r){return'link[rel="stylesheet"]['+r+"]"}function H_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function $S(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),tn(a,"link",o),bt(a),r.head.appendChild(a))}function To(r){return'[src="'+It(r)+'"]'}function Xl(r){return"script[async]"+r}function F_(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return a.instance=u,bt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),tn(u,"style",f),oh(u,o.precedence,r),a.instance=u;case"stylesheet":f=Eo(o.href);var m=r.querySelector(Kl(f));if(m)return a.state.loading|=4,a.instance=m,bt(m),m;u=H_(o),(f=Xn.get(f))&&Cm(u,f),m=(r.ownerDocument||r).createElement("link"),bt(m);var E=m;return E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),tn(m,"link",u),a.state.loading|=4,oh(m,o.precedence,r),a.instance=m;case"script":return m=To(o.src),(f=r.querySelector(Xl(m)))?(a.instance=f,bt(f),f):(u=o,(f=Xn.get(m))&&(u=v({},o),Im(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),bt(f),tn(f,"link",u),r.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,oh(u,o.precedence,r));return a.instance}function oh(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===a)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Cm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Im(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var lh=null;function Y_(r,a,o){if(lh===null){var u=new Map,f=lh=new Map;f.set(o,u)}else f=lh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[za]||m[gt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(a)||"";E=r+E;var w=u.get(E);w?w.push(m):u.set(E,[m])}}return u}function G_(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function KS(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function W_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Zl=null;function XS(){}function ZS(r,a,o){if(Zl===null)throw Error(i(475));var u=Zl;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Eo(o.href),m=r.querySelector(Kl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=uh.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=m,bt(m);return}m=r.ownerDocument||r,o=H_(o),(f=Xn.get(f))&&Cm(o,f),m=m.createElement("link"),bt(m);var E=m;E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),tn(m,"link",o),a.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=uh.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function JS(){if(Zl===null)throw Error(i(475));var r=Zl;return r.stylesheets&&r.count===0&&Dm(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&Dm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function uh(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ch=null;function Dm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ch=new Map,a.forEach(eA,r),ch=null,uh.call(r))}function eA(r,a){if(!(a.state.loading&4)){var o=ch.get(r);if(o)var u=o.get(null);else{o=new Map,ch.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=a.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=uh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),a.state.loading|=4}}var Jl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function tA(r,a,o,u,f,m,E,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Q_(r,a,o,u,f,m,E,w,O,F,Z,ee){return r=new tA(r,a,o,E,w,O,F,ee),a=1,m===!0&&(a|=24),m=On(3,null,null,a),r.current=m,m.stateNode=r,a=cd(),a.refCount++,r.pooledCache=a,a.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:a},md(m),r}function $_(r){return r?(r=Xs,r):Xs}function K_(r,a,o,u,f,m){f=$_(f),u.context===null?u.context=f:u.pendingContext=f,u=Gi(a),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Wi(r,u,a),o!==null&&(Pn(o,r,a),Dl(o,r,a))}function X_(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Om(r,a){X_(r,a),(r=r.alternate)&&X_(r,a)}function Z_(r){if(r.tag===13){var a=Ks(r,67108864);a!==null&&Pn(a,r,67108864),Om(r,67108864)}}var hh=!0;function nA(r,a,o,u){var f=X.T;X.T=null;var m=ce.p;try{ce.p=2,Mm(r,a,o,u)}finally{ce.p=m,X.T=f}}function rA(r,a,o,u){var f=X.T;X.T=null;var m=ce.p;try{ce.p=8,Mm(r,a,o,u)}finally{ce.p=m,X.T=f}}function Mm(r,a,o,u){if(hh){var f=Nm(u);if(f===null)vm(r,a,u,fh,o),e0(r,u);else if(aA(f,r,a,o,u))u.stopPropagation();else if(e0(r,u),a&4&&-1<iA.indexOf(r)){for(;f!==null;){var m=vr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Cn(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var O=1<<31-qt(E);w.entanglements[1]|=O,E&=~O}Nr(m),(Ze&6)===0&&($c=Tn()+500,Gl(0))}}break;case 13:w=Ks(m,2),w!==null&&Pn(w,m,2),Xc(),Om(m,2)}if(m=Nm(u),m===null&&vm(r,a,u,fh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else vm(r,a,u,null,o)}}function Nm(r){return r=qn(r),xm(r)}var fh=null;function xm(r){if(fh=null,r=Jr(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return fh=r,null}function J_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nl()){case Ba:return 2;case Li:return 8;case Gr:case Ds:return 32;case pr:return 268435456;default:return 32}default:return 32}}var km=!1,sa=null,oa=null,la=null,eu=new Map,tu=new Map,ua=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(r,a){switch(r){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":eu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(a.pointerId)}}function nu(r,a,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},a!==null&&(a=vr(a),a!==null&&Z_(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),r)}function aA(r,a,o,u,f){switch(a){case"focusin":return sa=nu(sa,r,a,o,u,f),!0;case"dragenter":return oa=nu(oa,r,a,o,u,f),!0;case"mouseover":return la=nu(la,r,a,o,u,f),!0;case"pointerover":var m=f.pointerId;return eu.set(m,nu(eu.get(m)||null,r,a,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,tu.set(m,nu(tu.get(m)||null,r,a,o,u,f)),!0}return!1}function t0(r){var a=Jr(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,Ns(r.priority,function(){if(o.tag===13){var u=kn();u=kt(u);var f=Ks(o,u);f!==null&&Pn(f,o,u),Om(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function dh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Nm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ri=u,o.target.dispatchEvent(u),ri=null}else return a=vr(o),a!==null&&Z_(a),r.blockedOn=o,!1;a.shift()}return!0}function n0(r,a,o){dh(r)&&o.delete(a)}function sA(){km=!1,sa!==null&&dh(sa)&&(sa=null),oa!==null&&dh(oa)&&(oa=null),la!==null&&dh(la)&&(la=null),eu.forEach(n0),tu.forEach(n0)}function mh(r,a){r.blockedOn===a&&(r.blockedOn=null,km||(km=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sA)))}var gh=null;function r0(r){gh!==r&&(gh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gh===r&&(gh=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],f=r[a+2];if(typeof u!="function"){if(xm(u||o)===null)continue;break}var m=vr(o);m!==null&&(r.splice(a,3),a-=3,xd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ru(r){function a(O){return mh(O,r)}sa!==null&&mh(sa,r),oa!==null&&mh(oa,r),la!==null&&mh(la,r),eu.forEach(a),tu.forEach(a);for(var o=0;o<ua.length;o++){var u=ua[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ua.length&&(o=ua[0],o.blockedOn===null);)t0(o),o.blockedOn===null&&ua.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[ft]||null;if(typeof m=="function")E||r0(o);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[ft]||null)w=E.formAction;else if(xm(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),r0(o)}}}function Pm(r){this._internalRoot=r}ph.prototype.render=Pm.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=kn();K_(o,u,r,a,null,null)},ph.prototype.unmount=Pm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;K_(r.current,2,null,r,null,null),Xc(),a[zn]=null}};function ph(r){this._internalRoot=r}ph.prototype.unstable_scheduleHydration=function(r){if(r){var a=yr();r={blockedOn:null,target:r,priority:a};for(var o=0;o<ua.length&&a!==0&&a<ua[o].priority;o++);ua.splice(o,0,r),o===0&&t0(r)}};var i0=e.version;if(i0!=="19.1.0")throw Error(i(527,i0,"19.1.0"));ce.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var oA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{ht=yh.inject(oA),Ge=yh}catch{}}return au.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",f=Ev,m=Tv,E=bv,w=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=Q_(r,1,!1,null,null,o,u,f,m,E,w,null),r[zn]=a.current,ym(r),new Pm(a)},au.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,f="",m=Ev,E=Tv,w=bv,O=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),a=Q_(r,1,!0,a,o??null,u,f,m,E,w,O,F),a.context=$_(null),o=a.current,u=kn(),u=kt(u),f=Gi(u),f.callback=null,Wi(o,f,u),o=u,a.current.lanes=o,Ht(a,o),Nr(a),r[zn]=a.current,ym(r),new ph(a)},au.version="19.1.0",au}var m0;function yA(){if(m0)return Um.exports;m0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Um.exports=pA(),Um.exports}var vA=yA();const _A=gT(vA);var su={},g0;function EA(){if(g0)return su;g0=1,Object.defineProperty(su,"__esModule",{value:!0}),su.parse=c,su.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,C){const I=new l,U=b.length;if(U<2)return I;const V=(C==null?void 0:C.decode)||v;let j=0;do{const G=b.indexOf("=",j);if(G===-1)break;const Q=b.indexOf(";",j),se=Q===-1?U:Q;if(G>se){j=b.lastIndexOf(";",G-1)+1;continue}const $=d(b,j,G),le=g(b,G,$),D=b.slice($,le);if(I[D]===void 0){let A=d(b,G+1,se),R=g(b,se,A);const x=V(b.slice(A,R));I[D]=x}j=se+1}while(j<U);return I}function d(b,C,I){do{const U=b.charCodeAt(C);if(U!==32&&U!==9)return C}while(++C<I);return I}function g(b,C,I){for(;C>I;){const U=b.charCodeAt(--C);if(U!==32&&U!==9)return C+1}return I}function p(b,C,I){const U=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const V=U(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let j=b+"="+V;if(!I)return j;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);j+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);j+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);j+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);j+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(j+="; HttpOnly"),I.secure&&(j+="; Secure"),I.partitioned&&(j+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return j}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return s.call(b)==="[object Date]"}return su}EA();var p0="popstate";function TA(n={}){function e(i,s){let{pathname:l,search:c,hash:d}=i.location;return og("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:bu(s)}return wA(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ur(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function y0(n,e){return{usr:n.state,key:n.key,idx:e}}function og(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fo(e):e,state:t,key:e&&e.key||i||bA()}}function bu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function wA(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",g=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let V=v(),j=V==null?null:V-p;p=V,g&&g({action:d,location:U.location,delta:j})}function b(V,j){d="PUSH";let G=og(U.location,V,j);p=v()+1;let Q=y0(G,p),se=U.createHref(G);try{c.pushState(Q,"",se)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(se)}l&&g&&g({action:d,location:U.location,delta:1})}function C(V,j){d="REPLACE";let G=og(U.location,V,j);p=v();let Q=y0(G,p),se=U.createHref(G);c.replaceState(Q,"",se),l&&g&&g({action:d,location:U.location,delta:0})}function I(V){return SA(V)}let U={get action(){return d},get location(){return n(s,c)},listen(V){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(p0,T),g=V,()=>{s.removeEventListener(p0,T),g=null}},createHref(V){return e(s,V)},createURL:I,encodeLocation(V){let j=I(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:C,go(V){return c.go(V)}};return U}function SA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:bu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function pT(n,e,t="/"){return AA(n,e,t,!1)}function AA(n,e,t,i){let s=typeof e=="string"?Fo(e):e,l=Di(s.pathname||"/",t);if(l==null)return null;let c=yT(n);RA(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let p=LA(l);d=PA(c[g],p,i)}return d}function yT(n,e=[],t=[],i=""){let s=(l,c,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(mt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=Ci([i,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),yT(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:xA(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let g of vT(l.path))s(l,c,g)}),e}function vT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=vT(i.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),s&&d.push(...c),d.map(g=>n.startsWith("/")&&g===""?"/":g)}function RA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var CA=/^:[\w-]+$/,IA=3,DA=2,OA=1,MA=10,NA=-2,v0=n=>n==="*";function xA(n,e){let t=n.split("/"),i=t.length;return t.some(v0)&&(i+=NA),e&&(i+=DA),t.filter(s=>!v0(s)).reduce((s,l)=>s+(CA.test(l)?IA:l===""?OA:MA),i)}function kA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function PA(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let g=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!T&&p&&t&&!i[i.length-1].route.index&&(T=Lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:Ci([l,T.pathname]),pathnameBase:jA(Ci([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Ci([l,T.pathnameBase]))}return c}function Lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=VA(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:T},b)=>{if(v==="*"){let I=d[b]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const C=d[b];return T&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function VA(n,e=!1,t=!0){ur(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(i.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function LA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Di(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UA(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Fo(n):n;return{pathname:t?t.startsWith("/")?t:BA(t,e):e,search:qA(i),hash:HA(s)}}function BA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function qm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zg(n){let e=zA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function jg(n,e,t,i=!1){let s;typeof n=="string"?s=Fo(n):(s={...n},mt(!s.pathname||!s.pathname.includes("?"),qm("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),qm("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),qm("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;s.pathname=b.join("/")}d=T>=0?e[T]:"/"}let g=UA(s,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),jA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _T=["POST","PUT","PATCH","DELETE"];new Set(_T);var YA=["GET",..._T];new Set(YA);var Yo=z.createContext(null);Yo.displayName="DataRouter";var hf=z.createContext(null);hf.displayName="DataRouterState";var ET=z.createContext({isTransitioning:!1});ET.displayName="ViewTransition";var GA=z.createContext(new Map);GA.displayName="Fetchers";var WA=z.createContext(null);WA.displayName="Await";var fr=z.createContext(null);fr.displayName="Navigation";var Pu=z.createContext(null);Pu.displayName="Location";var dr=z.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var qg=z.createContext(null);qg.displayName="RouteError";function QA(n,{relative:e}={}){mt(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(fr),{hash:s,pathname:l,search:c}=Vu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ci([t,l])),i.createHref({pathname:d,search:c,hash:s})}function Go(){return z.useContext(Pu)!=null}function Na(){return mt(Go(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Pu).location}var TT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bT(n){z.useContext(fr).static||z.useLayoutEffect(n)}function Ss(){let{isDataRoute:n}=z.useContext(dr);return n?lR():$A()}function $A(){mt(Go(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Yo),{basename:e,navigator:t}=z.useContext(fr),{matches:i}=z.useContext(dr),{pathname:s}=Na(),l=JSON.stringify(zg(i)),c=z.useRef(!1);return bT(()=>{c.current=!0}),z.useCallback((g,p={})=>{if(ur(c.current,TT),!c.current)return;if(typeof g=="number"){t.go(g);return}let v=jg(g,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ci([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,s,n])}z.createContext(null);function KA(){let{matches:n}=z.useContext(dr),e=n[n.length-1];return e?e.params:{}}function Vu(n,{relative:e}={}){let{matches:t}=z.useContext(dr),{pathname:i}=Na(),s=JSON.stringify(zg(t));return z.useMemo(()=>jg(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function XA(n,e){return wT(n,e)}function wT(n,e,t,i){var j;mt(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(fr),{matches:l}=z.useContext(dr),c=l[l.length-1],d=c?c.params:{},g=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let G=v&&v.path||"";ST(g,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Na(),b;if(e){let G=typeof e=="string"?Fo(e):e;mt(p==="/"||((j=G.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${G.pathname}" was given in the \`location\` prop.`),b=G}else b=T;let C=b.pathname||"/",I=C;if(p!=="/"){let G=p.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(G.length).join("/")}let U=pT(n,{pathname:I});ur(v||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ur(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=nR(U&&U.map(G=>Object.assign({},G,{params:Object.assign({},d,G.params),pathname:Ci([p,s.encodeLocation?s.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:Ci([p,s.encodeLocation?s.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,t,i);return e&&V?z.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},V):V}function ZA(){let n=oR(),e=FA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,c)}var JA=z.createElement(ZA,null),eR=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(dr.Provider,{value:this.props.routeContext},z.createElement(qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:n,match:e,children:t}){let i=z.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(dr.Provider,{value:n},t)}function nR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let g=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);mt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let c=!1,d=-1;if(t)for(let g=0;g<s.length;g++){let p=s[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=g),p.route.id){let{loaderData:v,errors:T}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((g,p,v)=>{let T,b=!1,C=null,I=null;t&&(T=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||JA,c&&(d<0&&v===0?(ST("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):d===v&&(b=!0,I=p.route.hydrateFallbackElement||null)));let U=e.concat(s.slice(0,v+1)),V=()=>{let j;return T?j=C:b?j=I:p.route.Component?j=z.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=g,z.createElement(tR,{match:p,routeContext:{outlet:g,matches:U,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?z.createElement(eR,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:V(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):V()},null)}function Hg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rR(n){let e=z.useContext(Yo);return mt(e,Hg(n)),e}function iR(n){let e=z.useContext(hf);return mt(e,Hg(n)),e}function aR(n){let e=z.useContext(dr);return mt(e,Hg(n)),e}function Fg(n){let e=aR(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sR(){return Fg("useRouteId")}function oR(){var i;let n=z.useContext(qg),e=iR("useRouteError"),t=Fg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function lR(){let{router:n}=rR("useNavigate"),e=Fg("useNavigate"),t=z.useRef(!1);return bT(()=>{t.current=!0}),z.useCallback(async(s,l={})=>{ur(t.current,TT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var _0={};function ST(n,e,t){!e&&!_0[n]&&(_0[n]=!0,ur(!1,t))}z.memo(uR);function uR({routes:n,future:e,state:t}){return wT(n,void 0,t,e)}function AT({to:n,replace:e,state:t,relative:i}){mt(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=z.useContext(fr);ur(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(dr),{pathname:c}=Na(),d=Ss(),g=jg(n,zg(l),c,i==="path"),p=JSON.stringify(g);return z.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:i})},[d,p,i,e,t]),null}function wo(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){mt(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Fo(t));let{pathname:g="/",search:p="",hash:v="",state:T=null,key:b="default"}=t,C=z.useMemo(()=>{let I=Di(g,c);return I==null?null:{location:{pathname:I,search:p,hash:v,state:T,key:b},navigationType:i}},[c,g,p,v,T,b,i]);return ur(C!=null,`<Router basename="${c}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:z.createElement(fr.Provider,{value:d},z.createElement(Pu.Provider,{children:e,value:C}))}function hR({children:n,location:e}){return XA(lg(n),e)}function lg(n,e=[]){let t=[];return z.Children.forEach(n,(i,s)=>{if(!z.isValidElement(i))return;let l=[...e,s];if(i.type===z.Fragment){t.push.apply(t,lg(i.props.children,l));return}mt(i.type===wo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=lg(i.props.children,l)),t.push(c)}),t}var Ah="get",Rh="application/x-www-form-urlencoded";function ff(n){return n!=null&&typeof n.tagName=="string"}function fR(n){return ff(n)&&n.tagName.toLowerCase()==="button"}function dR(n){return ff(n)&&n.tagName.toLowerCase()==="form"}function mR(n){return ff(n)&&n.tagName.toLowerCase()==="input"}function gR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pR(n,e){return n.button===0&&(!e||e==="_self")&&!gR(n)}var vh=null;function yR(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var vR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(n){return n!=null&&!vR.has(n)?(ur(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rh}"`),null):n}function _R(n,e){let t,i,s,l,c;if(dR(n)){let d=n.getAttribute("action");i=d?Di(d,e):null,t=n.getAttribute("method")||Ah,s=Hm(n.getAttribute("enctype"))||Rh,l=new FormData(n)}else if(fR(n)||mR(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||d.getAttribute("action");if(i=g?Di(g,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Ah,s=Hm(n.getAttribute("formenctype"))||Hm(d.getAttribute("enctype"))||Rh,l=new FormData(d,n),!yR()){let{name:p,type:v,value:T}=n;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,T)}}else{if(ff(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ah,i=null,s=Rh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Yg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ER(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bR(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await ER(l,t);return c.links?c.links():[]}return[]}));return RR(i.flat(1).filter(TR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function E0(n,e,t,i,s,l){let c=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,d=(g,p)=>{var v;return t[p].pathname!==g.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,p)=>c(g,p)||d(g,p)):l==="data"?e.filter((g,p)=>{var T;let v=i.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function wR(n,e,{includeHydrateFallback:t}={}){return SR(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function SR(n){return[...new Set(n)]}function AR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function RR(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(AR(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CR=new Set([100,101,204,205]);function IR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Di(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function RT(){let n=z.useContext(Yo);return Yg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DR(){let n=z.useContext(hf);return Yg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gg=z.createContext(void 0);Gg.displayName="FrameworkContext";function CT(){let n=z.useContext(Gg);return Yg(n,"You must render this element inside a <HydratedRouter> element"),n}function OR(n,e){let t=z.useContext(Gg),[i,s]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=e,b=z.useRef(null);z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=j=>{j.forEach(G=>{c(G.isIntersecting)})},V=new IntersectionObserver(U,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[n]),z.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let C=()=>{s(!0)},I=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:ou(d,C),onBlur:ou(g,I),onMouseEnter:ou(p,C),onMouseLeave:ou(v,I),onTouchStart:ou(T,C)}]:[!1,b,{}]}function ou(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MR({page:n,...e}){let{router:t}=RT(),i=z.useMemo(()=>pT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(xR,{page:n,matches:i,...e}):null}function NR(n){let{manifest:e,routeModules:t}=CT(),[i,s]=z.useState([]);return z.useEffect(()=>{let l=!1;return bR(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function xR({page:n,matches:e,...t}){let i=Na(),{manifest:s,routeModules:l}=CT(),{basename:c}=RT(),{loaderData:d,matches:g}=DR(),p=z.useMemo(()=>E0(n,e,g,s,i,"data"),[n,e,g,s,i]),v=z.useMemo(()=>E0(n,e,g,s,i,"assets"),[n,e,g,s,i]),T=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,U=!1;if(e.forEach(j=>{var Q;let G=s.routes[j.route.id];!G||!G.hasLoader||(!p.some(se=>se.route.id===j.route.id)&&j.route.id in d&&((Q=l[j.route.id])!=null&&Q.shouldRevalidate)||G.hasClientLoader?U=!0:I.add(j.route.id))}),I.size===0)return[];let V=IR(n,c);return U&&I.size>0&&V.searchParams.set("_routes",e.filter(j=>I.has(j.route.id)).map(j=>j.route.id).join(",")),[V.pathname+V.search]},[c,d,i,s,p,e,n,l]),b=z.useMemo(()=>wR(v,s),[v,s]),C=NR(v);return z.createElement(z.Fragment,null,T.map(I=>z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),b.map(I=>z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),C.map(({key:I,link:U})=>z.createElement("link",{key:I,...U})))}function kR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IT&&(window.__reactRouterVersion="7.6.2")}catch{}function PR({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=TA({window:t,v5Compat:!0}));let s=i.current,[l,c]=z.useState({action:s.action,location:s.location}),d=z.useCallback(g=>{z.startTransition(()=>c(g))},[c]);return z.useLayoutEffect(()=>s.listen(d),[s,d]),z.createElement(cR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uh=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:g,to:p,preventScrollReset:v,viewTransition:T,...b},C){let{basename:I}=z.useContext(fr),U=typeof p=="string"&&DT.test(p),V,j=!1;if(typeof p=="string"&&U&&(V=p,IT))try{let R=new URL(window.location.href),x=p.startsWith("//")?new URL(R.protocol+p):new URL(p),k=Di(x.pathname,I);x.origin===R.origin&&k!=null?p=k+x.search+x.hash:j=!0}catch{ur(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=QA(p,{relative:s}),[Q,se,$]=OR(i,b),le=BR(p,{replace:c,state:d,target:g,preventScrollReset:v,relative:s,viewTransition:T});function D(R){e&&e(R),R.defaultPrevented||le(R)}let A=z.createElement("a",{...b,...$,href:V||G,onClick:j||l?e:D,ref:kR(C,se),target:g,"data-discover":!U&&t==="render"?"true":void 0});return Q&&!U?z.createElement(z.Fragment,null,A,z.createElement(MR,{page:G})):A});Uh.displayName="Link";var VR=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:g,...p},v){let T=Vu(c,{relative:p.relative}),b=Na(),C=z.useContext(hf),{navigator:I,basename:U}=z.useContext(fr),V=C!=null&&FR(T)&&d===!0,j=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,G=b.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,j=j.toLowerCase()),Q&&U&&(Q=Di(Q,U)||Q);const se=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let $=G===j||!s&&G.startsWith(j)&&G.charAt(se)==="/",le=Q!=null&&(Q===j||!s&&Q.startsWith(j)&&Q.charAt(j.length)==="/"),D={isActive:$,isPending:le,isTransitioning:V},A=$?e:void 0,R;typeof i=="function"?R=i(D):R=[i,$?"active":null,le?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(D):l;return z.createElement(Uh,{...p,"aria-current":A,className:R,ref:v,style:x,to:c,viewTransition:d},typeof g=="function"?g(D):g)});VR.displayName="NavLink";var LR=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=Ah,action:d,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:T,...b},C)=>{let I=qR(),U=HR(d,{relative:p}),V=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&DT.test(d),G=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let se=Q.nativeEvent.submitter,$=(se==null?void 0:se.getAttribute("formmethod"))||c;I(se||Q.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:s,state:l,relative:p,preventScrollReset:v,viewTransition:T})};return z.createElement("form",{ref:C,method:V,action:U,onSubmit:i?g:G,...b,"data-discover":!j&&n==="render"?"true":void 0})});LR.displayName="Form";function UR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(n){let e=z.useContext(Yo);return mt(e,UR(n)),e}function BR(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Ss(),g=Na(),p=Vu(n,{relative:l});return z.useCallback(v=>{if(pR(v,e)){v.preventDefault();let T=t!==void 0?t:bu(g)===bu(p);d(n,{replace:T,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[g,d,p,t,i,e,n,s,l,c])}var zR=0,jR=()=>`__${String(++zR)}__`;function qR(){let{router:n}=OT("useSubmit"),{basename:e}=z.useContext(fr),t=sR();return z.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:g,body:p}=_R(i,e);if(s.navigate===!1){let v=s.fetcherKey||jR();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function HR(n,{relative:e}={}){let{basename:t}=z.useContext(fr),i=z.useContext(dr);mt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Vu(n||".",{relative:e})},c=Na();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ci([t,l.pathname])),bu(l)}function FR(n,e={}){let t=z.useContext(ET);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OT("useViewTransitionState"),s=Vu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Di(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Di(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Lh(s.pathname,c)!=null||Lh(s.pathname,l)!=null}[...CR];const YR=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},GR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],g=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,g=s+2<n.length,p=g?n[s+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,C=p&63;g||(C=64,c||(b=64)),i.push(t[v],t[T],t[b],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||p==null||T==null)throw new WR;const b=l<<2|d>>4;if(i.push(b),p!==64){const C=d<<4&240|p>>2;if(i.push(C),T!==64){const I=p<<6&192|T;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(n){const e=MT(n);return NT.encodeByteArray(e,!0)},Bh=function(n){return QR(n).replace(/\./g,"")},xT=function(n){try{return NT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=()=>$R().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof T0>"u")return;const n=T0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xT(n[1]);return e&&JSON.parse(e)},df=()=>{try{return YR()||KR()||XR()||ZR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kT=n=>{var e,t;return(t=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JR=n=>{const e=kT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},PT=()=>{var n;return(n=df())===null||n===void 0?void 0:n.config},VT=n=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n){return n.endsWith(".cloudworkstations.dev")}async function LT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bh(JSON.stringify(t)),Bh(JSON.stringify(c)),""].join(".")}const gu={};function nC(){const n={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?n.emulator.push(e):n.prod.push(e);return n}function rC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let b0=!1;function UT(n,e){if(typeof window>"u"||typeof document>"u"||!Lu(window.location.host)||gu[n]===e||gu[n]||b0)return;gu[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=nC().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{b0=!0,c()},b}function v(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=rC(i),C=t("text"),I=document.getElementById(C)||document.createElement("span"),U=t("learnmore"),V=document.getElementById(U)||document.createElement("a"),j=t("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;d(Q),v(V,U);const se=p();g(G,j),Q.append(G,I,V,se),document.body.appendChild(Q)}l?(I.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function aC(){var n;const e=(n=df())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uC(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cC(){return!aC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hC(){try{return typeof indexedDB=="object"}catch{return!1}}function fC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="FirebaseError";class Pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=dC,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?mC(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Pi(s,d,i)}}function mC(n,e){return n.replace(gC,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gC=/\{\$([^}]+)}/g;function pC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _s(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(w0(l)&&w0(c)){if(!_s(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function w0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function lu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function uu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yC(n,e){const t=new vC(n,e);return t.subscribe.bind(t)}class vC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");_C(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Fm),s.error===void 0&&(s.error=Fm),s.complete===void 0&&(s.complete=Fm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _C(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(n){return n&&n._delegate?n._delegate:n}class Es{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new eC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bC(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:TC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(n){return n===gs?void 0:n}function bC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const SC={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},AC=Be.INFO,RC={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},CC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=RC[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wg{constructor(e){this.name=e,this._logLevel=AC,this._logHandler=CC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const IC=(n,e)=>e.some(t=>n instanceof t);let S0,A0;function DC(){return S0||(S0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BT=new WeakMap,ug=new WeakMap,zT=new WeakMap,Ym=new WeakMap,Qg=new WeakMap;function MC(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(_a(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&BT.set(t,n)}).catch(()=>{}),Qg.set(e,n),e}function NC(n){if(ug.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ug.set(n,e)}let cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ug.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _a(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xC(n){cg=n(cg)}function kC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Gm(this),e,...t);return zT.set(i,e.sort?e.sort():[e]),_a(i)}:OC().includes(n)?function(...e){return n.apply(Gm(this),e),_a(BT.get(this))}:function(...e){return _a(n.apply(Gm(this),e))}}function PC(n){return typeof n=="function"?kC(n):(n instanceof IDBTransaction&&NC(n),IC(n,DC())?new Proxy(n,cg):n)}function _a(n){if(n instanceof IDBRequest)return MC(n);if(Ym.has(n))return Ym.get(n);const e=PC(n);return e!==n&&(Ym.set(n,e),Qg.set(e,n)),e}const Gm=n=>Qg.get(n);function VC(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=_a(c);return i&&c.addEventListener("upgradeneeded",g=>{i(_a(c.result),g.oldVersion,g.newVersion,_a(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),s&&g.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const LC=["get","getKey","getAll","getAllKeys","count"],UC=["put","add","delete","clear"],Wm=new Map;function R0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=UC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||LC.includes(t)))return;const l=async function(c,...d){const g=this.transaction(c,s?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&g.done]))[0]};return Wm.set(e,l),l}xC(n=>({...n,get:(e,t,i)=>R0(e,t)||n.get(e,t,i),has:(e,t)=>!!R0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function zC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",C0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Wg("@firebase/app"),jC="@firebase/app-compat",qC="@firebase/analytics-compat",HC="@firebase/analytics",FC="@firebase/app-check-compat",YC="@firebase/app-check",GC="@firebase/auth",WC="@firebase/auth-compat",QC="@firebase/database",$C="@firebase/data-connect",KC="@firebase/database-compat",XC="@firebase/functions",ZC="@firebase/functions-compat",JC="@firebase/installations",eI="@firebase/installations-compat",tI="@firebase/messaging",nI="@firebase/messaging-compat",rI="@firebase/performance",iI="@firebase/performance-compat",aI="@firebase/remote-config",sI="@firebase/remote-config-compat",oI="@firebase/storage",lI="@firebase/storage-compat",uI="@firebase/firestore",cI="@firebase/ai",hI="@firebase/firestore-compat",fI="firebase",dI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",mI={[hg]:"fire-core",[jC]:"fire-core-compat",[HC]:"fire-analytics",[qC]:"fire-analytics-compat",[YC]:"fire-app-check",[FC]:"fire-app-check-compat",[GC]:"fire-auth",[WC]:"fire-auth-compat",[QC]:"fire-rtdb",[$C]:"fire-data-connect",[KC]:"fire-rtdb-compat",[XC]:"fire-fn",[ZC]:"fire-fn-compat",[JC]:"fire-iid",[eI]:"fire-iid-compat",[tI]:"fire-fcm",[nI]:"fire-fcm-compat",[rI]:"fire-perf",[iI]:"fire-perf-compat",[aI]:"fire-rc",[sI]:"fire-rc-compat",[oI]:"fire-gcs",[lI]:"fire-gcs-compat",[uI]:"fire-fst",[hI]:"fire-fst-compat",[cI]:"fire-vertex","fire-js":"fire-js",[fI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,gI=new Map,dg=new Map;function I0(n,e){try{n.container.addComponent(e)}catch(t){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ko(n){const e=n.name;if(dg.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,n);for(const t of zh.values())I0(t,n);for(const t of gI.values())I0(t,n);return!0}function $g(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new Uu("app","Firebase",pI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=dI;function jT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:fg,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Ea.create("bad-app-name",{appName:String(s)});if(t||(t=PT()),!t)throw Ea.create("no-options");const l=zh.get(s);if(l){if(_s(t,l.options)&&_s(i,l.config))return l;throw Ea.create("duplicate-app",{appName:s})}const c=new wC(s);for(const g of dg.values())c.addComponent(g);const d=new yI(t,i,c);return zh.set(s,d),d}function qT(n=fg){const e=zh.get(n);if(!e&&n===fg&&PT())return jT();if(!e)throw Ea.create("no-app",{appName:n});return e}function Ta(n,e,t){var i;let s=(i=mI[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(d.join(" "));return}ko(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firebase-heartbeat-database",_I=1,wu="firebase-heartbeat-store";let Qm=null;function HT(){return Qm||(Qm=VC(vI,_I,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ea.create("idb-open",{originalErrorMessage:n.message})})),Qm}async function EI(n){try{const t=(await HT()).transaction(wu),i=await t.objectStore(wu).get(FT(n));return await t.done,i}catch(e){if(e instanceof Pi)Oi.warn(e.message);else{const t=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(t.message)}}}async function D0(n,e){try{const i=(await HT()).transaction(wu,"readwrite");await i.objectStore(wu).put(e,FT(n)),await i.done}catch(t){if(t instanceof Pi)Oi.warn(t.message);else{const i=Ea.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oi.warn(i.message)}}}function FT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1024,bI=30;class wI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=O0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>bI){const c=RI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O0(),{heartbeatsToSend:i,unsentEntries:s}=SI(this._heartbeatsCache.heartbeats),l=Bh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Oi.warn(t),""}}}function O0(){return new Date().toISOString().substring(0,10)}function SI(n,e=TI){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),M0(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),M0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class AI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hC()?fC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function M0(n){return Bh(JSON.stringify({version:2,heartbeats:n})).length}function RI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n){ko(new Es("platform-logger",e=>new BC(e),"PRIVATE")),ko(new Es("heartbeat",e=>new wI(e),"PRIVATE")),Ta(hg,C0,n),Ta(hg,C0,"esm2017"),Ta("fire-js","")}CI("");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,YT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function R(){}R.prototype=A.prototype,D.D=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(x,k,L){for(var M=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)M[Rt-2]=arguments[Rt];return A.prototype[k].apply(x,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,A,R){R||(R=0);var x=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)x[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;16>k;++k)x[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],k=D.g[2];var L=D.g[3],M=A+(L^R&(k^L))+x[0]+3614090360&4294967295;A=R+(M<<7&4294967295|M>>>25),M=L+(k^A&(R^k))+x[1]+3905402710&4294967295,L=A+(M<<12&4294967295|M>>>20),M=k+(R^L&(A^R))+x[2]+606105819&4294967295,k=L+(M<<17&4294967295|M>>>15),M=R+(A^k&(L^A))+x[3]+3250441966&4294967295,R=k+(M<<22&4294967295|M>>>10),M=A+(L^R&(k^L))+x[4]+4118548399&4294967295,A=R+(M<<7&4294967295|M>>>25),M=L+(k^A&(R^k))+x[5]+1200080426&4294967295,L=A+(M<<12&4294967295|M>>>20),M=k+(R^L&(A^R))+x[6]+2821735955&4294967295,k=L+(M<<17&4294967295|M>>>15),M=R+(A^k&(L^A))+x[7]+4249261313&4294967295,R=k+(M<<22&4294967295|M>>>10),M=A+(L^R&(k^L))+x[8]+1770035416&4294967295,A=R+(M<<7&4294967295|M>>>25),M=L+(k^A&(R^k))+x[9]+2336552879&4294967295,L=A+(M<<12&4294967295|M>>>20),M=k+(R^L&(A^R))+x[10]+4294925233&4294967295,k=L+(M<<17&4294967295|M>>>15),M=R+(A^k&(L^A))+x[11]+2304563134&4294967295,R=k+(M<<22&4294967295|M>>>10),M=A+(L^R&(k^L))+x[12]+1804603682&4294967295,A=R+(M<<7&4294967295|M>>>25),M=L+(k^A&(R^k))+x[13]+4254626195&4294967295,L=A+(M<<12&4294967295|M>>>20),M=k+(R^L&(A^R))+x[14]+2792965006&4294967295,k=L+(M<<17&4294967295|M>>>15),M=R+(A^k&(L^A))+x[15]+1236535329&4294967295,R=k+(M<<22&4294967295|M>>>10),M=A+(k^L&(R^k))+x[1]+4129170786&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^k&(A^R))+x[6]+3225465664&4294967295,L=A+(M<<9&4294967295|M>>>23),M=k+(A^R&(L^A))+x[11]+643717713&4294967295,k=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(k^L))+x[0]+3921069994&4294967295,R=k+(M<<20&4294967295|M>>>12),M=A+(k^L&(R^k))+x[5]+3593408605&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^k&(A^R))+x[10]+38016083&4294967295,L=A+(M<<9&4294967295|M>>>23),M=k+(A^R&(L^A))+x[15]+3634488961&4294967295,k=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(k^L))+x[4]+3889429448&4294967295,R=k+(M<<20&4294967295|M>>>12),M=A+(k^L&(R^k))+x[9]+568446438&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^k&(A^R))+x[14]+3275163606&4294967295,L=A+(M<<9&4294967295|M>>>23),M=k+(A^R&(L^A))+x[3]+4107603335&4294967295,k=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(k^L))+x[8]+1163531501&4294967295,R=k+(M<<20&4294967295|M>>>12),M=A+(k^L&(R^k))+x[13]+2850285829&4294967295,A=R+(M<<5&4294967295|M>>>27),M=L+(R^k&(A^R))+x[2]+4243563512&4294967295,L=A+(M<<9&4294967295|M>>>23),M=k+(A^R&(L^A))+x[7]+1735328473&4294967295,k=L+(M<<14&4294967295|M>>>18),M=R+(L^A&(k^L))+x[12]+2368359562&4294967295,R=k+(M<<20&4294967295|M>>>12),M=A+(R^k^L)+x[5]+4294588738&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^k)+x[8]+2272392833&4294967295,L=A+(M<<11&4294967295|M>>>21),M=k+(L^A^R)+x[11]+1839030562&4294967295,k=L+(M<<16&4294967295|M>>>16),M=R+(k^L^A)+x[14]+4259657740&4294967295,R=k+(M<<23&4294967295|M>>>9),M=A+(R^k^L)+x[1]+2763975236&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^k)+x[4]+1272893353&4294967295,L=A+(M<<11&4294967295|M>>>21),M=k+(L^A^R)+x[7]+4139469664&4294967295,k=L+(M<<16&4294967295|M>>>16),M=R+(k^L^A)+x[10]+3200236656&4294967295,R=k+(M<<23&4294967295|M>>>9),M=A+(R^k^L)+x[13]+681279174&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^k)+x[0]+3936430074&4294967295,L=A+(M<<11&4294967295|M>>>21),M=k+(L^A^R)+x[3]+3572445317&4294967295,k=L+(M<<16&4294967295|M>>>16),M=R+(k^L^A)+x[6]+76029189&4294967295,R=k+(M<<23&4294967295|M>>>9),M=A+(R^k^L)+x[9]+3654602809&4294967295,A=R+(M<<4&4294967295|M>>>28),M=L+(A^R^k)+x[12]+3873151461&4294967295,L=A+(M<<11&4294967295|M>>>21),M=k+(L^A^R)+x[15]+530742520&4294967295,k=L+(M<<16&4294967295|M>>>16),M=R+(k^L^A)+x[2]+3299628645&4294967295,R=k+(M<<23&4294967295|M>>>9),M=A+(k^(R|~L))+x[0]+4096336452&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~k))+x[7]+1126891415&4294967295,L=A+(M<<10&4294967295|M>>>22),M=k+(A^(L|~R))+x[14]+2878612391&4294967295,k=L+(M<<15&4294967295|M>>>17),M=R+(L^(k|~A))+x[5]+4237533241&4294967295,R=k+(M<<21&4294967295|M>>>11),M=A+(k^(R|~L))+x[12]+1700485571&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~k))+x[3]+2399980690&4294967295,L=A+(M<<10&4294967295|M>>>22),M=k+(A^(L|~R))+x[10]+4293915773&4294967295,k=L+(M<<15&4294967295|M>>>17),M=R+(L^(k|~A))+x[1]+2240044497&4294967295,R=k+(M<<21&4294967295|M>>>11),M=A+(k^(R|~L))+x[8]+1873313359&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~k))+x[15]+4264355552&4294967295,L=A+(M<<10&4294967295|M>>>22),M=k+(A^(L|~R))+x[6]+2734768916&4294967295,k=L+(M<<15&4294967295|M>>>17),M=R+(L^(k|~A))+x[13]+1309151649&4294967295,R=k+(M<<21&4294967295|M>>>11),M=A+(k^(R|~L))+x[4]+4149444226&4294967295,A=R+(M<<6&4294967295|M>>>26),M=L+(R^(A|~k))+x[11]+3174756917&4294967295,L=A+(M<<10&4294967295|M>>>22),M=k+(A^(L|~R))+x[2]+718787259&4294967295,k=L+(M<<15&4294967295|M>>>17),M=R+(L^(k|~A))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var R=A-this.blockSize,x=this.B,k=this.h,L=0;L<A;){if(k==0)for(;L<=R;)s(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<A;)if(x[k++]=D.charCodeAt(L++),k==this.blockSize){s(this,x),k=0;break}}else for(;L<A;)if(x[k++]=D[L++],k==this.blockSize){s(this,x),k=0;break}}this.h=k,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var R=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=R&255,R/=256;for(this.u(D),D=Array(16),A=R=0;4>A;++A)for(var x=0;32>x;x+=8)D[R++]=this.g[A]>>>x&255;return D};function l(D,A){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function c(D,A){this.h=A;for(var R=[],x=!0,k=D.length-1;0<=k;k--){var L=D[k]|0;x&&L==A||(R[k]=L,x=!1)}this.g=R}var d={};function g(D){return-128<=D&&128>D?l(D,function(A){return new c([A|0],0>A?-1:0)}):new c([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return V(p(-D));for(var A=[],R=1,x=0;D>=R;x++)A[x]=D/R|0,R*=4294967296;return new c(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return V(v(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),x=T,k=0;k<D.length;k+=8){var L=Math.min(8,D.length-k),M=parseInt(D.substring(k,k+L),A);8>L?(L=p(Math.pow(A,L)),x=x.j(L).add(p(M))):(x=x.j(R),x=x.add(p(M)))}return x}var T=g(0),b=g(1),C=g(16777216);n=c.prototype,n.m=function(){if(U(this))return-V(this).m();for(var D=0,A=1,R=0;R<this.g.length;R++){var x=this.i(R);D+=(0<=x?x:4294967296+x)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(U(this))return"-"+V(this).toString(D);for(var A=p(Math.pow(D,6)),R=this,x="";;){var k=se(R,A).g;R=j(R,k.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=k,I(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function U(D){return D.h==-1}n.l=function(D){return D=j(this,D),U(D)?-1:I(D)?0:1};function V(D){for(var A=D.g.length,R=[],x=0;x<A;x++)R[x]=~D.g[x];return new c(R,~D.h).add(b)}n.abs=function(){return U(this)?V(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],x=0,k=0;k<=A;k++){var L=x+(this.i(k)&65535)+(D.i(k)&65535),M=(L>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);x=M>>>16,L&=65535,M&=65535,R[k]=M<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function j(D,A){return D.add(V(A))}n.j=function(D){if(I(this)||I(D))return T;if(U(this))return U(D)?V(this).j(V(D)):V(V(this).j(D));if(U(D))return V(this.j(V(D)));if(0>this.l(C)&&0>D.l(C))return p(this.m()*D.m());for(var A=this.g.length+D.g.length,R=[],x=0;x<2*A;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<D.g.length;k++){var L=this.i(x)>>>16,M=this.i(x)&65535,Rt=D.i(k)>>>16,ot=D.i(k)&65535;R[2*x+2*k]+=M*ot,G(R,2*x+2*k),R[2*x+2*k+1]+=L*ot,G(R,2*x+2*k+1),R[2*x+2*k+1]+=M*Rt,G(R,2*x+2*k+1),R[2*x+2*k+2]+=L*Rt,G(R,2*x+2*k+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new c(R,0)};function G(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Q(D,A){this.g=D,this.h=A}function se(D,A){if(I(A))throw Error("division by zero");if(I(D))return new Q(T,T);if(U(D))return A=se(V(D),A),new Q(V(A.g),V(A.h));if(U(A))return A=se(D,V(A)),new Q(V(A.g),A.h);if(30<D.g.length){if(U(D)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=A;0>=x.l(D);)R=$(R),x=$(x);var k=le(R,1),L=le(x,1);for(x=le(x,2),R=le(R,2);!I(x);){var M=L.add(x);0>=M.l(D)&&(k=k.add(R),L=M),x=le(x,1),R=le(R,1)}return A=j(D,k.j(A)),new Q(k,A)}for(k=T;0<=D.l(A);){for(R=Math.max(1,Math.floor(D.m()/A.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=p(R),M=L.j(A);U(M)||0<M.l(D);)R-=x,L=p(R),M=L.j(A);I(L)&&(L=b),k=k.add(L),D=j(D,M)}return new Q(k,D)}n.A=function(D){return se(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)&D.i(x);return new c(R,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)|D.i(x);return new c(R,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)^D.i(x);return new c(R,this.h^D.h)};function $(D){for(var A=D.g.length+1,R=[],x=0;x<A;x++)R[x]=D.i(x)<<1|D.i(x-1)>>>31;return new c(R,D.h)}function le(D,A){var R=A>>5;A%=32;for(var x=D.g.length-R,k=[],L=0;L<x;L++)k[L]=0<A?D.i(L+R)>>>A|D.i(L+R+1)<<32-A:D.i(L+R);return new c(k,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,YT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,ba=c}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GT,cu,WT,Ch,mg,QT,$T,KT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function s(h,y){if(y)e:{var _=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in _))break e;_=_[q]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,S=!1,q={next:function(){if(!S&&_<h.length){var K=_++;return{value:y(K,h[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function b(h,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function C(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function I(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,q,K){for(var oe=Array(arguments.length-2),je=2;je<arguments.length;je++)oe[je-2]=arguments[je];return y.prototype[q].apply(S,oe)}}function U(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function V(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const q=h.length||0,K=S.length||0;h.length=q+K;for(let oe=0;oe<K;oe++)h[q+oe]=S[oe]}else h.push(S)}}class j{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function se(h){return se[" "](h),h}se[" "]=function(){};var $=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function le(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function D(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function A(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(h,y){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)h[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function k(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function M(){var h=Ie;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Rt{constructor(){this.h=this.g=null}add(y,_){const S=ot.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new j(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,me=!1,Ie=new Rt,N=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(re)}};var re=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(_){L(_)}var y=ot;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Oe(h,y){if(ie.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if($){e:{try{se(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Oe.aa.h.call(this)}}I(Oe,ie);var Ee={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function dn(h,y,_,S,q){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=q,this.key=++Xe,this.da=this.fa=!1}function mr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Jn(h){this.src=h,this.g={},this.h=0}Jn.prototype.add=function(h,y,_,S,q){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var oe=Yr(h,y,S,q);return-1<oe?(y=h[oe],_||(y.fa=!1)):(y=new dn(y,this.src,K,!!S,q),y.fa=_,h.push(y)),y};function Fr(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],q=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=q)&&Array.prototype.splice.call(S,q,1),K&&(mr(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Yr(h,y,_,S){for(var q=0;q<h.length;++q){var K=h[q];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return q}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),Ua={};function Is(h,y,_,S,q){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Is(h,y[K],_,S,q);return null}return _=Os(_),h&&h[Ct]?h.K(y,_,p(S)?!!S.capture:!1,q):Tn(h,y,_,!1,S,q)}function Tn(h,y,_,S,q,K){if(!y)throw Error("Invalid event type");var oe=p(q)?!!q.capture:!!q,je=pr(h);if(je||(h[gr]=je=new Jn(h)),_=je.add(y,_,S,oe,K),_.proxy)return _;if(S=nl(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)pe||(q=oe),q===void 0&&(q=!1),h.addEventListener(y.toString(),S,q);else if(h.attachEvent)h.attachEvent(Gr(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nl(){function h(_){return y.call(h.src,h.listener,_)}const y=Ds;return h}function Ba(h,y,_,S,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ba(h,y[K],_,S,q);else S=p(S)?!!S.capture:!!S,_=Os(_),h&&h[Ct]?(h=h.i,y=String(y).toString(),y in h.g&&(K=h.g[y],_=Yr(K,_,S,q),-1<_&&(mr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete h.g[y],h.h--)))):h&&(h=pr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Yr(y,_,S,q)),(_=-1<h?y[h]:null)&&Li(_))}function Li(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ct])Fr(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(Gr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=pr(y))?(Fr(_,h),_.h==0&&(_.src=null,y[gr]=null)):mr(h)}}}function Gr(h){return h in Ua?Ua[h]:Ua[h]="on"+h}function Ds(h,y){if(h.da)h=!0;else{y=new Oe(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&Li(h),h=_.call(S,y)}return h}function pr(h){return h=h[gr],h instanceof Jn?h:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Os(h){return typeof h=="function"?h:(h[Wr]||(h[Wr]=function(y){return h.handleEvent(y)}),h[Wr])}function ht(){ue.call(this),this.i=new Jn(this),this.M=this,this.F=null}I(ht,ue),ht.prototype[Ct]=!0,ht.prototype.removeEventListener=function(h,y,_,S){Ba(this,h,y,_,S)};function Ge(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new ie(y,h);else if(y instanceof ie)y.target=y.target||h;else{var q=y;y=new ie(S,h),x(y,q)}if(q=!0,_)for(var K=_.length-1;0<=K;K--){var oe=y.g=_[K];q=mn(oe,S,!0,y)&&q}if(oe=y.g=h,q=mn(oe,S,!0,y)&&q,q=mn(oe,S,!1,y)&&q,_)for(K=0;K<_.length;K++)oe=y.g=_[K],q=mn(oe,S,!1,y)&&q}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)mr(_[S]);delete h.g[y],h.h--}}this.F=null},ht.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},ht.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function mn(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,K=0;K<y.length;++K){var oe=y[K];if(oe&&!oe.da&&oe.capture==_){var je=oe.listener,Pt=oe.ha||oe.src;oe.fa&&Fr(h.i,oe),q=je.call(Pt,S)!==!1&&q}}return q&&!S.defaultPrevented}function qt(h,y,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ms(h){h.g=qt(()=>{h.g=null,h.i&&(h.i=!1,Ms(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rl extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(h){ue.call(this),this.h=h,this.g={}}I(Qr,ue);var $r=[];function Kr(h){le(h.g,function(y,_){this.g.hasOwnProperty(_)&&Li(y)},h),h.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Kr(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=d.JSON.stringify,Xr=d.JSON.parse,Zr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Ui(){}Ui.prototype.h=null;function De(h){return h.h||(h.h=h.i())}function Qe(){}var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){ie.call(this,"d")}I(Ht,ie);function Kt(){ie.call(this,"c")}I(Kt,ie);var gn={},_t=null;function kt(){return _t=_t||new ht}gn.La="serverreachability";function Ue(h){ie.call(this,gn.La,h)}I(Ue,ie);function yr(h){const y=kt();Ge(y,new Ue(y))}gn.STAT_EVENT="statevent";function Ns(h,y){ie.call(this,gn.STAT_EVENT,h),this.stat=y}I(Ns,ie);function lt(h){const y=kt();Ge(y,new Ns(y,h))}gn.Ma="timingevent";function gt(h,y){ie.call(this,gn.Ma,h),this.size=y}I(gt,ie);function ft(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function il(h,y,_,S,q,K){h.info(function(){if(h.g)if(K)for(var oe="",je=K.split("&"),Pt=0;Pt<je.length;Pt++){var qe=je[Pt].split("=");if(1<qe.length){var Yt=qe[0];qe=qe[1];var Vt=Yt.split("_");oe=2<=Vt.length&&Vt[1]=="type"?oe+(Yt+"="+qe+"&"):oe+(Yt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+_+`
`+oe})}function Bf(h,y,_,S,q,K,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+_+`
`+K+" "+oe})}function Bi(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+za(h,_)+(S?" "+S:"")})}function Zu(h,y){h.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function za(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return Cn(_)}catch{return y}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function _r(){}I(_r,Ui),_r.prototype.g=function(){return new XMLHttpRequest},_r.prototype.i=function(){return{}},vr=new _r;function pn(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var al={},xs={};function er(h,y,_){h.L=1,h.v=Ya(In(y)),h.m=_,h.P=!0,ei(h,null)}function ei(h,y){h.F=Date.now(),ja(h),h.A=In(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),hl(_.i,"t",S),h.C=0,_=h.j.J,h.h=new bt,h.g=mc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new rl(b(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var q="readystatechange";Array.isArray(q)||(q&&($r[0]=q.toString()),q=$r);for(var K=0;K<q.length;K++){var oe=Is(_,q[K],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),yr(),il(h.i,h.u,h.A,h.l,h.R,h.m)}pn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Fn(h)==3?y.j():this.Y(h)},pn.prototype.Y=function(h){try{if(h==this.g)e:{const Vt=Fn(this.g);var y=this.g.Ba();const li=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||Vt!=4||y==7||(y==8||0>=li?yr(3):yr(2)),ji(this);var _=this.g.Z();this.X=_;t:if(Ju(this)){var S=sc(this.g);h="";var q=S.length,K=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Er(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(K&&y==q-1)});S.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Bf(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Pt=this.g;if((je=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(je)){var qe=je;break t}}qe=null}if(_=qe)Bi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qa(this,_);else{this.o=!1,this.s=3,lt(12),Xt(this),Er(this);break e}}if(this.P){_=!0;let Zt;for(;!this.J&&this.C<oe.length;)if(Zt=ec(this,oe),Zt==xs){Vt==4&&(this.s=4,lt(14),_=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==al){this.s=4,lt(15),Bi(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Bi(this.i,this.l,Zt,null),qa(this,Zt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||oe.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)Bi(this.i,this.l,oe,"[Invalid Chunked Response]"),Xt(this),Er(this);else if(0<oe.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ja(Yt),Yt.M=!0,lt(11))}}else Bi(this.i,this.l,oe,null),qa(this,oe);Vt==4&&Xt(this),this.o&&!this.J&&(Vt==4?hc(this.j,this):(this.o=!1,ja(this)))}else Ff(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Xt(this),Er(this)}}}catch{}finally{}};function Ju(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ec(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?xs:(_=Number(y.substring(_,S)),isNaN(_)?al:(S+=1,S+_>y.length?xs:(y=y.slice(S,S+_),h.C=S+_,y)))}pn.prototype.cancel=function(){this.J=!0,Xt(this)};function ja(h){h.S=Date.now()+h.I,tc(h,h.I)}function tc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ft(b(h.ba,h),y)}function ji(h){h.B&&(d.clearTimeout(h.B),h.B=null)}pn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Zu(this.i,this.A),this.L!=2&&(yr(),lt(17)),Xt(this),this.s=2,Er(this)):tc(this,this.S-h)};function Er(h){h.j.G==0||h.J||hc(h.j,h)}function Xt(h){ji(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Kr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function qa(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||sl(_.h,h))){if(!h.K&&sl(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ys(_),Hs(_);else break e;pl(_),lt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=ft(b(_.Za,_),6e3));if(1>=Ps(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else oi(_,11)}else if((h.K||_.g==h)&&Ys(_),!G(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let qe=q[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Yt=qe[3];Yt!=null&&(_.la=Yt,_.j.info("VER="+_.la));const Vt=qe[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const li=qe[5];li!=null&&typeof li=="number"&&0<li&&(S=1.5*li,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Zt=h.g;if(Zt){const Cr=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var K=S.h;K.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Vs(K,K.h),K.h=null))}if(S.D){const vl=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(S.ya=vl,tt(S.I,S.D,vl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var oe=h;if(S.qa=dc(S,S.J?S.ia:null,S.W),oe.K){yn(S.h,oe);var je=oe,Pt=S.L;Pt&&(je.I=Pt),je.B&&(ji(je),ja(je)),S.g=oe}else uc(S);0<_.i.length&&Fs(_)}else qe[0]!="stop"&&qe[0]!="close"||oi(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?oi(_,7):ml(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}yr(4)}catch{}}var nc=class{constructor(h,y){this.g=h,this.map=y}};function ti(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ps(h){return h.h?1:h.g?h.g.size:0}function sl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Vs(h,y){h.g?h.g.add(y):h.h=y}function yn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ti.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return U(h.i)}function zf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(g(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function Ls(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(g(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function ll(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(g(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ls(h),S=zf(h),q=S.length,K=0;K<q;K++)y.call(void 0,S[K],_&&_[K],h)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),q=null;if(0<=S){var K=h[_].substring(0,S);q=h[_].substring(S+1)}else K=h[_];y(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,Fa(this,h.j),this.o=h.o,this.g=h.g,qi(this,h.s),this.l=h.l;var y=h.i,_=new ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ni(this,_),this.m=h.m}else h&&(y=String(h).match(Ha))?(this.h=!1,Fa(this,y[1]||"",!0),this.o=jn(y[2]||""),this.g=jn(y[3]||"",!0),qi(this,y[4]),this.l=jn(y[5]||"",!0),ni(this,y[6]||"",!0),this.m=jn(y[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}It.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Ga(y,ul,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ga(y,ul,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ga(_,_.charAt(0)=="/"?qf:cl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ga(_,Us)),h.join("")};function In(h){return new It(h)}function Fa(h,y,_){h.j=_?jn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function qi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ni(h,y,_){y instanceof ri?(h.i=y,ic(h.i,h.h)):(_||(y=Ga(y,Hf)),h.i=new ri(y,h.h))}function tt(h,y,_){h.i.set(y,_)}function Ya(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function jn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ga(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,rc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function rc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ul=/[#\/\?@]/g,cl=/[#\?:]/g,qf=/[#\?]/g,Hf=/[#\?@]/g,Us=/#/g;function ri(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function qn(h){h.g||(h.g=new Map,h.h=0,h.i&&jf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=ri.prototype,n.add=function(h,y){qn(this),this.i=null,h=Tr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function ii(h,y){qn(h),y=Tr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ai(h,y){return qn(h),y=Tr(h,y),h.g.has(y)}n.forEach=function(h,y){qn(this),this.g.forEach(function(_,S){_.forEach(function(q){h.call(y,q,S,this)},this)},this)},n.na=function(){qn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const q=h[S];for(let K=0;K<q.length;K++)_.push(y[S])}return _},n.V=function(h){qn(this);let y=[];if(typeof h=="string")ai(this,h)&&(y=y.concat(this.g.get(Tr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return qn(this),this.i=null,h=Tr(this,h),ai(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function hl(h,y,_){ii(h,y),0<_.length&&(h.i=null,h.g.set(Tr(h,y),U(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var q=K;oe[S]!==""&&(q+="="+encodeURIComponent(String(oe[S]))),h.push(q)}}return this.i=h.join("&")};function Tr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ic(h,y){y&&!h.j&&(qn(h),h.i=null,h.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(ii(this,S),hl(this,q,_))},h)),h.j=y}function Wa(h,y){const _=new zn;if(d.Image){const S=new Image;S.onload=C(Hn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=C(Hn,_,"TestLoadImage: error",!1,y,S),S.onabort=C(Hn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(Hn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function tr(h,y){const _=new zn,S=new AbortController,q=setTimeout(()=>{S.abort(),Hn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(q),K.ok?Hn(_,"TestPingServer: ok",!0,y):Hn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Hn(_,"TestPingServer: error",!1,y)})}function Hn(h,y,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Qa(){this.g=new Zr}function br(h,y,_){const S=_||"";try{ll(h,function(q,K){let oe=q;p(q)&&(oe=Cn(q)),y.push(S+K+"="+encodeURIComponent(oe))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function Hi(h){this.l=h.Ub||null,this.j=h.eb||!1}I(Hi,Ui),Hi.prototype.g=function(){return new si(this.l,this.j)},Hi.prototype.i=function(h){return function(){return h}}({});function si(h,y){ht.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(si,ht),n=si.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Sr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?wr(this):Sr(this),this.readyState==3&&fl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,wr(this))},n.Qa=function(h){this.g&&(this.response=h,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Sr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Sr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function dl(h){let y="";return le(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ft(h,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=dl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):tt(h,y,_))}function $e(h){ht.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I($e,ht);var Bs=/^https?$/i,$a=["POST","PUT"];n=$e.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?De(this.o):De(vr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){ac(this,K);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call($a,y,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ka(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){ac(this,K)}};function ac(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,zs(h),Ar(h)}function zs(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),Ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),$e.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?js(this):this.bb())},n.bb=function(){js(this)};function js(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)qt(h.Ea,0,h);else if(Ge(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=oe===0){var q=String(h.D).match(Ha)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),S=!Bs.test(q?q.toLowerCase():"")}_=S}if(_)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var K=2<Fn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",zs(h)}}finally{Ar(h)}}}}function Ar(h,y){if(h.g){Ka(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ge(h,"ready");try{_.onreadystatechange=S}catch{}}}function Ka(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xr(y)}};function sc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ff(h){const y={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(G(h[S]))continue;var _=k(h[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[q]||[];y[q]=K,K.push(_)}D(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function qs(h){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,h),this.cb=Xa("retryDelaySeedMs",1e4,h),this.Wa=Xa("forwardChannelMaxRetries",2,h),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ti(h&&h.concurrentRequestLimit),this.Da=new Qa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qs.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,S){lt(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=dc(this,null,this.W),Fs(this)};function ml(h){if(oc(h),h.G==3){var y=h.U++,_=In(h.I);if(tt(_,"SID",h.K),tt(_,"RID",y),tt(_,"TYPE","terminate"),Za(h,_),y=new pn(h,h.j,y),y.L=2,y.v=Ya(In(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=mc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ja(y)}fc(h)}function Hs(h){h.g&&(Ja(h),h.g.cancel(),h.g=null)}function oc(h){Hs(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ys(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Fs(h){if(!ks(h.h)&&!h.s){h.s=!0;var y=h.Ga;ce||N(),me||(ce(),me=!0),Ie.add(y,h),h.B=0}}function Yf(h,y){return Ps(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ft(b(h.Ga,h,y),yl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new pn(this,this.j,h);let K=this.o;if(this.S&&(K?(K=A(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=lc(this,q,y),_=In(this.I),tt(_,"RID",h),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Za(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(dl(K)))+"&"+y:this.m&&Ft(_,this.m,K)),Vs(this.h,q),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",y),tt(_,"SID","null"),q.T=!0,er(q,_,null)):er(q,_,y),this.G=2}}else this.G==3&&(h?gl(this,h):this.i.length==0||ks(this.h)||gl(this))};function gl(h,y){var _;y?_=y.l:_=h.U++;const S=In(h.I);tt(S,"SID",h.K),tt(S,"RID",_),tt(S,"AID",h.T),Za(h,S),h.m&&h.o&&Ft(S,h.m,h.o),_=new pn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=lc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Vs(h.h,_),er(_,S,y)}function Za(h,y){h.H&&le(h.H,function(_,S){tt(y,S,_)}),h.l&&ll({},function(_,S){tt(y,S,_)})}function lc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?b(h.l.Na,h.l,h):null;e:{var q=h.i;let K=-1;for(;;){const oe=["count="+_];K==-1?0<_?(K=q[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let je=!0;for(let Pt=0;Pt<_;Pt++){let qe=q[Pt].g;const Yt=q[Pt].map;if(qe-=K,0>qe)K=Math.max(0,q[Pt].g-100),je=!1;else try{br(Yt,oe,"req"+qe+"_")}catch{S&&S(Yt)}}if(je){S=oe.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,S}function uc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ce||N(),me||(ce(),me=!0),Ie.add(y,h),h.v=0}}function pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ft(b(h.Fa,h),yl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ft(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Hs(this),cc(this))};function Ja(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function cc(h){h.g=new pn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=In(h.qa);tt(y,"RID","rpc"),tt(y,"SID",h.K),tt(y,"AID",h.T),tt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(y,"TO",h.ja),tt(y,"TYPE","xmlhttp"),Za(h,y),h.m&&h.o&&Ft(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ya(In(y)),_.m=null,_.P=!0,ei(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Hs(this),pl(this),lt(19))};function Ys(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function hc(h,y){var _=null;if(h.g==y){Ys(h),Ja(h),h.g=null;var S=2}else if(sl(h.h,y))_=y.D,yn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;S=kt(),Ge(S,new gt(S,_)),Fs(h)}else uc(h);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Yf(h,y)||S==2&&pl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),q){case 1:oi(h,5);break;case 4:oi(h,10);break;case 3:oi(h,6);break;default:oi(h,2)}}}function yl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function oi(h,y){if(h.j.info("Error code "+y),y==2){var _=b(h.fb,h),S=h.Xa;const q=!S;S=new It(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fa(S,"https"),Ya(S),q?Wa(S.toString(),_):tr(S.toString(),_)}else lt(2);h.G=0,h.l&&h.l.sa(y),fc(h),oc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function fc(h){if(h.G=0,h.ka=[],h.l){const y=ol(h.h);(y.length!=0||h.i.length!=0)&&(V(h.ka,y),V(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function dc(h,y,_){var S=_ instanceof It?In(_):new It(_);if(S.g!="")y&&(S.g=y+"."+S.g),qi(S,S.s);else{var q=d.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var K=new It(null);S&&Fa(K,S),y&&(K.g=y),q&&qi(K,q),_&&(K.l=_),S=K}return _=h.D,y=h.ya,_&&y&&tt(S,_,y),tt(S,"VER",h.la),Za(h,S),S}function mc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new $e(new Hi({eb:_})):new $e(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gs(){}Gs.prototype.g=function(h,y){return new vn(h,y)};function vn(h,y){ht.call(this),this.g=new qs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!G(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Rr(this)}I(vn,ht),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ml(this.g)},vn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Cn(h),h=_);y.i.push(new nc(y.Ya++,h)),y.G==3&&Fs(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,vn.aa.N.call(this)};function pc(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}I(pc,Ht);function yc(){Kt.call(this),this.status=1}I(yc,Kt);function Rr(h){this.g=h}I(Rr,gc),Rr.prototype.ua=function(){Ge(this.g,"a")},Rr.prototype.ta=function(h){Ge(this.g,new pc(h))},Rr.prototype.sa=function(h){Ge(this.g,new yc)},Rr.prototype.ra=function(){Ge(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,KT=function(){return new Gs},$T=function(){return kt()},QT=gn,mg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Ch=zi,Jr.COMPLETE="complete",WT=Jr,Qe.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",ht.prototype.listen=ht.prototype.K,cu=Qe,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,GT=$e}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",k0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Wg("@firebase/firestore");function So(){return Ts.logLevel}function fe(n,...e){if(Ts.logLevel<=Be.DEBUG){const t=e.map(Kg);Ts.debug(`Firestore (${Qo}): ${n}`,...t)}}function Mi(n,...e){if(Ts.logLevel<=Be.ERROR){const t=e.map(Kg);Ts.error(`Firestore (${Qo}): ${n}`,...t)}}function Po(n,...e){if(Ts.logLevel<=Be.WARN){const t=e.map(Kg);Ts.warn(`Firestore (${Qo}): ${n}`,...t)}}function Kg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,XT(n,i,t)}function XT(n,e,t){let i=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Mi(i),new Error(i)}function Ke(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||XT(e,s,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class DI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OI{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let i=this.i;const s=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},d=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new ZT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class MI{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NI{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new MI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new P0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=kI(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function xe(n,e){return n<e?-1:n>e?1:0}function gg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return xe(i,s);{const l=JT(),c=PI(l.encode(V0(n,t)),l.encode(V0(e,t)));return c!==0?c:xe(i,s)}}t+=i>65535?2:1}return xe(n.length,e.length)}function V0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function PI(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function Vo(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-62135596800,U0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*U0);return new xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<L0)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-L0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new xt(0,0))}static max(){return new Re(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=kr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const i=kr.isNumericId(e),s=kr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?kr.extractNumericId(e).compare(kr.extractNumericId(t)):gg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class ct extends kr{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends kr{construct(e,t,i){return new rn(e,t,i)}static isValidIdentifier(e){return VI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new rn([B0])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function LI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new Aa(s,_e.empty(),e)}function UI(n){return new Aa(n.readTime,n.key,Su)}class Aa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Aa(Re.min(),_e.empty(),Su)}static max(){return new Aa(Re.max(),_e.empty(),Su)}}function BI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==zI)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&t()},g=>i(g))}),c=!0,l===s&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(s=>s?ne.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next(v=>{c[p]=v,++d,d===l&&i(c)},v=>s(v))}})}static doWhile(e,t){return new ne((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function qI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}mf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-1;function gf(n){return n==null}function jh(n){return n===0&&1/n==-1/0}function HI(n){return typeof n=="number"&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="";function FI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=z0(e)),e=YI(n.get(t),e);return z0(e)}function YI(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case tb:t+="";break;default:t+=l}}return t}function z0(n){return n+tb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??nn.RED,this.left=s??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new nn(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return nn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Bt(rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rb("Invalid base64 string: "+l):l}}(e);return new an(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const GI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=GI.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ca(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="server_timestamp",ab="__type__",sb="__previous_value__",ob="__local_write_time__";function Zg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ab])===null||t===void 0?void 0:t.stringValue)===ib}function pf(n){const e=n.mapValue.fields[sb];return Zg(e)?pf(e):e}function Au(n){const e=Ra(n.mapValue.fields[ob].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t,i,s,l,c,d,g,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const qh="(default)";class Ru{constructor(e,t){this.projectId=e,this.database=t||qh}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="__type__",QI="__max__",Th={mapValue:{}},ub="__vector__",Hh="value";function Ia(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zg(n)?4:KI(n)?9007199254740991:$I(n)?10:11:Se(28295,{value:n})}function qr(n,e){if(n===e)return!0;const t=Ia(n);if(t!==Ia(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Au(n).isEqual(Au(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ra(s.timestampValue),d=Ra(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Ca(s.bytesValue).isEqual(Ca(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return At(s.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return At(s.integerValue)===At(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=At(s.doubleValue),d=At(l.doubleValue);return c===d?jh(c)===jh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Vo(n.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(j0(c)!==j0(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!qr(c[g],d[g])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function Cu(n,e){return(n.values||[]).find(t=>qr(t,e))!==void 0}function Lo(n,e){if(n===e)return 0;const t=Ia(n),i=Ia(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=At(l.integerValue||l.doubleValue),g=At(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return H0(n.timestampValue,e.timestampValue);case 4:return H0(Au(n),Au(e));case 5:return gg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ca(l),g=Ca(c);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const v=xe(d[p],g[p]);if(v!==0)return v}return xe(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=xe(At(l.latitude),At(c.latitude));return d!==0?d:xe(At(l.longitude),At(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return F0(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,g,p,v;const T=l.fields||{},b=c.fields||{},C=(d=T[Hh])===null||d===void 0?void 0:d.arrayValue,I=(g=b[Hh])===null||g===void 0?void 0:g.arrayValue,U=xe(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:F0(C,I)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Th.mapValue&&c===Th.mapValue)return 0;if(l===Th.mapValue)return 1;if(c===Th.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const b=gg(g[T],v[T]);if(b!==0)return b;const C=Lo(d[g[T]],p[v[T]]);if(C!==0)return C}return xe(g.length,v.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function H0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=Ra(n),i=Ra(e),s=xe(t.seconds,i.seconds);return s!==0?s:xe(t.nanos,i.nanos)}function F0(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Lo(t[s],i[s]);if(l)return l}return xe(t.length,i.length)}function Uo(n){return pg(n)}function pg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ra(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ca(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=pg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${pg(t.fields[c])}`;return s+"}"}(n.mapValue):Se(61005,{value:n})}function Ih(n){switch(Ia(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(n);return e?16+Ih(e):16;case 5:return 2*n.stringValue.length;case 6:return Ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Ih(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return xa(i.fields,(l,c)=>{s+=l.length+Ih(c)}),s}(n.mapValue);default:throw Se(13486,{value:n})}}function Y0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yg(n){return!!n&&"integerValue"in n}function Jg(n){return!!n&&"arrayValue"in n}function G0(n){return!!n&&"nullValue"in n}function W0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dh(n){return!!n&&"mapValue"in n}function $I(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[lb])===null||t===void 0?void 0:t.stringValue)===ub}function pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=pu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(t)}setAll(e){let t=rn.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=pu(c):s.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){xa(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Rn(pu(this.value))}}function cb(n){const e=[];return xa(n.fields,(t,i)=>{const s=new rn([t]);if(Dh(i)){const l=cb(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),Rn.empty(),0)}static newFoundDocument(e,t,i,s){return new hn(e,1,t,Re.min(),i,s,0)}static newNoDocument(e,t){return new hn(e,2,t,Re.min(),Re.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Re.min(),Re.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function Q0(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=Lo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function $0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function XI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{}class Nt extends hb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new JI(e,t,i):t==="array-contains"?new nD(e,i):t==="in"?new rD(e,i):t==="not-in"?new iD(e,i):t==="array-contains-any"?new aD(e,i):new Nt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new eD(e,i):new tD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lo(t,this.value)):t!==null&&Ia(this.value)===Ia(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends hb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new cr(e,t)}matches(e){return fb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fb(n){return n.op==="and"}function db(n){return ZI(n)&&fb(n)}function ZI(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function vg(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Uo(n.value);if(db(n))return n.filters.map(e=>vg(e)).join(",");{const e=n.filters.map(t=>vg(t)).join(",");return`${n.op}(${e})`}}function mb(n,e){return n instanceof Nt?function(i,s){return s instanceof Nt&&i.op===s.op&&i.field.isEqual(s.field)&&qr(i.value,s.value)}(n,e):n instanceof cr?function(i,s){return s instanceof cr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&mb(c,s.filters[d]),!0):!1}(n,e):void Se(19439)}function gb(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`}(n):n instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(gb).join(" ,")+"}"}(n):"Filter"}class JI extends Nt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class eD extends Nt{constructor(e,t){super(e,"in",t),this.keys=pb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tD extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=pb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class nD extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jg(t)&&Cu(t.arrayValue,this.value)}}class rD extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cu(this.value.arrayValue,t)}}class iD extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cu(this.value.arrayValue,t)}}class aD extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Cu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function K0(n,e=null,t=[],i=[],s=null,l=null,c=null){return new sD(n,e,t,i,s,l,c)}function ep(n){const e=Ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Uo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Uo(i)).join(",")),e.Ie=t}return e.Ie}function tp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$0(n.startAt,e.startAt)&&$0(n.endAt,e.endAt)}function _g(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function oD(n,e,t,i,s,l,c,d){return new Xo(n,e,t,i,s,l,c,d)}function yf(n){return new Xo(n)}function X0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yb(n){return n.collectionGroup!==null}function yu(n){const e=Ce(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(rn.comparator);return c.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Iu(l,i))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new Iu(rn.keyField(),i))}return e.Ee}function Ur(n){const e=Ce(n);return e.de||(e.de=lD(e,yu(n))),e.de}function lD(n,e){if(n.limitType==="F")return K0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Iu(s.field,l)});const t=n.endAt?new Fh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fh(n.startAt.position,n.startAt.inclusive):null;return K0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Eg(n,e){const t=n.filters.concat([e]);return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tg(n,e,t){return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vf(n,e){return tp(Ur(n),Ur(e))&&n.limitType===e.limitType}function vb(n){return`${ep(Ur(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>gb(s)).join(", ")}]`),gf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Uo(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Uo(s)).join(",")),`Target(${i})`}(Ur(n))}; limitType=${n.limitType})`}function _f(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of yu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,d,g){const p=Q0(c,d,g);return c.inclusive?p<=0:p<0}(i.startAt,yu(i),s)||i.endAt&&!function(c,d,g){const p=Q0(c,d,g);return c.inclusive?p>=0:p>0}(i.endAt,yu(i),s))}(n,e)}function uD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _b(n){return(e,t)=>{let i=!1;for(const s of yu(n)){const l=cD(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function cD(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?Lo(g,p):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return nb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new vt(_e.comparator);function Ni(){return hD}const Eb=new vt(_e.comparator);function hu(...n){let e=Eb;for(const t of n)e=e.insert(t.key,t);return e}function Tb(n){let e=Eb;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ys(){return vu()}function bb(){return vu()}function vu(){return new As(n=>n.toString(),(n,e)=>n.isEqual(e))}const fD=new vt(_e.comparator),dD=new Bt(_e.comparator);function ze(...n){let e=dD;for(const t of n)e=e.add(t);return e}const mD=new Bt(xe);function gD(){return mD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function wb(n){return{integerValue:""+n}}function pD(n,e){return HI(e)?wb(e):np(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function yD(n,e,t){return n instanceof Yh?function(s,l){const c={fields:{[ab]:{stringValue:ib},[ob]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Zg(l)&&(l=pf(l)),l&&(c.fields[sb]=l),{mapValue:c}}(t,e):n instanceof Du?Ab(n,e):n instanceof Ou?Rb(n,e):function(s,l){const c=Sb(s,l),d=Z0(c)+Z0(s.Re);return yg(c)&&yg(s.Re)?wb(d):np(s.serializer,d)}(n,e)}function vD(n,e,t){return n instanceof Du?Ab(n,e):n instanceof Ou?Rb(n,e):t}function Sb(n,e){return n instanceof Gh?function(i){return yg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Yh extends Ef{}class Du extends Ef{constructor(e){super(),this.elements=e}}function Ab(n,e){const t=Cb(e);for(const i of n.elements)t.some(s=>qr(s,i))||t.push(i);return{arrayValue:{values:t}}}class Ou extends Ef{constructor(e){super(),this.elements=e}}function Rb(n,e){let t=Cb(e);for(const i of n.elements)t=t.filter(s=>!qr(s,i));return{arrayValue:{values:t}}}class Gh extends Ef{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Z0(n){return At(n.integerValue||n.doubleValue)}function Cb(n){return Jg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _D(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Du&&s instanceof Du||i instanceof Ou&&s instanceof Ou?Vo(i.elements,s.elements,qr):i instanceof Gh&&s instanceof Gh?qr(i.Re,s.Re):i instanceof Yh&&s instanceof Yh}(n.transform,e.transform)}class ED{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tf{}function Ib(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rp(n.key,lr.none()):new zu(n.key,n.data,lr.none());{const t=n.data,i=Rn.empty();let s=new Bt(rn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new ka(n.key,i,new Bn(s.toArray()),lr.none())}}function TD(n,e,t){n instanceof zu?function(s,l,c){const d=s.value.clone(),g=eE(s.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ka?function(s,l,c){if(!Oh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=eE(s.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(Db(s)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function _u(n,e,t,i){return n instanceof zu?function(l,c,d,g){if(!Oh(l.precondition,c))return d;const p=l.value.clone(),v=tE(l.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof ka?function(l,c,d,g){if(!Oh(l.precondition,c))return d;const p=tE(l.fieldTransforms,g,c),v=c.data;return v.setAll(Db(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Oh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function bD(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=Sb(i.transform,s||null);l!=null&&(t===null&&(t=Rn.empty()),t.set(i.field,l))}return t||null}function J0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Vo(i,s,(l,c)=>_D(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zu extends Tf{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ka extends Tf{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Db(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function eE(n,e,t){const i=new Map;Ke(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,vD(c,d,t[s]))}return i}function tE(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,yD(l,c,e))}return i}class rp extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wD extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&TD(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=_u(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=_u(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bb();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const g=Ib(c,d);g!==null&&i.set(s.key,g),c.isValidDocument()||c.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(t,i)=>J0(t,i))&&Vo(this.baseMutations,e.baseMutations,(t,i)=>J0(t,i))}}class ip{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ke(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return fD}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new ip(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Fe;function CD(n){switch(n){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function Ob(n){if(n===void 0)return Mi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Mt.OK:return te.OK;case Mt.CANCELLED:return te.CANCELLED;case Mt.UNKNOWN:return te.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return te.INTERNAL;case Mt.UNAVAILABLE:return te.UNAVAILABLE;case Mt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Mt.NOT_FOUND:return te.NOT_FOUND;case Mt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Mt.ABORTED:return te.ABORTED;case Mt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Mt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:n})}}(Fe=Mt||(Mt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new ba([4294967295,4294967295],0);function nE(n){const e=JT().encode(n),t=new YT;return t.update(e),new Uint8Array(t.digest())}function rE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ba([t,i],0),new ba([s,l],0)]}class ap{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fu(`Invalid padding: ${t}`);if(i<0)throw new fu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ba.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(ba.fromNumber(i)));return s.compare(ID)===1&&(s=new ba([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=nE(e),[i,s]=rE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ap(l,s,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=nE(e),[i,s]=rE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new bf(Re.min(),s,new vt(xe),Ni(),ze())}}class ju{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ju(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class Mb{constructor(e,t){this.targetId=e,this.Ce=t}}class Nb{constructor(e,t,i=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class iE{constructor(){this.Fe=0,this.Me=aE(),this.xe=an.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),i=ze();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Se(38017,{changeType:l})}}),new ju(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=aE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DD{constructor(e){this.ze=e,this.je=new Map,this.He=Ni(),this.Je=bh(),this.Ye=bh(),this.Ze=new vt(xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const l=s.target;if(_g(l))if(i===0){const c=new _e(l.path);this.tt(t,c,hn.newNoDocument(c,Re.min()))}else Ke(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),g=d?this.lt(d,e,c):1;if(g!==0){this.st(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=Ca(i).toUint8Array()}catch(g){if(g instanceof rb)return Po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new ap(c,s,l)}catch(g){return Po(g instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),s++)}),s}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&_g(d.target)){const g=new _e(d.target.path);this.Et(g).has(c)||this.dt(c,g)||this.tt(c,g,hn.newNoDocument(g,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=ze();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new bf(e,t,this.Ze,this.He,i);return this.He=Ni(),this.Je=bh(),this.Ye=bh(),this.Ze=new vt(xe),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new iE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Bt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Bt(xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new iE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function bh(){return new vt(_e.comparator)}function aE(){return new vt(_e.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},MD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ND={and:"AND",or:"OR"};class xD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bg(n,e){return n.useProto3Json||gf(e)?e:{value:e}}function Wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kD(n,e){return Wh(n,e.toTimestamp())}function Br(n){return Ke(!!n,49232),Re.fromTimestamp(function(t){const i=Ra(t);return new xt(i.seconds,i.nanos)}(n))}function sp(n,e){return wg(n,e).canonicalString()}function wg(n,e){const t=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kb(n){const e=ct.fromString(n);return Ke(Bb(e),10190,{key:e.toString()}),e}function Sg(n,e){return sp(n.databaseId,e.path)}function $m(n,e){const t=kb(e);if(t.get(1)!==n.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Vb(t))}function Pb(n,e){return sp(n.databaseId,e)}function PD(n){const e=kb(n);return e.length===4?ct.emptyPath():Vb(e)}function Ag(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vb(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sE(n,e,t){return{name:Sg(n,e),fields:t.value.mapValue.fields}}function VD(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?te.UNKNOWN:Ob(p.code);return new de(v,p.message||"")}(c);t=new Nb(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=$m(n,i.document.name),l=Br(i.document.updateTime),c=i.document.createTime?Br(i.document.createTime):Re.min(),d=new Rn({mapValue:{fields:i.document.fields}}),g=hn.newFoundDocument(s,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Mh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=$m(n,i.document),l=i.readTime?Br(i.readTime):Re.min(),c=hn.newNoDocument(s,l),d=i.removedTargetIds||[];t=new Mh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=$m(n,i.document),l=i.removedTargetIds||[];t=new Mh([],l,s,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new RD(s,l),d=i.targetId;t=new Mb(d,c)}}return t}function LD(n,e){let t;if(e instanceof zu)t={update:sE(n,e.key,e.value)};else if(e instanceof rp)t={delete:Sg(n,e.key)};else if(e instanceof ka)t={update:sE(n,e.key,e.data),updateMask:GD(e.fieldMask)};else{if(!(e instanceof wD))return Se(16599,{ft:e.type});t={verify:Sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Yh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Se(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:kD(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(n,e.precondition)),t}function UD(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?Br(s.updateTime):Br(l);return c.isEqual(Re.min())&&(c=Br(l)),new ED(c,s.transformResults||[])}(t,e))):[]}function BD(n,e){return{documents:[Pb(n,e.path)]}}function zD(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Pb(n,s);const l=function(p){if(p.length!==0)return Ub(cr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:Ro(b.field),direction:HD(b.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=bg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function jD(n){let e=PD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ke(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const b=Lb(T);return b instanceof cr&&db(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(I){return new Iu(Co(I.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,gf(b)?null:b}(t.limit));let g=null;t.startAt&&(g=function(T){const b=!!T.before,C=T.values||[];return new Fh(C,b)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const b=!T.before,C=T.values||[];return new Fh(C,b)}(t.endAt)),oD(e,s,c,l,d,"F",g,p)}function qD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Co(t.unaryFilter.field);return Nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Co(t.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(t.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(t.unaryFilter.field);return Nt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(Co(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(i=>Lb(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function HD(n){return OD[n]}function FD(n){return MD[n]}function YD(n){return ND[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Co(n){return rn.fromServerFormat(n.fieldPath)}function Ub(n){return n instanceof Nt?function(t){if(t.op==="=="){if(W0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(G0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(W0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(G0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:FD(t.op),value:t.value}}}(n):n instanceof cr?function(t){const i=t.getFilters().map(s=>Ub(s));return i.length===1?i[0]:{compositeFilter:{op:YD(t.op),filters:i}}}(n):Se(54877,{filter:n})}function GD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,i,s,l=Re.min(),c=Re.min(),d=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.wt=e}}function QD(n){const e=jD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.Cn=new KD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Aa.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class KD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Bt(ct.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Bt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zb=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(zb,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Bo(0)}static lr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",XD=1048576;function uE([n,e],[t,i]){const s=xe(n,t);return s===0?xe(e,i):s}class ZD{constructor(e){this.Er=e,this.buffer=new Bt(uE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();uE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(lE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ko(t)?fe(lE,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.mr(3e5)})}}class eO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(mf.le);const i=new ZD(t);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(oE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,s,l,c,d,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(p=Date.now(),So()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T})))}}function tO(n,e){return new eO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.changes=new As(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&_u(i.mutation,s,Bn.empty(),xt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const s=ys();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=hu();return l.forEach((d,g)=>{c=c.insert(d,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ys();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,s){let l=Ni();const c=vu(),d=function(){return vu()}();return t.forEach((g,p)=>{const v=i.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof ka)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),_u(v.mutation,p,v.mutation.getFieldMask(),xt.now())):c.set(p.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var T;return d.set(p,new rO(v,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=vu();let s=new vt((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let v=i.get(g)||Bn.empty();v=d.applyToLocalView(p,v),i.set(g,v);const T=(s.get(d.batchId)||ze()).add(g);s=s.insert(d.batchId,T)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,v=g.value,T=bb();v.forEach(b=>{if(!l.has(b)){const C=Ib(t.get(b),i.get(b));C!==null&&T.set(b,C),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ne.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):ne.resolve(ys());let d=Su,g=l;return c.next(p=>ne.forEach(p,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{g=g.insert(v,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,g,p,ze())).next(v=>({batchId:d,changes:Tb(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let s=hu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=hu();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,g=>{const p=function(T,b){return new Xo(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(v=>{v.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,hn.newInvalidDocument(v)))});let d=hu();return c.forEach((g,p)=>{const v=l.get(g);v!==void 0&&_u(v.mutation,p,Bn.empty(),xt.now()),_f(t,p)&&(d=d.insert(g,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Br(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:QD(s.bundledQuery),readTime:Br(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.overlays=new vt(_e.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ys();return ne.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.St(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const s=ys(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>i&&s.set(g.getKey(),g)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new vt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=ys(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ys(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=s)););return ne.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new AD(t,i));let l=this.Qr.get(t);l===void 0&&(l=ze(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.$r=new Bt($t.Ur),this.Kr=new Bt($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new $t(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new $t(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new _e(new ct([])),i=new $t(t,e),s=new $t(t,e+1),l=[];return this.Kr.forEachInRange([i,s],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new ct([])),i=new $t(t,e),s=new $t(t,e+1);let l=ze();return this.Kr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new $t(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Bt($t.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SD(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Xr=this.Xr.add(new $t(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ti(i),l=s<0?0:s;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Xg:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),s=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,s],c=>{const d=this.ei(c.Zr);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(xe);return t.forEach(s=>{const l=new $t(s,0),c=new $t(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),ne.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new $t(new _e(l),0);let d=new Bt(xe);return this.Xr.forEachWhile(g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(d=d.add(g.Zr)),!0)},c),ne.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ke(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ne.forEach(t.mutations,s=>{const l=new $t(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new $t(t,0),s=this.Xr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.ii=e,this.docs=function(){return new vt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let i=Ni();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():hn.newInvalidDocument(s))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Ni();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||BI(UI(v),i)<=0||(s.has(v.key)||_f(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Se(9500)}si(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cO(this)}getSize(e){return ne.resolve(this.size)}}class cO extends nO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.persistence=e,this.oi=new As(t=>ep(t),tp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new op,this.targetCount=0,this.ui=Bo.cr()}forEachTarget(e,t){return this.oi.forEach((i,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ne.waitFor(l).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){this.ci={},this.overlays={},this.li=new mf(0),this.hi=!1,this.hi=!0,this.Pi=new oO,this.referenceDelegate=e(this),this.Ti=new hO(this),this.indexManager=new $D,this.remoteDocumentCache=function(s){return new uO(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new WD(t),this.Ei=new aO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new lO(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const s=new fO(this.li.next());return this.referenceDelegate.di(),i(s).next(l=>this.referenceDelegate.Ai(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ri(e,t){return ne.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class fO extends jI{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Vi=new op,this.mi=null}static fi(e){return new lp(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,i=>{const s=_e.fromPath(i);return this.pi(e,s).next(l=>{l||t.removeEntry(s,Re.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Qh{constructor(e,t){this.persistence=e,this.yi=new As(i=>FI(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=tO(this,t)}static fi(e,t){return new Qh(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(l=>l?ne.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Re.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ih(e.data.value)),t}Dr(e,t,i){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return ne.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ds=i,this.As=s}static Rs(e,t){let i=ze(),s=ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new up(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cC()?8:qI(fn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new dO;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,i,s){return i.documentReadCount<this.gs?(So()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(So()<=Be.DEBUG&&fe("QueryEngine","Query:",Ao(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(So()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):ne.resolve())}ws(e,t){if(X0(t))return ne.resolve(null);let i=Ur(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Tg(t,null,"F"),i=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(g=>{const p=this.vs(t,d);return this.Cs(t,p,c,g.readTime)?this.ws(e,Tg(t,null,"F")):this.Fs(e,p,t,g)}))})))}bs(e,t,i,s){return X0(t)||s.isEqual(Re.min())?ne.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,s)?ne.resolve(null):(So()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ao(t)),this.Fs(e,c,t,LI(s,Su)).next(d=>d))})}vs(e,t){let i=new Bt(_b(e));return t.forEach((s,l)=>{_f(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,t,i){return So()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.ys.getDocumentsMatchingQuery(e,t,Aa.min(),i)}Fs(e,t,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",gO=3e8;class pO{constructor(e,t,i,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new vt(xe),this.Os=new As(l=>ep(l),tp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function yO(n,e,t,i){return new pO(n,e,t,i)}async function qb(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let g=ze();for(const p of s){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(i,g).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function vO(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,g,p,v){const T=p.batch,b=T.keys();let C=ne.resolve();return b.forEach(I=>{C=C.next(()=>v.getEntry(g,I)).next(U=>{const V=p.docVersions.get(I);Ke(V!==null,48541),U.version.compareTo(V)<0&&(T.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),v.addEntry(U)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let g=ze();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function Hb(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function _O(n,e){const t=Ce(n),i=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const d=[];e.targetChanges.forEach((v,T)=>{const b=s.get(T);if(!b)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,T)));let C=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(an.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),s=s.insert(T,C),function(U,V,j){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=gO?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,C,v)&&d.push(t.Ti.updateTargetData(l,C))});let g=Ni(),p=ze();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(EO(l,c,e.documentUpdates).next(v=>{g=v.qs,p=v.Qs})),!i.isEqual(Re.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(T=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ne.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,p)).next(()=>g)}).then(l=>(t.xs=s,l))}function EO(n,e,t){let i=ze(),s=ze();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ni();return t.forEach((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(d,g)):fe(cp,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)}),{qs:c,Qs:s}})}function TO(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Xg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function bO(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ti.getTargetData(i,e).next(l=>l?(s=l,ne.resolve(s)):t.Ti.allocateTargetId(i).next(c=>(s=new va(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Rg(n,e,t){const i=Ce(n),s=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Ko(c))throw c;fe(cp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function cE(n,e,t){const i=Ce(n);let s=Re.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(g,p,v){const T=Ce(g),b=T.Os.get(v);return b!==void 0?ne.resolve(T.xs.get(b)):T.Ti.getTargetData(p,v)}(i,c,Ur(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(g=>{l=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?s:Re.min(),t?l:ze())).next(d=>(wO(i,uD(e),d),{documents:d,$s:l})))}function wO(n,e,t){let i=n.Ns.get(e)||Re.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class hE{constructor(){this.activeTargetIds=gD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SO{constructor(){this.xo=new hE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new hE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class dE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(fE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function Cg(){return wh===null?wh=function(){return 268435456+Math.round(2147483648*Math.random())}():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===qh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,t,i,s,l){const c=Cg(),d=this.jo(e,t.toUriEncodedString());fe(Km,`Sending RPC '${e}' ${c}:`,d,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,s,l);const{host:p}=new URL(d),v=Lu(p);return this.Jo(e,d,g,i,v).then(T=>(fe(Km,`Received RPC '${e}' ${c}: `,T),T),T=>{throw Po(Km,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T})}Yo(e,t,i,s,l,c){return this.zo(e,t,i,s,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}jo(e,t){const i=RO[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class DO extends CO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,l){const c=Cg();return new Promise((d,g)=>{const p=new GT;p.setWithCredentials(!0),p.listenOnce(WT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ch.NO_ERROR:const T=p.getResponseJson();fe(ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ch.TIMEOUT:fe(ln,`RPC '${e}' ${c} timed out`),g(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const b=p.getStatus();if(fe(ln,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C==null?void 0:C.error;if(I&&I.status&&I.message){const U=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(I.status);g(new de(U,I.message))}else g(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{fe(ln,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);fe(ln,`RPC '${e}' ${c} sending request:`,s),p.send(t,"POST",v,i,15)})}I_(e,t,i){const s=Cg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=KT(),d=$T(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const v=l.join("");fe(ln,`Creating RPC '${e}' stream ${s}: ${v}`,g);const T=c.createWebChannel(v,g);this.E_(T);let b=!1,C=!1;const I=new IO({Zo:V=>{C?fe(ln,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(b||(fe(ln,`Opening RPC '${e}' stream ${s} transport.`),T.open(),b=!0),fe(ln,`RPC '${e}' stream ${s} sending:`,V),T.send(V))},Xo:()=>T.close()}),U=(V,j,G)=>{V.listen(j,Q=>{try{G(Q)}catch(se){setTimeout(()=>{throw se},0)}})};return U(T,cu.EventType.OPEN,()=>{C||(fe(ln,`RPC '${e}' stream ${s} transport opened.`),I.__())}),U(T,cu.EventType.CLOSE,()=>{C||(C=!0,fe(ln,`RPC '${e}' stream ${s} transport closed`),I.u_(),this.d_(T))}),U(T,cu.EventType.ERROR,V=>{C||(C=!0,Po(ln,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),I.u_(new de(te.UNAVAILABLE,"The operation could not be completed")))}),U(T,cu.EventType.MESSAGE,V=>{var j;if(!C){const G=V.data[0];Ke(!!G,16349);const Q=G,se=(Q==null?void 0:Q.error)||((j=Q[0])===null||j===void 0?void 0:j.error);if(se){fe(ln,`RPC '${e}' stream ${s} received error:`,se);const $=se.status;let le=function(R){const x=Mt[R];if(x!==void 0)return Ob(x)}($),D=se.message;le===void 0&&(le=te.INTERNAL,D="Unknown error status: "+$+" with message "+se.message),C=!0,I.u_(new de(le,D)),T.close()}else fe(ln,`RPC '${e}' stream ${s} received:`,G),I.c_(G)}}),U(d,QT.STAT_EVENT,V=>{V.stat===mg.PROXY?fe(ln,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===mg.NOPROXY&&fe(ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){return new xD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,i=1e3,s=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=s,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-i);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class Yb{constructor(e,t,i,s,l,c,d,g){this.xi=e,this.S_=i,this.D_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Fb(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===t&&this.z_(i,s)},i=>{e(()=>{const s=new de(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(fe(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OO extends Yb{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=VD(this.serializer,e),i=function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Br(c.readTime):Re.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=Ag(this.serializer),t.addTarget=function(l,c){let d;const g=c.target;if(d=_g(g)?{documents:BD(l,g)}:{query:zD(l,g).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xb(l,c.resumeToken);const p=bg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=Wh(l,c.snapshotVersion.toTimestamp());const p=bg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=qD(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.Q_(t)}}class MO extends Yb{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=UD(e.writeResults,e.commitTime),i=Br(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=Ag(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>LD(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{}class xO extends NO{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,wg(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(te.UNKNOWN,l.toString())})}Yo(e,t,i,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,wg(t,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(te.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Mi(t),this.ua=!1):fe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class PO{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Rs(this)&&(fe(bs,"Restarting streams for network reachability change."),await async function(g){const p=Ce(g);p.da.add(4),await qu(p),p.Va.set("Unknown"),p.da.delete(4),await Sf(p)}(this))})}),this.Va=new kO(i,s)}}async function Sf(n){if(Rs(n))for(const e of n.Aa)await e(!0)}async function qu(n){for(const e of n.Aa)await e(!1)}function Gb(n,e){const t=Ce(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),mp(t)?dp(t):Zo(t).N_()&&fp(t,e))}function hp(n,e){const t=Ce(n),i=Zo(t);t.Ea.delete(e),i.N_()&&Wb(t,e),t.Ea.size===0&&(i.N_()?i.k_():Rs(t)&&t.Va.set("Unknown"))}function fp(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(n).Z_(e)}function Wb(n,e){n.ma.Ke(e),Zo(n).X_(e)}function dp(n){n.ma=new DD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Zo(n).start(),n.Va.ca()}function mp(n){return Rs(n)&&!Zo(n).O_()&&n.Ea.size>0}function Rs(n){return Ce(n).da.size===0}function Qb(n){n.ma=void 0}async function VO(n){n.Va.set("Online")}async function LO(n){n.Ea.forEach((e,t)=>{fp(n,e)})}async function UO(n,e){Qb(n),mp(n)?(n.Va.Pa(e),dp(n)):n.Va.set("Unknown")}async function BO(n,e,t){if(n.Va.set("Online"),e instanceof Nb&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ea.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ea.delete(d),s.ma.removeTarget(d))}(n,e)}catch(i){fe(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $h(n,i)}else if(e instanceof Mh?n.ma.Xe(e):e instanceof Mb?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Re.min()))try{const i=await Hb(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=l.Ea.get(p);v&&l.Ea.set(p,v.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach((g,p)=>{const v=l.Ea.get(g);if(!v)return;l.Ea.set(g,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),Wb(l,g);const T=new va(v.target,g,p,v.sequenceNumber);fp(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){fe(bs,"Failed to raise snapshot:",i),await $h(n,i)}}async function $h(n,e,t){if(!Ko(e))throw e;n.da.add(1),await qu(n),n.Va.set("Offline"),t||(t=()=>Hb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(bs,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Sf(n)})}function $b(n,e){return e().catch(t=>$h(n,t,e))}async function Af(n){const e=Ce(n),t=Da(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Xg;for(;zO(e);)try{const s=await TO(e.localStore,i);if(s===null){e.Ia.length===0&&t.k_();break}i=s.batchId,jO(e,s)}catch(s){await $h(e,s)}Kb(e)&&Xb(e)}function zO(n){return Rs(n)&&n.Ia.length<10}function jO(n,e){n.Ia.push(e);const t=Da(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Kb(n){return Rs(n)&&!Da(n).O_()&&n.Ia.length>0}function Xb(n){Da(n).start()}async function qO(n){Da(n).ia()}async function HO(n){const e=Da(n);for(const t of n.Ia)e.ta(t.mutations)}async function FO(n,e,t){const i=n.Ia.shift(),s=ip.from(i,e,t);await $b(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Af(n)}async function YO(n,e){e&&Da(n).ea&&await async function(i,s){if(function(c){return CD(c)&&c!==te.ABORTED}(s.code)){const l=i.Ia.shift();Da(i).L_(),await $b(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Af(i)}}(n,e),Kb(n)&&Xb(n)}async function gE(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),fe(bs,"RemoteStore received new credentials");const i=Rs(t);t.da.add(3),await qu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Sf(t)}async function GO(n,e){const t=Ce(n);e?(t.da.delete(2),await Sf(t)):e||(t.da.add(2),await qu(t),t.Va.set("Unknown"))}function Zo(n){return n.fa||(n.fa=function(t,i,s){const l=Ce(t);return l.oa(),new OO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{e_:VO.bind(null,n),n_:LO.bind(null,n),i_:UO.bind(null,n),Y_:BO.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),mp(n)?dp(n):n.Va.set("Unknown")):(await n.fa.stop(),Qb(n))})),n.fa}function Da(n){return n.ga||(n.ga=function(t,i,s){const l=Ce(t);return l.oa(),new MO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:qO.bind(null,n),i_:YO.bind(null,n),na:HO.bind(null,n),ra:FO.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Af(n)):(await n.ga.stop(),n.Ia.length>0&&(fe(bs,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new gp(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pp(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),Ko(n))return new de(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=hu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Do;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.pa=new vt(_e.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class zo{constructor(e,t,i,s,l,c,d,g,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new zo(e,t,Do.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class QO{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Ce(t),l=s.queries;s.queries=yE(),l.forEach((c,d)=>{for(const g of d.Sa)g.onError(i)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function yE(){return new As(n=>vb(n),vf)}async function yp(n,e){const t=Ce(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Da()&&e.va()&&(i=2):(l=new WO,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(s,!0);break;case 1:l.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=pp(c,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&_p(t)}async function vp(n,e){const t=Ce(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.va()?0:1:!l.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function $O(n,e){const t=Ce(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Ma(s)&&(i=!0);c.ba=s}}i&&_p(t)}function KO(n,e,t){const i=Ce(n),s=i.queries.get(e);if(s)for(const l of s.Sa)l.onError(t);i.queries.delete(e)}function _p(n){n.Ca.forEach(e=>{e.next()})}var Ig,vE;(vE=Ig||(Ig={})).xa="default",vE.Cache="cache";class Ep{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.key=e}}class Jb{constructor(e){this.key=e}}class XO{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=_b(e),this.Xa=new Do(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new pE,s=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,T)=>{const b=s.get(v),C=_f(this.query,T)?T:null,I=!!b&&this.mutatedKeys.has(b.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;b&&C?b.data.isEqual(C.data)?I!==U&&(i.track({type:3,doc:C}),V=!0):this.ru(b,C)||(i.track({type:2,doc:C}),V=!0,(g&&this.Za(C,g)>0||p&&this.Za(C,p)<0)&&(d=!0)):!b&&C?(i.track({type:0,doc:C}),V=!0):b&&!C&&(i.track({type:1,doc:b}),V=!0,(g||p)&&(d=!0)),V&&(C?(c=c.add(C),l=U?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,T)=>function(C,I){const U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:V})}};return U(C)-U(I)}(v.type,T.type)||this.Za(v.doc,T.doc)),this.iu(i),s=s!=null&&s;const d=t&&!s?this.su():[],g=this.Ya.size===0&&this.current&&!s?1:0,p=g!==this.Ja;return this.Ja=g,c.length!==0||p?{snapshot:new zo(this.query,e.Xa,l,c,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new pE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Jb(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Zb(i))}),t}au(e){this.Ha=e.$s,this.Ya=ze();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return zo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Tp="SyncEngine";class ZO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class JO{constructor(e){this.key=e,this.cu=!1}}class e2{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new As(d=>vb(d),vf),this.Pu=new Map,this.Tu=new Set,this.Iu=new vt(_e.comparator),this.Eu=new Map,this.du=new op,this.Au={},this.Ru=new Map,this.Vu=Bo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function t2(n,e,t=!0){const i=aw(n);let s;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.uu()):s=await ew(i,e,t,!0),s}async function n2(n,e){const t=aw(n);await ew(t,e,!0,!1)}async function ew(n,e,t,i){const s=await bO(n.localStore,Ur(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await r2(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&Gb(n.remoteStore,s),d}async function r2(n,e,t,i,s){n.fu=(T,b,C)=>async function(U,V,j,G){let Q=V.view.tu(j);Q.Cs&&(Q=await cE(U.localStore,V.query,!1).then(({documents:D})=>V.view.tu(D,Q)));const se=G&&G.targetChanges.get(V.targetId),$=G&&G.targetMismatches.get(V.targetId)!=null,le=V.view.applyChanges(Q,U.isPrimaryClient,se,$);return EE(U,V.targetId,le.ou),le.snapshot}(n,T,b,C);const l=await cE(n.localStore,e,!0),c=new XO(e,l.$s),d=c.tu(l.documents),g=ju.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=c.applyChanges(d,n.isPrimaryClient,g);EE(n,t,p.ou);const v=new ZO(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function i2(n,e,t){const i=Ce(n),s=i.hu.get(e),l=i.Pu.get(s.targetId);if(l.length>1)return i.Pu.set(s.targetId,l.filter(c=>!vf(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Rg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&hp(i.remoteStore,s.targetId),Dg(i,s.targetId)}).catch($o)):(Dg(i,s.targetId),await Rg(i.localStore,s.targetId,!0))}async function a2(n,e){const t=Ce(n),i=t.hu.get(e),s=t.Pu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),hp(t.remoteStore,i.targetId))}async function s2(n,e,t){const i=d2(n);try{const s=await function(c,d){const g=Ce(c),p=xt.now(),v=d.reduce((C,I)=>C.add(I.key),ze());let T,b;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let I=Ni(),U=ze();return g.Bs.getEntries(C,v).next(V=>{I=V,I.forEach((j,G)=>{G.isValidDocument()||(U=U.add(j))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,I)).next(V=>{T=V;const j=[];for(const G of d){const Q=bD(G,T.get(G.key).overlayedDocument);Q!=null&&j.push(new ka(G.key,Q,cb(Q.value.mapValue),lr.exists(!0)))}return g.mutationQueue.addMutationBatch(C,p,j,d)}).next(V=>{b=V;const j=V.applyToLocalDocumentSet(T,U);return g.documentOverlayCache.saveOverlays(C,V.batchId,j)})}).then(()=>({batchId:b.batchId,changes:Tb(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,g){let p=c.Au[c.currentUser.toKey()];p||(p=new vt(xe)),p=p.insert(d,g),c.Au[c.currentUser.toKey()]=p}(i,s.batchId,t),await Hu(i,s.changes),await Af(i.remoteStore)}catch(s){const l=pp(s,"Failed to persist write");t.reject(l)}}async function tw(n,e){const t=Ce(n);try{const i=await _O(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.cu=!0:s.modifiedDocuments.size>0?Ke(c.cu,14607):s.removedDocuments.size>0&&(Ke(c.cu,42227),c.cu=!1))}),await Hu(t,i,e)}catch(i){await $o(i)}}function _E(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.hu.forEach((l,c)=>{const d=c.view.Fa(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const g=Ce(c);g.onlineState=d;let p=!1;g.queries.forEach((v,T)=>{for(const b of T.Sa)b.Fa(d)&&(p=!0)}),p&&_p(g)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function o2(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new vt(_e.comparator);c=c.insert(l,hn.newNoDocument(l,Re.min()));const d=ze().add(l),g=new bf(Re.min(),new Map,new vt(xe),c,d);await tw(i,g),i.Iu=i.Iu.remove(l),i.Eu.delete(e),bp(i)}else await Rg(i.localStore,e,!1).then(()=>Dg(i,e,t)).catch($o)}async function l2(n,e){const t=Ce(n),i=e.batch.batchId;try{const s=await vO(t.localStore,e);rw(t,i,null),nw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Hu(t,s)}catch(s){await $o(s)}}async function u2(n,e,t){const i=Ce(n);try{const s=await function(c,d){const g=Ce(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,d).next(T=>(Ke(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(p,T))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(i.localStore,e);rw(i,e,t),nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Hu(i,s)}catch(s){await $o(s)}}function nw(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function rw(n,e,t){const i=Ce(n);let s=i.Au[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function Dg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||iw(n,i)})}function iw(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(hp(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),bp(n))}function EE(n,e,t){for(const i of t)i instanceof Zb?(n.du.addReference(i.key,e),c2(n,i)):i instanceof Jb?(fe(Tp,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||iw(n,i.key)):Se(19791,{pu:i})}function c2(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(fe(Tp,"New document in limbo: "+t),n.Tu.add(i),bp(n))}function bp(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new _e(ct.fromString(e)),i=n.Vu.next();n.Eu.set(i,new JO(t)),n.Iu=n.Iu.insert(t,i),Gb(n.remoteStore,new va(Ur(yf(t.path)),i,"TargetPurposeLimboResolution",mf.le))}}async function Hu(n,e,t){const i=Ce(n),s=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,g)=>{c.push(i.fu(g,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const T=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(g.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){s.push(p);const T=up.Rs(g.targetId,p);l.push(T)}}))}),await Promise.all(c),i.lu.Y_(s),await async function(g,p){const v=Ce(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(p,b=>ne.forEach(b.ds,C=>v.persistence.referenceDelegate.addReference(T,b.targetId,C)).next(()=>ne.forEach(b.As,C=>v.persistence.referenceDelegate.removeReference(T,b.targetId,C)))))}catch(T){if(!Ko(T))throw T;fe(cp,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const C=v.xs.get(b),I=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(I);v.xs=v.xs.insert(b,U)}}}(i.localStore,l))}async function h2(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){fe(Tp,"User change. New user:",e.toKey());const i=await qb(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(d=>{d.forEach(g=>{g.reject(new de(te.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hu(t,i.ks)}}function f2(n,e){const t=Ce(n),i=t.Eu.get(e);if(i&&i.cu)return ze().add(i.key);{let s=ze();const l=t.Pu.get(e);if(!l)return s;for(const c of l){const d=t.hu.get(c);s=s.unionWith(d.view.eu)}return s}}function aw(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o2.bind(null,e),e.lu.Y_=$O.bind(null,e.eventManager),e.lu.gu=KO.bind(null,e.eventManager),e}function d2(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return yO(this.persistence,new mO,e.initialUser,this.serializer)}Su(e){return new jb(lp.fi,this.serializer)}bu(e){return new SO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class m2 extends Kh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ke(this.persistence.referenceDelegate instanceof Qh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new JD(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new jb(i=>Qh.fi(i,t),this.serializer)}}class Og{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_E(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await GO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QO}()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),i=function(l){return new DO(l)}(e.databaseInfo);return function(l,c,d,g){return new xO(l,c,d,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,d){return new PO(i,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>_E(this.syncEngine,t,0),function(){return dE.C()?new dE:new AO}())}createSyncEngine(e,t){return function(s,l,c,d,g,p,v){const T=new e2(s,l,c,d,g,p);return v&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Ce(s);fe(bs,"RemoteStore shutting down."),l.da.add(5),await qu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Og.provider={build:()=>new Og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class g2{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=eb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{fe(Oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(Oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=pp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Zm(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Oa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await qb(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function TE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await p2(n);fe(Oa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>gE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>gE(e.remoteStore,s)),n._onlineComponents=e}async function p2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Oa,"Using user provided OfflineComponentProvider");try{await Zm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Po("Error using user provided cache. Falling back to memory cache: "+t),await Zm(n,new Kh)}}else fe(Oa,"Using default OfflineComponentProvider"),await Zm(n,new m2(void 0));return n._offlineComponents}async function sw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Oa,"Using user provided OnlineComponentProvider"),await TE(n,n._uninitializedComponentsProvider._online)):(fe(Oa,"Using default OnlineComponentProvider"),await TE(n,new Og))),n._onlineComponents}function y2(n){return sw(n).then(e=>e.syncEngine)}async function Xh(n){const e=await sw(n),t=e.eventManager;return t.onListen=t2.bind(null,e.syncEngine),t.onUnlisten=i2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=n2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=a2.bind(null,e.syncEngine),t}function v2(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,p){const v=new wp({next:b=>{v.xu(),c.enqueueAndForget(()=>vp(l,T));const C=b.docs.has(d);!C&&b.fromCache?p.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&g&&g.source==="server"?p.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new Ep(yf(d.path),v,{includeMetadataChanges:!0,Qa:!0});return yp(l,T)}(await Xh(n),n.asyncQueue,e,t,i)),i.promise}function _2(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,p){const v=new wp({next:b=>{v.xu(),c.enqueueAndForget(()=>vp(l,T)),b.fromCache&&g.source==="server"?p.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new Ep(d,v,{includeMetadataChanges:!0,Qa:!0});return yp(l,T)}(await Xh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n,e,t){if(!t)throw new de(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function E2(n,e,t,i){if(e===!0&&i===!0)throw new de(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wE(n){if(!_e.isDocumentKey(n))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SE(n){if(_e.isDocumentKey(n))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rf(n);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firestore.googleapis.com",AE=!0;class RE{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uw,this.ssl=AE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XD)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new II;switch(i.type){case"firstParty":return new NI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=bE.get(t);i&&(fe("ComponentProvider","Removing Datastore"),bE.delete(t),i.terminate())}(this),Promise.resolve()}}function T2(n,e,t,i={}){var s;n=Zn(n,Cf);const l=Lu(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),g=`${e}:${t}`;l&&(LT(`https://${g}`),UT("Firestore",!0)),c.host!==uw&&c.host!==g&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:l,emulatorOptions:i});if(!_s(p,d)&&(n._setSettings(p),i.mockUserToken)){let v,T;if(typeof i.mockUserToken=="string")v=i.mockUserToken,T=cn.MOCK_USER;else{v=tC(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(b)}n._authCredentials=new DI(new ZT(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class wa extends Pa{constructor(e,t,i){super(e,t,yf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new _e(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function Zh(n,e,...t){if(n=zt(n),lw("collection","path",e),n instanceof Cf){const i=ct.fromString(e,...t);return SE(i),new wa(n,null,i)}{if(!(n instanceof En||n instanceof wa))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return SE(i),new wa(n.firestore,null,i)}}function Jh(n,e,...t){if(n=zt(n),arguments.length===1&&(e=eb.newId()),lw("doc","path",e),n instanceof Cf){const i=ct.fromString(e,...t);return wE(i),new En(n,null,new _e(i))}{if(!(n instanceof En||n instanceof wa))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return wE(i),new En(n.firestore,n instanceof wa?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="AsyncQueue";class IE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Fb(this,"async_queue_retry"),this.rc=()=>{const i=Xm();i&&fe(CE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ii;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ko(e))throw e;fe(CE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Mi("INTERNAL UNHANDLED ERROR: ",DE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=gp.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(s),s}oc(){this.Xu&&Se(47125,{cc:DE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function DE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ma extends Cf{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new IE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IE(e),this._firestoreClient=void 0,await e}}}function b2(n,e){const t=typeof n=="object"?n:qT(),i=typeof n=="string"?n:qh,s=$g(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=JR("firestore");l&&T2(s,...l)}return s}function If(n){if(n._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||w2(n),n._firestoreClient}function w2(n){var e,t,i;const s=n._freezeSettings(),l=function(d,g,p,v){return new WI(d,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,ow(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new g2(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(an.fromBase64String(e))}catch(t){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class A2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class cw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ic:n})}}class Cp{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ef(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(hw(this.Ic)&&S2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class R2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||wf(e)}bc(e,t,i,s=!1){return new Cp({Ic:e,methodName:t,wc:i,path:rn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ip(n){const e=n._freezeSettings(),t=wf(n._databaseId);return new R2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function C2(n,e,t,i,s,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,s);Dp("Data must be an object, but it was:",c,i);const d=fw(i,c);let g,p;if(l.merge)g=new Bn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const b=Mg(e,T,t);if(!c.contains(b))throw new de(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);mw(v,b)||v.push(b)}g=new Bn(v),p=c.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,p=c.fieldTransforms;return new A2(new Rn(d),g,p)}class Of extends Sp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function I2(n,e,t,i){const s=n.bc(1,e,t);Dp("Data must be an object, but it was:",s,i);const l=[],c=Rn.empty();xa(i,(g,p)=>{const v=Op(e,g,t);p=zt(p);const T=s.mc(v);if(p instanceof Of)l.push(v);else{const b=Fu(p,T);b!=null&&(l.push(v),c.set(v,b))}});const d=new Bn(l);return new cw(c,d,s.fieldTransforms)}function D2(n,e,t,i,s,l){const c=n.bc(1,e,t),d=[Mg(e,i,t)],g=[s];if(l.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Mg(e,l[b])),g.push(l[b+1]);const p=[],v=Rn.empty();for(let b=d.length-1;b>=0;--b)if(!mw(p,d[b])){const C=d[b];let I=g[b];I=zt(I);const U=c.mc(C);if(I instanceof Of)p.push(C);else{const V=Fu(I,U);V!=null&&(p.push(C),v.set(C,V))}}const T=new Bn(p);return new cw(v,T,c.fieldTransforms)}function O2(n,e,t,i=!1){return Fu(t,n.bc(i?4:3,e))}function Fu(n,e){if(dw(n=zt(n)))return Dp("Unsupported field value:",e,n),fw(n,e);if(n instanceof Sp)return function(i,s){if(!hw(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let g=Fu(d,s.fc(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pD(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=xt.fromDate(i);return{timestampValue:Wh(s.serializer,l)}}if(i instanceof xt){const l=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wh(s.serializer,l)}}if(i instanceof Ap)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jo)return{bytesValue:xb(s.serializer,i._byteString)};if(i instanceof En){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Rp)return function(c,d){return{mapValue:{fields:{[lb]:{stringValue:ub},[Hh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return np(d.serializer,p)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Rf(i)}`)}(n,e)}function fw(n,e){const t={};return nb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(n,(i,s)=>{const l=Fu(s,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function dw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Ap||n instanceof jo||n instanceof En||n instanceof Sp||n instanceof Rp)}function Dp(n,e,t){if(!dw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Rf(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Mg(n,e,t){if((e=zt(e))instanceof Df)return e._internalPath;if(typeof e=="string")return Op(n,e);throw ef("Field path arguments must be of type string or ",n,!1,void 0,t)}const M2=new RegExp("[~\\*/\\[\\]]");function Op(n,e,t){if(e.search(M2)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Df(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ef(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${i}`),c&&(g+=` in document ${s}`),g+=")"),new de(te.INVALID_ARGUMENT,d+n+g)}function mw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N2 extends gw{data(){return super.data()}}function Mf(n,e){return typeof e=="string"?Op(n,e):e instanceof Df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}class yw extends Mp{}function Np(n,e,...t){let i=[];e instanceof Mp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(g=>g instanceof xp).length,d=l.filter(g=>g instanceof Nf).length;if(c>1||c>0&&d>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Nf extends yw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Nf(e,t,i)}_apply(e){const t=this._parse(e);return vw(e._query,t),new Pa(e.firestore,e.converter,Eg(e._query,t))}_parse(e){const t=Ip(e.firestore);return function(l,c,d,g,p,v,T){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){xE(T,v);const I=[];for(const U of T)I.push(NE(g,l,U));b={arrayValue:{values:I}}}else b=NE(g,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||xE(T,v),b=O2(d,c,T,v==="in"||v==="not-in");return Nt.create(p,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tf(n,e,t){const i=e,s=Mf("where",n);return Nf._create(s,i,t)}class xp extends Mp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const g of d)vw(c,g),c=Eg(c,g)}(e._query,t),new Pa(e.firestore,e.converter,Eg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kp extends yw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kp(e,t)}_apply(e){const t=function(s,l,c){if(s.startAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(l,c)}(e._query,this._field,this._direction);return new Pa(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new Xo(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function ME(n,e="asc"){const t=e,i=Mf("orderBy",n);return kp._create(i,t)}function NE(n,e,t){if(typeof(t=zt(t))=="string"){if(t==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yb(e)&&t.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!_e.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Y0(n,new _e(i))}if(t instanceof En)return Y0(n,t._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rf(t)}.`)}function xE(n,e){if(!Array.isArray(n)||n.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vw(n,e){const t=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class x2{convertValue(e,t="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xa(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Hh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>At(c.doubleValue));return new Rp(l)}convertGeoPoint(e){return new Ap(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=pf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const t=Ra(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Ke(Bb(i),9688,{name:e});const s=new Ru(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return s.isEqual(t)||Mi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _w extends gw{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Mf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nh extends _w{data(e={}){return super.data(e)}}class Ew{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new du(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nh(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const g=new Nh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new Nh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:P2(d.type),doc:g,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n){n=Zn(n,En);const e=Zn(n.firestore,Ma);return v2(If(e),n._key).then(t=>bw(e,n,t))}class Pp extends x2{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function Tw(n){n=Zn(n,Pa);const e=Zn(n.firestore,Ma),t=If(e),i=new Pp(e);return pw(n._query),_2(t,n._query).then(s=>new Ew(e,i,n,s))}function L2(n,e,t,...i){n=Zn(n,En);const s=Zn(n.firestore,Ma),l=Ip(s);let c;return c=typeof(e=zt(e))=="string"||e instanceof Df?D2(l,"updateDoc",n._key,e,t,i):I2(l,"updateDoc",n._key,e),Vp(s,[c.toMutation(n._key,lr.exists(!0))])}function U2(n){return Vp(Zn(n.firestore,Ma),[new rp(n._key,lr.none())])}function B2(n,e){const t=Zn(n.firestore,Ma),i=Jh(n),s=k2(n.converter,e);return Vp(t,[C2(Ip(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,lr.exists(!1))]).then(()=>i)}function z2(n,...e){var t,i,s;n=zt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||OE(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(OE(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(s=T.complete)===null||s===void 0?void 0:s.bind(T)}let g,p,v;if(n instanceof En)p=Zn(n.firestore,Ma),v=yf(n._key.path),g={next:T=>{e[c]&&e[c](bw(p,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Zn(n,Pa);p=Zn(T.firestore,Ma),v=T._query;const b=new Pp(p);g={next:C=>{e[c]&&e[c](new Ew(p,b,T,C))},error:e[c+1],complete:e[c+2]},pw(n._query)}return function(b,C,I,U){const V=new wp(U),j=new Ep(C,V,I);return b.asyncQueue.enqueueAndForget(async()=>yp(await Xh(b),j)),()=>{V.xu(),b.asyncQueue.enqueueAndForget(async()=>vp(await Xh(b),j))}}(If(p),v,d,g)}function Vp(n,e){return function(i,s){const l=new Ii;return i.asyncQueue.enqueueAndForget(async()=>s2(await y2(i),s,l)),l.promise}(If(n),e)}function bw(n,e,t){const i=t.docs.get(e._key),s=new Pp(n);return new _w(n,s,e._key,i,new du(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Qo=s})(Wo),ko(new Es("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ma(new OI(i.getProvider("auth-internal")),new xI(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(p.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ta(x0,k0,e),Ta(x0,k0,"esm2017")})();var j2="firebase",q2="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(j2,q2,"app");function Lp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H2=ww,Sw=new Uu("auth","Firebase",ww());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Wg("@firebase/auth");function F2(n,...e){nf.logLevel<=Be.WARN&&nf.warn(`Auth (${Wo}): ${n}`,...e)}function xh(n,...e){nf.logLevel<=Be.ERROR&&nf.error(`Auth (${Wo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n,...e){throw Up(n,...e)}function zr(n,...e){return Up(n,...e)}function Aw(n,e,t){const i=Object.assign(Object.assign({},H2()),{[e]:t});return new Uu("auth","Firebase",i).create(e,{appName:n.name})}function Sa(n){return Aw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Sw.create(n,...e)}function we(n,e,...t){if(!n)throw Up(e,...t)}function wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xh(e),new Error(e)}function xi(n,e){n||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Y2(){return kE()==="http:"||kE()==="https:"}function kE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||oC()||"connection"in navigator)?navigator.onLine:!0}function W2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=iC()||lC()}get(){return G2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K2=new Yu(3e4,6e4);function Cs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Va(n,e,t,i,s={}){return Cw(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Bu(Object.assign({key:n.config.apiKey},c)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:g},l);return sC()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Lu(n.emulatorConfig.host)&&(p.credentials="include"),Rw.fetch()(await Iw(n,n.config.apiHost,t,d),p)})}async function Cw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Q2),e);try{const s=new Z2(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Sh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(n,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Sh(n,"email-already-in-use",c);if(g==="USER_DISABLED")throw Sh(n,"user-disabled",c);const v=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Aw(n,v,p);hr(n,v)}}catch(s){if(s instanceof Pi)throw s;hr(n,"network-request-failed",{message:String(s)})}}async function xf(n,e,t,i,s={}){const l=await Va(n,e,t,i,s);return"mfaPendingCredential"in l&&hr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Iw(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?Bp(n.config,s):`${n.config.apiScheme}://${s}`;return $2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function X2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(zr(this.auth,"network-request-failed")),K2.get())})}}function Sh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=zr(n,e,i);return s.customData._tokenResponse=t,s}function PE(n){return n!==void 0&&n.enterprise!==void 0}class J2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return X2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eM(n,e){return Va(n,"GET","/v2/recaptchaConfig",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(n,e){return Va(n,"POST","/v1/accounts:delete",e)}async function rf(n,e){return Va(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nM(n,e=!1){const t=zt(n),i=await t.getIdToken(e),s=zp(i);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Eu(Jm(s.auth_time)),issuedAtTime:Eu(Jm(s.iat)),expirationTime:Eu(Jm(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Jm(n){return Number(n)*1e3}function zp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const s=xT(t);return s?JSON.parse(s):(xh("Failed to decode base64 JWT payload"),null)}catch(s){return xh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function VE(n){const e=zp(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Pi&&rM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function rM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Mu(n,rf(t,{idToken:i}));we(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Dw(l.providerUserInfo):[],d=sM(n.providerData,c),g=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new xg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function aM(n){const e=zt(n);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sM(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Dw(n){return n.map(e=>{var{providerId:t}=e,i=Lp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(n,e){const t=await Cw(n,{},async()=>{const i=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await Iw(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Rw.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lM(n,e){return Va(n,"POST","/v2/accounts:revokeToken",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=VE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await oM(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Oo;return i&&(we(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(we(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=Lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nM(this,e)}reload(){return aM(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await af(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Sa(this.auth));const e=await this.getIdToken();return await Mu(this,tM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,d,g,p,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=t.photoURL)!==null&&c!==void 0?c:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,G=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Q,emailVerified:se,isAnonymous:$,providerData:le,stsTokenManager:D}=t;we(Q&&D,e,"internal-error");const A=Oo.fromJSON(this.name,D);we(typeof Q=="string",e,"internal-error"),ha(T,e.name),ha(b,e.name),we(typeof se=="boolean",e,"internal-error"),we(typeof $=="boolean",e,"internal-error"),ha(C,e.name),ha(I,e.name),ha(U,e.name),ha(V,e.name),ha(j,e.name),ha(G,e.name);const R=new sr({uid:Q,auth:e,email:b,emailVerified:se,displayName:T,isAnonymous:$,photoURL:I,phoneNumber:C,tenantId:U,stsTokenManager:A,createdAt:j,lastLoginAt:G});return le&&Array.isArray(le)&&(R.providerData=le.map(x=>Object.assign({},x))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(e,t,i=!1){const s=new Oo;s.updateFromServerResponse(t);const l=new sr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await af(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];we(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Dw(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new Oo;d.updateFromIdToken(i);const g=new sr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new xg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function Si(n){xi(n instanceof Function,"Expected a class definition");let e=LE.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ow.type="NONE";const UE=Ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n,e,t){return`firebase:${n}:${e}:${t}`}class Mo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=kh(this.userKey,s.apiKey,l),this.fullPersistenceKey=kh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rf(this.auth,{idToken:e}).catch(()=>{});return t?sr._fromGetAccountInfoResponse(this.auth,t,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Mo(Si(UE),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||Si(UE);const c=kh(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(c);if(v){let T;if(typeof v=="string"){const b=await rf(e,{idToken:v}).catch(()=>{});if(!b)break;T=await sr._fromGetAccountInfoResponse(e,b,v)}else T=sr._fromJSON(e,v);p!==l&&(d=T),l=p;break}}catch{}const g=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Mo(l,e,i):(l=g[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Mo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vw(e))return"Blackberry";if(Lw(e))return"Webos";if(Nw(e))return"Safari";if((e.includes("chrome/")||xw(e))&&!e.includes("edge/"))return"Chrome";if(Pw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Mw(n=fn()){return/firefox\//i.test(n)}function Nw(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xw(n=fn()){return/crios\//i.test(n)}function kw(n=fn()){return/iemobile/i.test(n)}function Pw(n=fn()){return/android/i.test(n)}function Vw(n=fn()){return/blackberry/i.test(n)}function Lw(n=fn()){return/webos/i.test(n)}function jp(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uM(n=fn()){var e;return jp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cM(){return uC()&&document.documentMode===10}function Uw(n=fn()){return jp(n)||Pw(n)||Lw(n)||Vw(n)||/windows phone/i.test(n)||kw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n,e=[]){let t;switch(n){case"Browser":t=BE(fn());break;case"Worker":t=`${BE(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const g=e(l);c(g)}catch(g){d(g)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(n,e={}){return Va(n,"GET","/v2/passwordPolicy",Cs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=6;class mM{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:dM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,d;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(s=g.containsLowercaseLetter)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsNumericCharacter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new hM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rf(this,{idToken:e}),i=await sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ar(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&(g!=null&&g.user)&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Sa(this));const t=e?zt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fM(this),t=new mM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await lM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,s);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&F2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Jo(n){return zt(n)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=yC(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pM(n){kf=n}function zw(n){return kf.loadJS(n)}function yM(){return kf.recaptchaEnterpriseScript}function vM(){return kf.gapiScript}function _M(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class EM{constructor(){this.enterprise=new TM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bM="recaptcha-enterprise",jw="NO_RECAPTCHA";class wM{constructor(e){this.type=bM,this.auth=Jo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{eM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new J2(g);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(g=>{d(g)})})}function s(l,c,d){const g=window.grecaptcha;PE(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(jw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&PE(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=yM();g.length!==0&&(g+=d),zw(g).then(()=>{s(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function jE(n,e,t,i=!1,s=!1){const l=new wM(n);let c;if(s)c=jw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function qE(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await jE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await jE(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n,e){const t=$g(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(_s(l,e??{}))return s;hr(s,"already-initialized")}return t.initialize({options:e})}function AM(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Si);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function RM(n,e,t){const i=Jo(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=qw(e),{host:c,port:d}=CM(e),g=d===null?"":`:${d}`,p={url:`${l}//${c}${g}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(_s(p,i.config.emulator)&&_s(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Lu(c)?(LT(`${l}//${c}${g}`),UT("Auth",!0)):IM()}function qw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CM(n){const e=qw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:HE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:HE(c)}}}function HE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,t){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function DM(n,e){return Va(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(n,e){return xf(n,"POST","/v1/accounts:signInWithPassword",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(n,e){return xf(n,"POST","/v1/accounts:signInWithEmailLink",Cs(n,e))}async function NM(n,e){return xf(n,"POST","/v1/accounts:signInWithEmailLink",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends qp{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Nu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Nu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qE(e,t,"signInWithPassword",OM);case"emailLink":return MM(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qE(e,i,"signUpPassword",DM);case"emailLink":return NM(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(n,e){return xf(n,"POST","/v1/accounts:signInWithIdp",Cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class ws extends qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=Lp(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new ws(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return No(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,No(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,No(e,t)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PM(n){const e=lu(uu(n)).link,t=e?lu(uu(e)).deep_link_id:null,i=lu(uu(n)).deep_link_id;return(i?lu(uu(i)).link:null)||i||t||e||n}class Hp{constructor(e){var t,i,s,l,c,d;const g=lu(uu(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,v=(i=g.oobCode)!==null&&i!==void 0?i:null,T=kM((s=g.mode)!==null&&s!==void 0?s:null);we(p&&v&&T,"argument-error"),this.apiKey=p,this.operation=T,this.code=v,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=g.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=g.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=PM(e);try{return new Hp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,t){return Nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Hp.parseLink(t);return we(i,"argument-error"),Nu._fromEmailAndCode(e,i.code,i.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Gu{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ws._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ma.credential(t,i)}catch{return null}}}ma.GOOGLE_SIGN_IN_METHOD="google.com";ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Gu{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.GITHUB_SIGN_IN_METHOD="github.com";ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Gu{constructor(){super("twitter.com")}static credential(e,t){return ws._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return pa.credential(t,i)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await sr._fromIdTokenResponse(e,i,s),c=FE(i);return new qo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=FE(i);return new qo({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function FE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends Pi{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new sf(e,t,i,s)}}function Fw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(n,l,e,i):l})}async function VM(n,e,t=!1){const i=await Mu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(n,e,t=!1){const{auth:i}=n;if(ar(i.app))return Promise.reject(Sa(i));const s="reauthenticate";try{const l=await Mu(n,Fw(i,s,e,n),t);we(l.idToken,i,"internal-error");const c=zp(l.idToken);we(c,i,"internal-error");const{sub:d}=c;return we(n.uid===d,i,"user-mismatch"),qo._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(n,e,t=!1){if(ar(n.app))return Promise.reject(Sa(n));const i="signIn",s=await Fw(n,i,e),l=await qo._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function UM(n,e){return Yw(Jo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(n){const e=Jo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zM(n,e,t){return ar(n.app)?Promise.reject(Sa(n)):UM(zt(n),el.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&BM(n),i})}function jM(n,e,t,i){return zt(n).onIdTokenChanged(e,t,i)}function qM(n,e,t){return zt(n).beforeAuthStateChanged(e,t)}function HM(n,e,t,i){return zt(n).onAuthStateChanged(e,t,i)}function FM(n){return zt(n).signOut()}const of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e3,GM=10;class Ww extends Gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,g)=>{this.notifyListeners(c,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);cM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,GM):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ww.type="LOCAL";const WM=Ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qw.type="SESSION";const $w=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Pf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async p=>p(t.origin,l)),g=await QM(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,g)=>{const p=Fp("",20);s.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function KM(n){jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function XM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JM(){return Kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firebaseLocalStorageDb",eN=1,lf="firebaseLocalStorage",Zw="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vf(n,e){return n.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function tN(){const n=indexedDB.deleteDatabase(Xw);return new Wu(n).toPromise()}function kg(){const n=indexedDB.open(Xw,eN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(lf,{keyPath:Zw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(lf)?e(i):(i.close(),await tN(),e(await kg()))})})}async function YE(n,e,t){const i=Vf(n,!0).put({[Zw]:e,value:t});return new Wu(i).toPromise()}async function nN(n,e){const t=Vf(n,!1).get(e),i=await new Wu(t).toPromise();return i===void 0?null:i.value}function GE(n,e){const t=Vf(n,!0).delete(e);return new Wu(t).toPromise()}const rN=800,iN=3;class Jw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>iN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(JM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await XM(),!this.activeServiceWorker)return;this.sender=new $M(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await YE(e,of,"1"),await GE(e,of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>YE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>nN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>GE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Vf(s,!1).getAll();return new Wu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jw.type="LOCAL";const aN=Jw;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n,e){return e?Si(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,t){return No(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oN(n){return Yw(n.auth,new Yp(n),n.bypassAuthState)}function lN(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),LM(t,new Yp(n),n.bypassAuthState)}async function uN(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),VM(t,new Yp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oN;case"linkViaPopup":case"linkViaRedirect":return uN;case"reauthViaPopup":case"reauthViaRedirect":return lN;default:hr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new Yu(2e3,1e4);class Io extends e1{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cN.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="pendingRedirect",Ph=new Map;class fN extends e1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const i=await dN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dN(n,e){const t=pN(e),i=gN(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function mN(n,e){Ph.set(n._key(),e)}function gN(n){return Si(n._redirectPersistence)}function pN(n){return kh(hN,n.config.apiKey,n.name)}async function yN(n,e,t=!1){if(ar(n.app))return Promise.reject(Sa(n));const i=Jo(n),s=sN(i,e),c=await new fN(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=10*60*1e3;class _N{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!t1(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(zr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vN&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function t1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e={}){return Va(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wN=/^https?/;async function SN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TN(n);for(const t of e)try{if(AN(t))return}catch{}hr(n,"unauthorized-domain")}function AN(n){const e=Ng(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!wN.test(t))return!1;if(bN.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Yu(3e4,6e4);function QE(){const n=jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CN(n){return new Promise((e,t)=>{var i,s,l;function c(){QE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QE(),t(zr(n,"network-request-failed"))},timeout:RN.get()})}if(!((s=(i=jr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=jr().gapi)===null||l===void 0)&&l.load)c();else{const d=_M("iframefcb");return jr()[d]=()=>{gapi.load?c():t(zr(n,"network-request-failed"))},zw(`${vM()}?onload=${d}`).catch(g=>t(g))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function IN(n){return Vh=Vh||CN(n),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new Yu(5e3,15e3),ON="__/auth/iframe",MN="emulator/auth/iframe",NN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kN(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Bp(e,MN):`https://${n.config.authDomain}/${ON}`,i={apiKey:e.apiKey,appName:n.name,v:Wo},s=xN.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Bu(i).slice(1)}`}async function PN(n){const e=await IN(n),t=jr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:kN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NN,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=zr(n,"network-request-failed"),d=jr().setTimeout(()=>{l(c)},DN.get());function g(){jr().clearTimeout(d),s(i)}i.ping(g).then(g,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,UN=600,BN="_blank",zN="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jN(n,e,t,i=LN,s=UN){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const g=Object.assign(Object.assign({},VN),{width:i.toString(),height:s.toString(),top:l,left:c}),p=fn().toLowerCase();t&&(d=xw(p)?BN:t),Mw(p)&&(e=e||zN,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[C,I])=>`${b}${C}=${I},`,"");if(uM(p)&&d!=="_self")return qN(e||"",d),new $E(null);const T=window.open(e||"",d,v);we(T,n,"popup-blocked");try{T.focus()}catch{}return new $E(T)}function qN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="__/auth/handler",FN="emulator/auth/handler",YN=encodeURIComponent("fac");async function KE(n,e,t,i,s,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Wo,eventId:s};if(e instanceof Hw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",pC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Gu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const g=await n._getAppCheckToken(),p=g?`#${YN}=${encodeURIComponent(g)}`:"";return`${GN(n)}?${Bu(d).slice(1)}${p}`}function GN({config:n}){return n.emulator?Bp(n,FN):`https://${n.authDomain}/${HN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class WN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$w,this._completeRedirectFn=yN,this._overrideRedirectResult=mN}async _openPopup(e,t,i,s){var l;xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await KE(e,t,i,Ng(),s);return jN(e,c,Fp())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await KE(e,t,i,Ng(),s);return KM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await PN(e),i=new _N(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(eg,{type:eg},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[eg];c!==void 0&&t(!!c),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uw()||Nw()||jp()}}const QN=WN;var XE="@firebase/auth",ZE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XN(n){ko(new Es("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bw(n)},p=new gM(i,s,l,g);return AM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ko(new Es("auth-internal",e=>{const t=Jo(e.getProvider("auth").getImmediate());return(i=>new $N(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(XE,ZE,KN(n)),Ta(XE,ZE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=5*60,JN=VT("authIdTokenMaxAge")||ZN;let JE=null;const ex=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>JN)return;const s=t==null?void 0:t.token;JE!==s&&(JE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function n1(n=qT()){const e=$g(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SM(n,{popupRedirectResolver:QN,persistence:[aN,WM,$w]}),i=VT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=ex(l.toString());qM(t,c,()=>c(t.currentUser)),jM(t,d=>c(d))}}const s=kT("auth");return s&&RM(t,`http://${s}`),t}function tx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}pM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=zr("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",tx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XN("Browser");const nx={apiKey:"AIzaSyBqzusGFxxTms_i-xdB-9vNa2dqB08ZsFo",authDomain:"barberia-artear.firebaseapp.com",projectId:"barberia-artear",storageBucket:"barberia-artear.firebasestorage.app",messagingSenderId:"238753993674",appId:"1:238753993674:web:ffd460b496b5d8c4c27533",measurementId:"G-87BT1RJ071"},r1=jT(nx),vs=b2(r1),i1=n1(r1),tg={},mu={};function Tu(n,e){try{const i=(tg[n]||(tg[n]=new Intl.DateTimeFormat("en-GB",{timeZone:n,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return i in mu?mu[i]:eT(i,i.split(":"))}catch{if(n in mu)return mu[n];const t=n==null?void 0:n.match(rx);return t?eT(n,t.slice(1)):NaN}}const rx=/([+-]\d\d):?(\d\d)?/;function eT(n,e){const t=+e[0],i=+(e[1]||0);return mu[n]=t>0?t*60+i:t*60-i}class Lr extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Tu(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),a1(this),Pg(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new Lr(...t,e):new Lr(Date.now(),e)}withTimeZone(e){return new Lr(+this,e)}getTimezoneOffset(){return-Tu(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Pg(this),+this}[Symbol.for("constructDateFrom")](e){return new Lr(+new Date(e),this.timeZone)}}const tT=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!tT.test(n))return;const e=n.replace(tT,"$1UTC");Lr.prototype[e]&&(n.startsWith("get")?Lr.prototype[n]=function(){return this.internal[e]()}:(Lr.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),ix(this),+this},Lr.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Pg(this),+this}))});function Pg(n){n.internal.setTime(+n),n.internal.setUTCMinutes(n.internal.getUTCMinutes()-n.getTimezoneOffset())}function ix(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),a1(n)}function a1(n){const e=Tu(n.timeZone,n),t=new Date(+n);t.setUTCHours(t.getUTCHours()-1);const i=-new Date(+n).getTimezoneOffset(),s=-new Date(+t).getTimezoneOffset(),l=i-s,c=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();l&&c&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+l);const d=i-e;d&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+d);const g=Tu(n.timeZone,n),v=-new Date(+n).getTimezoneOffset()-g,T=g!==e,b=v-d;if(T&&b){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+b);const C=Tu(n.timeZone,n),I=g-C;I&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+I))}}class un extends Lr{static tz(e,...t){return t.length?new un(...t,e):new un(Date.now(),e)}toISOString(){const[e,t,i]=this.tzComponents(),s=`${e}${t}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,i,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${i} ${t} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,i,s]=this.tzComponents();return`${e} GMT${t}${i}${s} (${ax(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",i=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[t,i,s]}withTimeZone(e){return new un(+this,e)}[Symbol.for("constructDateFrom")](e){return new un(+new Date(e),this.timeZone)}}function ax(n,e){return new Intl.DateTimeFormat("en-GB",{timeZone:n,timeZoneName:"long"}).format(e).slice(12)}var ve;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(ve||(ve={}));var yt;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(yt||(yt={}));var or;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(or||(or={}));var Vn;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(Vn||(Vn={}));const s1=6048e5,sx=864e5,nT=Symbol.for("constructDateFrom");function jt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&nT in n?n[nT](e):n instanceof Date?new n.constructor(e):new Date(e)}function at(n,e){return jt(e||n,n)}function o1(n,e,t){const i=at(n,t==null?void 0:t.in);return isNaN(e)?jt(n,NaN):(e&&i.setDate(i.getDate()+e),i)}function l1(n,e,t){const i=at(n,t==null?void 0:t.in);if(isNaN(e))return jt(n,NaN);if(!e)return i;const s=i.getDate(),l=jt(n,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return s>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),s),i)}let ox={};function Qu(){return ox}function Ho(n,e){var d,g,p,v;const t=Qu(),i=(e==null?void 0:e.weekStartsOn)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??t.weekStartsOn??((v=(p=t.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,s=at(n,e==null?void 0:e.in),l=s.getDay(),c=(l<i?7:0)+l-i;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function xu(n,e){return Ho(n,{...e,weekStartsOn:1})}function u1(n,e){const t=at(n,e==null?void 0:e.in),i=t.getFullYear(),s=jt(t,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const l=xu(s),c=jt(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const d=xu(c);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function rT(n){const e=at(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function tl(n,...e){const t=jt.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function ku(n,e){const t=at(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function c1(n,e,t){const[i,s]=tl(t==null?void 0:t.in,n,e),l=ku(i),c=ku(s),d=+l-rT(l),g=+c-rT(c);return Math.round((d-g)/sx)}function lx(n,e){const t=u1(n,e),i=jt(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),xu(i)}function ux(n,e,t){return o1(n,e*7,t)}function cx(n,e,t){return l1(n,e*12,t)}function hx(n,e){let t,i=e==null?void 0:e.in;return n.forEach(s=>{!i&&typeof s=="object"&&(i=jt.bind(null,s));const l=at(s,i);(!t||t<l||isNaN(+l))&&(t=l)}),jt(i,t||NaN)}function fx(n,e){let t,i=e==null?void 0:e.in;return n.forEach(s=>{!i&&typeof s=="object"&&(i=jt.bind(null,s));const l=at(s,i);(!t||t>l||isNaN(+l))&&(t=l)}),jt(i,t||NaN)}function dx(n,e,t){const[i,s]=tl(t==null?void 0:t.in,n,e);return+ku(i)==+ku(s)}function h1(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function mx(n){return!(!h1(n)&&typeof n!="number"||isNaN(+at(n)))}function gx(n,e,t){const[i,s]=tl(t==null?void 0:t.in,n,e),l=i.getFullYear()-s.getFullYear(),c=i.getMonth()-s.getMonth();return l*12+c}function px(n,e){const t=at(n,e==null?void 0:e.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function yx(n,e){const[t,i]=tl(n,e.start,e.end);return{start:t,end:i}}function vx(n,e){const{start:t,end:i}=yx(e==null?void 0:e.in,n);let s=+t>+i;const l=s?+t:+i,c=s?i:t;c.setHours(0,0,0,0),c.setDate(1);let d=1;const g=[];for(;+c<=l;)g.push(jt(t,c)),c.setMonth(c.getMonth()+d);return s?g.reverse():g}function _x(n,e){const t=at(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Ex(n,e){const t=at(n,e==null?void 0:e.in),i=t.getFullYear();return t.setFullYear(i+1,0,0),t.setHours(23,59,59,999),t}function f1(n,e){const t=at(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function d1(n,e){var d,g,p,v;const t=Qu(),i=(e==null?void 0:e.weekStartsOn)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??t.weekStartsOn??((v=(p=t.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,s=at(n,e==null?void 0:e.in),l=s.getDay(),c=(l<i?-7:0)+6-(l-i);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function Tx(n,e){return d1(n,{...e,weekStartsOn:1})}const bx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wx=(n,e,t)=>{let i;const s=bx[n];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function xo(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Sx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ax={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cx={date:xo({formats:Sx,defaultWidth:"full"}),time:xo({formats:Ax,defaultWidth:"full"}),dateTime:xo({formats:Rx,defaultWidth:"full"})},Ix={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dx=(n,e,t,i)=>Ix[n];function Pr(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let s;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):c;s=n.formattingValues[d]||n.formattingValues[c]}else{const c=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[d]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return s[l]}}const Ox={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Px={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vx=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Lx={ordinalNumber:Vx,era:Pr({values:Ox,defaultWidth:"wide"}),quarter:Pr({values:Mx,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Pr({values:Nx,defaultWidth:"wide"}),day:Pr({values:xx,defaultWidth:"wide"}),dayPeriod:Pr({values:kx,defaultWidth:"wide",formattingValues:Px,defaultFormattingWidth:"wide"})};function Vr(n){return(e,t={})=>{const i=t.width,s=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(s);if(!l)return null;const c=l[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(d)?Bx(d,T=>T.test(c)):Ux(d,T=>T.test(c));let p;p=n.valueCallback?n.valueCallback(g):g,p=t.valueCallback?t.valueCallback(p):p;const v=e.slice(c.length);return{value:p,rest:v}}}function Ux(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Bx(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function m1(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const s=i[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const zx=/^(\d+)(th|st|nd|rd)?/i,jx=/\d+/i,qx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hx={any:[/^b/i,/^(a|c)/i]},Fx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yx={any:[/1/i,/2/i,/3/i,/4/i]},Gx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$x={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zx={ordinalNumber:m1({matchPattern:zx,parsePattern:jx,valueCallback:n=>parseInt(n,10)}),era:Vr({matchPatterns:qx,defaultMatchWidth:"wide",parsePatterns:Hx,defaultParseWidth:"any"}),quarter:Vr({matchPatterns:Fx,defaultMatchWidth:"wide",parsePatterns:Yx,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Vr({matchPatterns:Gx,defaultMatchWidth:"wide",parsePatterns:Wx,defaultParseWidth:"any"}),day:Vr({matchPatterns:Qx,defaultMatchWidth:"wide",parsePatterns:$x,defaultParseWidth:"any"}),dayPeriod:Vr({matchPatterns:Kx,defaultMatchWidth:"any",parsePatterns:Xx,defaultParseWidth:"any"})},Gp={code:"en-US",formatDistance:wx,formatLong:Cx,formatRelative:Dx,localize:Lx,match:Zx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jx(n,e){const t=at(n,e==null?void 0:e.in);return c1(t,f1(t))+1}function g1(n,e){const t=at(n,e==null?void 0:e.in),i=+xu(t)-+lx(t);return Math.round(i/s1)+1}function p1(n,e){var v,T,b,C;const t=at(n,e==null?void 0:e.in),i=t.getFullYear(),s=Qu(),l=(e==null?void 0:e.firstWeekContainsDate)??((T=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??s.firstWeekContainsDate??((C=(b=s.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,c=jt((e==null?void 0:e.in)||n,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const d=Ho(c,e),g=jt((e==null?void 0:e.in)||n,0);g.setFullYear(i,0,l),g.setHours(0,0,0,0);const p=Ho(g,e);return+t>=+d?i+1:+t>=+p?i:i-1}function ek(n,e){var d,g,p,v;const t=Qu(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(p=t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,s=p1(n,e),l=jt((e==null?void 0:e.in)||n,0);return l.setFullYear(s,0,i),l.setHours(0,0,0,0),Ho(l,e)}function y1(n,e){const t=at(n,e==null?void 0:e.in),i=+Ho(t,e)-+ek(t,e);return Math.round(i/s1)+1}function et(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const fa={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return et(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):et(t+1,2)},d(n,e){return et(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return et(n.getHours()%12||12,e.length)},H(n,e){return et(n.getHours(),e.length)},m(n,e){return et(n.getMinutes(),e.length)},s(n,e){return et(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),s=Math.trunc(i*Math.pow(10,t-3));return et(s,e.length)}},bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iT={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),s=i>0?i:1-i;return t.ordinalNumber(s,{unit:"year"})}return fa.y(n,e)},Y:function(n,e,t,i){const s=p1(n,i),l=s>0?s:1-s;if(e==="YY"){const c=l%100;return et(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):et(l,e.length)},R:function(n,e){const t=u1(n);return et(t,e.length)},u:function(n,e){const t=n.getFullYear();return et(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return et(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return et(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return fa.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return et(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const s=y1(n,i);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):et(s,e.length)},I:function(n,e,t){const i=g1(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):et(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):fa.d(n,e)},D:function(n,e,t){const i=Jx(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):et(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const s=n.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return et(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const s=n.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return et(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return et(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let s;switch(i===12?s=bo.noon:i===0?s=bo.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let s;switch(i>=17?s=bo.evening:i>=12?s=bo.afternoon:i>=4?s=bo.morning:s=bo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return fa.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):fa.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):et(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):et(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):fa.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):fa.s(n,e)},S:function(n,e){return fa.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return sT(i);case"XXXX":case"XX":return ps(i);case"XXXXX":case"XXX":default:return ps(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return sT(i);case"xxxx":case"xx":return ps(i);case"xxxxx":case"xxx":default:return ps(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aT(i,":");case"OOOO":default:return"GMT"+ps(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aT(i,":");case"zzzz":default:return"GMT"+ps(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return et(i,e.length)},T:function(n,e,t){return et(+n,e.length)}};function aT(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=Math.trunc(i/60),l=i%60;return l===0?t+String(s):t+String(s)+e+et(l,2)}function sT(n,e){return n%60===0?(n>0?"-":"+")+et(Math.abs(n)/60,2):ps(n,e)}function ps(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=et(Math.trunc(i/60),2),l=et(i%60,2);return t+s+e+l}const oT=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},v1=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tk=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],s=t[2];if(!s)return oT(n,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",oT(i,e)).replace("{{time}}",v1(s,e))},nk={p:v1,P:tk},rk=/^D+$/,ik=/^Y+$/,ak=["D","DD","YY","YYYY"];function sk(n){return rk.test(n)}function ok(n){return ik.test(n)}function lk(n,e,t){const i=uk(n,e,t);if(console.warn(i),ak.includes(n))throw new RangeError(i)}function uk(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ck=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fk=/^'([^]*?)'?$/,dk=/''/g,mk=/[a-zA-Z]/;function gk(n,e,t){var v,T,b,C,I,U,V,j;const i=Qu(),s=(t==null?void 0:t.locale)??i.locale??Gp,l=(t==null?void 0:t.firstWeekContainsDate)??((T=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(b=i.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,c=(t==null?void 0:t.weekStartsOn)??((U=(I=t==null?void 0:t.locale)==null?void 0:I.options)==null?void 0:U.weekStartsOn)??i.weekStartsOn??((j=(V=i.locale)==null?void 0:V.options)==null?void 0:j.weekStartsOn)??0,d=at(n,t==null?void 0:t.in);if(!mx(d))throw new RangeError("Invalid time value");let g=e.match(hk).map(G=>{const Q=G[0];if(Q==="p"||Q==="P"){const se=nk[Q];return se(G,s.formatLong)}return G}).join("").match(ck).map(G=>{if(G==="''")return{isToken:!1,value:"'"};const Q=G[0];if(Q==="'")return{isToken:!1,value:pk(G)};if(iT[Q])return{isToken:!0,value:G};if(Q.match(mk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return{isToken:!1,value:G}});s.localize.preprocessor&&(g=s.localize.preprocessor(d,g));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return g.map(G=>{if(!G.isToken)return G.value;const Q=G.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&ok(Q)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&sk(Q))&&lk(Q,e,String(n));const se=iT[Q[0]];return se(d,Q,s.localize,p)}).join("")}function pk(n){const e=n.match(fk);return e?e[1].replace(dk,"'"):n}function yk(n,e){const t=at(n,e==null?void 0:e.in),i=t.getFullYear(),s=t.getMonth(),l=jt(t,0);return l.setFullYear(i,s+1,0),l.setHours(0,0,0,0),l.getDate()}function vk(n,e){return at(n,e==null?void 0:e.in).getMonth()}function _k(n,e){return at(n,e==null?void 0:e.in).getFullYear()}function Ek(n,e){return+at(n)>+at(e)}function Tk(n,e){return+at(n)<+at(e)}function bk(n,e,t){const[i,s]=tl(t==null?void 0:t.in,n,e);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function wk(n,e,t){const[i,s]=tl(t==null?void 0:t.in,n,e);return i.getFullYear()===s.getFullYear()}function Sk(n,e,t){const i=at(n,t==null?void 0:t.in),s=i.getFullYear(),l=i.getDate(),c=jt(n,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=yk(c);return i.setMonth(e,Math.min(l,d)),i}function Ak(n,e,t){const i=at(n,t==null?void 0:t.in);return isNaN(+i)?jt(n,NaN):(i.setFullYear(e),i)}const lT=5,Rk=4;function Ck(n,e){const t=e.startOfMonth(n),i=t.getDay()>0?t.getDay():7,s=e.addDays(n,-i+1),l=e.addDays(s,lT*7-1);return e.getMonth(n)===e.getMonth(l)?lT:Rk}function _1(n,e){const t=e.startOfMonth(n),i=t.getDay();return i===1?t:i===0?e.addDays(t,-1*6):e.addDays(t,-1*(i-1))}function Ik(n,e){const t=_1(n,e),i=Ck(n,e);return e.addDays(t,i*7-1)}class Vi{constructor(e,t){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?un.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,l)=>{var c;return(c=this.overrides)!=null&&c.newDate?this.overrides.newDate(i,s,l):this.options.timeZone?new un(i,s,l,this.options.timeZone):new Date(i,s,l)},this.addDays=(i,s)=>{var l;return(l=this.overrides)!=null&&l.addDays?this.overrides.addDays(i,s):o1(i,s)},this.addMonths=(i,s)=>{var l;return(l=this.overrides)!=null&&l.addMonths?this.overrides.addMonths(i,s):l1(i,s)},this.addWeeks=(i,s)=>{var l;return(l=this.overrides)!=null&&l.addWeeks?this.overrides.addWeeks(i,s):ux(i,s)},this.addYears=(i,s)=>{var l;return(l=this.overrides)!=null&&l.addYears?this.overrides.addYears(i,s):cx(i,s)},this.differenceInCalendarDays=(i,s)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):c1(i,s)},this.differenceInCalendarMonths=(i,s)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):gx(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):vx(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):Ik(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):Tx(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):px(i)},this.endOfWeek=(i,s)=>{var l;return(l=this.overrides)!=null&&l.endOfWeek?this.overrides.endOfWeek(i,s):d1(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):Ex(i)},this.format=(i,s,l)=>{var d;const c=(d=this.overrides)!=null&&d.format?this.overrides.format(i,s,this.options):gk(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):g1(i)},this.getMonth=(i,s)=>{var l;return(l=this.overrides)!=null&&l.getMonth?this.overrides.getMonth(i,this.options):vk(i,this.options)},this.getYear=(i,s)=>{var l;return(l=this.overrides)!=null&&l.getYear?this.overrides.getYear(i,this.options):_k(i,this.options)},this.getWeek=(i,s)=>{var l;return(l=this.overrides)!=null&&l.getWeek?this.overrides.getWeek(i,this.options):y1(i,this.options)},this.isAfter=(i,s)=>{var l;return(l=this.overrides)!=null&&l.isAfter?this.overrides.isAfter(i,s):Ek(i,s)},this.isBefore=(i,s)=>{var l;return(l=this.overrides)!=null&&l.isBefore?this.overrides.isBefore(i,s):Tk(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):h1(i)},this.isSameDay=(i,s)=>{var l;return(l=this.overrides)!=null&&l.isSameDay?this.overrides.isSameDay(i,s):dx(i,s)},this.isSameMonth=(i,s)=>{var l;return(l=this.overrides)!=null&&l.isSameMonth?this.overrides.isSameMonth(i,s):bk(i,s)},this.isSameYear=(i,s)=>{var l;return(l=this.overrides)!=null&&l.isSameYear?this.overrides.isSameYear(i,s):wk(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):hx(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):fx(i)},this.setMonth=(i,s)=>{var l;return(l=this.overrides)!=null&&l.setMonth?this.overrides.setMonth(i,s):Sk(i,s)},this.setYear=(i,s)=>{var l;return(l=this.overrides)!=null&&l.setYear?this.overrides.setYear(i,s):Ak(i,s)},this.startOfBroadcastWeek=(i,s)=>{var l;return(l=this.overrides)!=null&&l.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):_1(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):ku(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):xu(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):_x(i)},this.startOfWeek=(i,s)=>{var l;return(l=this.overrides)!=null&&l.startOfWeek?this.overrides.startOfWeek(i,this.options):Ho(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):f1(i)},this.options={locale:Gp,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),i={};for(let s=0;s<10;s++)i[s.toString()]=t.format(s);return i}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,i=>t[i]||i)}formatNumber(e){return this.replaceDigits(e.toString())}}const Hr=new Vi;class E1{constructor(e,t,i=Hr){this.date=e,this.displayMonth=t,this.outside=!!(t&&!i.isSameMonth(e,t)),this.dateLib=i}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class Dk{constructor(e,t){this.date=e,this.weeks=t}}class Ok{constructor(e,t){this.days=t,this.weekNumber=e}}function Ai(n,e,t=!1,i=Hr){let{from:s,to:l}=n;const{differenceInCalendarDays:c,isSameDay:d}=i;return s&&l?(c(l,s)<0&&([s,l]=[l,s]),c(e,s)>=(t?1:0)&&c(l,e)>=(t?1:0)):!t&&l?d(l,e):!t&&s?d(s,e):!1}function T1(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function Wp(n){return!!(n&&typeof n=="object"&&"from"in n)}function b1(n){return!!(n&&typeof n=="object"&&"after"in n)}function w1(n){return!!(n&&typeof n=="object"&&"before"in n)}function S1(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function A1(n,e){return Array.isArray(n)&&n.every(e.isDate)}function Ri(n,e,t=Hr){const i=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:l,isAfter:c}=t;return i.some(d=>{if(typeof d=="boolean")return d;if(t.isDate(d))return s(n,d);if(A1(d,t))return d.includes(n);if(Wp(d))return Ai(d,n,!1,t);if(S1(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(n.getDay()):d.dayOfWeek===n.getDay();if(T1(d)){const g=l(d.before,n),p=l(d.after,n),v=g>0,T=p<0;return c(d.before,d.after)?T&&v:v||T}return b1(d)?l(n,d.after)>0:w1(d)?l(d.before,n)>0:typeof d=="function"?d(n):!1})}function Mk(n,e,t){const{disabled:i,hidden:s,modifiers:l,showOutsideDays:c,broadcastCalendar:d,today:g}=e,{isSameDay:p,isSameMonth:v,startOfMonth:T,isBefore:b,endOfMonth:C,isAfter:I}=t,U=e.startMonth&&T(e.startMonth),V=e.endMonth&&C(e.endMonth),j={[yt.focused]:[],[yt.outside]:[],[yt.disabled]:[],[yt.hidden]:[],[yt.today]:[]},G={};for(const Q of n){const{date:se,displayMonth:$}=Q,le=!!($&&!v(se,$)),D=!!(U&&b(se,U)),A=!!(V&&I(se,V)),R=!!(i&&Ri(se,i,t)),x=!!(s&&Ri(se,s,t))||D||A||!d&&!c&&le||d&&c===!1&&le,k=p(se,g??t.today());le&&j.outside.push(Q),R&&j.disabled.push(Q),x&&j.hidden.push(Q),k&&j.today.push(Q),l&&Object.keys(l).forEach(L=>{const M=l==null?void 0:l[L];M&&Ri(se,M,t)&&(G[L]?G[L].push(Q):G[L]=[Q])})}return Q=>{const se={[yt.focused]:!1,[yt.disabled]:!1,[yt.hidden]:!1,[yt.outside]:!1,[yt.today]:!1},$={};for(const le in j){const D=j[le];se[le]=D.some(A=>A===Q)}for(const le in G)$[le]=G[le].some(D=>D===Q);return{...se,...$}}}function Nk(n,e,t={}){return Object.entries(n).filter(([,s])=>s===!0).reduce((s,[l])=>(t[l]?s.push(t[l]):e[yt[l]]?s.push(e[yt[l]]):e[or[l]]&&s.push(e[or[l]]),s),[e[ve.Day]])}function xk(n){return he.createElement("button",{...n})}function kk(n){return he.createElement("span",{...n})}function Pk(n){const{size:e=24,orientation:t="left",className:i}=n;return he.createElement("svg",{className:i,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&he.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&he.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&he.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&he.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Vk(n){const{day:e,modifiers:t,...i}=n;return he.createElement("td",{...i})}function Lk(n){const{day:e,modifiers:t,...i}=n,s=he.useRef(null);return he.useEffect(()=>{var l;t.focused&&((l=s.current)==null||l.focus())},[t.focused]),he.createElement("button",{ref:s,...i})}function Uk(n){const{options:e,className:t,components:i,classNames:s,...l}=n,c=[s[ve.Dropdown],t].join(" "),d=e==null?void 0:e.find(({value:g})=>g===l.value);return he.createElement("span",{"data-disabled":l.disabled,className:s[ve.DropdownRoot]},he.createElement(i.Select,{className:c,...l},e==null?void 0:e.map(({value:g,label:p,disabled:v})=>he.createElement(i.Option,{key:g,value:g,disabled:v},p))),he.createElement("span",{className:s[ve.CaptionLabel],"aria-hidden":!0},d==null?void 0:d.label,he.createElement(i.Chevron,{orientation:"down",size:18,className:s[ve.Chevron]})))}function Bk(n){return he.createElement("div",{...n})}function zk(n){return he.createElement("div",{...n})}function jk(n){const{calendarMonth:e,displayIndex:t,...i}=n;return he.createElement("div",{...i},n.children)}function qk(n){const{calendarMonth:e,displayIndex:t,...i}=n;return he.createElement("div",{...i})}function Hk(n){return he.createElement("table",{...n})}function Fk(n){return he.createElement("div",{...n})}const R1=z.createContext(void 0);function $u(){const n=z.useContext(R1);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function Yk(n){const{components:e}=$u();return he.createElement(e.Dropdown,{...n})}function Gk(n){const{onPreviousClick:e,onNextClick:t,previousMonth:i,nextMonth:s,...l}=n,{components:c,classNames:d,labels:{labelPrevious:g,labelNext:p}}=$u(),v=z.useCallback(b=>{s&&(t==null||t(b))},[s,t]),T=z.useCallback(b=>{i&&(e==null||e(b))},[i,e]);return he.createElement("nav",{...l},he.createElement(c.PreviousMonthButton,{type:"button",className:d[ve.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":g(i),onClick:T},he.createElement(c.Chevron,{disabled:i?void 0:!0,className:d[ve.Chevron],orientation:"left"})),he.createElement(c.NextMonthButton,{type:"button",className:d[ve.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":p(s),onClick:v},he.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[ve.Chevron]})))}function Wk(n){const{components:e}=$u();return he.createElement(e.Button,{...n})}function Qk(n){return he.createElement("option",{...n})}function $k(n){const{components:e}=$u();return he.createElement(e.Button,{...n})}function Kk(n){const{rootRef:e,...t}=n;return he.createElement("div",{...t,ref:e})}function Xk(n){return he.createElement("select",{...n})}function Zk(n){const{week:e,...t}=n;return he.createElement("tr",{...t})}function Jk(n){return he.createElement("th",{...n})}function eP(n){return he.createElement("thead",{"aria-hidden":!0},he.createElement("tr",{...n}))}function tP(n){const{week:e,...t}=n;return he.createElement("th",{...t})}function nP(n){return he.createElement("th",{...n})}function rP(n){return he.createElement("tbody",{...n})}function iP(n){const{components:e}=$u();return he.createElement(e.Dropdown,{...n})}const aP=Object.freeze(Object.defineProperty({__proto__:null,Button:xk,CaptionLabel:kk,Chevron:Pk,Day:Vk,DayButton:Lk,Dropdown:Uk,DropdownNav:Bk,Footer:zk,Month:jk,MonthCaption:qk,MonthGrid:Hk,Months:Fk,MonthsDropdown:Yk,Nav:Gk,NextMonthButton:Wk,Option:Qk,PreviousMonthButton:$k,Root:Kk,Select:Xk,Week:Zk,WeekNumber:tP,WeekNumberHeader:nP,Weekday:Jk,Weekdays:eP,Weeks:rP,YearsDropdown:iP},Symbol.toStringTag,{value:"Module"}));function sP(n){return{...aP,...n}}function oP(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,i])=>{t.startsWith("data-")&&(e[t]=i)}),e}function lP(){const n={};for(const e in ve)n[ve[e]]=`rdp-${ve[e]}`;for(const e in yt)n[yt[e]]=`rdp-${yt[e]}`;for(const e in or)n[or[e]]=`rdp-${or[e]}`;for(const e in Vn)n[Vn[e]]=`rdp-${Vn[e]}`;return n}function C1(n,e,t){return(t??new Vi(e)).format(n,"LLLL y")}const uP=C1;function cP(n,e,t){return(t??new Vi(e)).format(n,"d")}function hP(n,e=Hr){return e.format(n,"LLLL")}function fP(n,e=Hr){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function dP(){return""}function mP(n,e,t){return(t??new Vi(e)).format(n,"cccccc")}function I1(n,e=Hr){return e.format(n,"yyyy")}const gP=I1,pP=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:C1,formatDay:cP,formatMonthCaption:uP,formatMonthDropdown:hP,formatWeekNumber:fP,formatWeekNumberHeader:dP,formatWeekdayName:mP,formatYearCaption:gP,formatYearDropdown:I1},Symbol.toStringTag,{value:"Module"}));function yP(n){return n!=null&&n.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n!=null&&n.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...pP,...n}}function vP(n,e,t,i,s){const{startOfMonth:l,startOfYear:c,endOfYear:d,eachMonthOfInterval:g,getMonth:p}=s;return g({start:c(n),end:d(n)}).map(b=>{const C=i.formatMonthDropdown(b,s),I=p(b),U=e&&b<l(e)||t&&b>l(t)||!1;return{value:I,label:C,disabled:U}})}function _P(n,e={},t={}){let i={...e==null?void 0:e[ve.Day]};return Object.entries(n).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...t==null?void 0:t[s]}}),i}function EP(n,e,t){const i=n.today(),s=e?n.startOfISOWeek(i):n.startOfWeek(i),l=[];for(let c=0;c<7;c++){const d=n.addDays(s,c);l.push(d)}return l}function TP(n,e,t,i){if(!n||!e)return;const{startOfYear:s,endOfYear:l,addYears:c,getYear:d,isBefore:g,isSameYear:p}=i,v=s(n),T=l(e),b=[];let C=v;for(;g(C,T)||p(C,T);)b.push(C),C=c(C,1);return b.map(I=>{const U=t.formatYearDropdown(I,i);return{value:d(I),label:U,disabled:!1}})}function D1(n,e,t){return(t??new Vi(e)).format(n,"LLLL y")}const bP=D1;function wP(n,e,t,i){let s=(i??new Vi(t)).format(n,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function O1(n,e,t,i){let s=(i??new Vi(t)).format(n,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const SP=O1;function AP(){return""}function RP(n){return"Choose the Month"}function CP(n){return"Go to the Next Month"}function IP(n){return"Go to the Previous Month"}function DP(n,e,t){return(t??new Vi(e)).format(n,"cccc")}function OP(n,e){return`Week ${n}`}function MP(n){return"Week Number"}function NP(n){return"Choose the Year"}const xP=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:bP,labelDay:SP,labelDayButton:O1,labelGrid:D1,labelGridcell:wP,labelMonthDropdown:RP,labelNav:AP,labelNext:CP,labelPrevious:IP,labelWeekNumber:OP,labelWeekNumberHeader:MP,labelWeekday:DP,labelYearDropdown:NP},Symbol.toStringTag,{value:"Module"})),Ku=n=>n instanceof HTMLElement?n:null,ng=n=>[...n.querySelectorAll("[data-animated-month]")??[]],kP=n=>Ku(n.querySelector("[data-animated-month]")),rg=n=>Ku(n.querySelector("[data-animated-caption]")),ig=n=>Ku(n.querySelector("[data-animated-weeks]")),PP=n=>Ku(n.querySelector("[data-animated-nav]")),VP=n=>Ku(n.querySelector("[data-animated-weekdays]"));function LP(n,e,{classNames:t,months:i,focused:s,dateLib:l}){const c=z.useRef(null),d=z.useRef(i),g=z.useRef(!1);z.useLayoutEffect(()=>{const p=d.current;if(d.current=i,!e||!n.current||!(n.current instanceof HTMLElement)||i.length===0||p.length===0||i.length!==p.length)return;const v=l.isSameMonth(i[0].date,p[0].date),T=l.isAfter(i[0].date,p[0].date),b=T?t[Vn.caption_after_enter]:t[Vn.caption_before_enter],C=T?t[Vn.weeks_after_enter]:t[Vn.weeks_before_enter],I=c.current,U=n.current.cloneNode(!0);if(U instanceof HTMLElement?(ng(U).forEach(Q=>{if(!(Q instanceof HTMLElement))return;const se=kP(Q);se&&Q.contains(se)&&Q.removeChild(se);const $=rg(Q);$&&$.classList.remove(b);const le=ig(Q);le&&le.classList.remove(C)}),c.current=U):c.current=null,g.current||v||s)return;const V=I instanceof HTMLElement?ng(I):[],j=ng(n.current);if(j&&j.every(G=>G instanceof HTMLElement)&&V&&V.every(G=>G instanceof HTMLElement)){g.current=!0,n.current.style.isolation="isolate";const G=PP(n.current);G&&(G.style.zIndex="1"),j.forEach((Q,se)=>{const $=V[se];if(!$)return;Q.style.position="relative",Q.style.overflow="hidden";const le=rg(Q);le&&le.classList.add(b);const D=ig(Q);D&&D.classList.add(C);const A=()=>{g.current=!1,n.current&&(n.current.style.isolation=""),G&&(G.style.zIndex=""),le&&le.classList.remove(b),D&&D.classList.remove(C),Q.style.position="",Q.style.overflow="",Q.contains($)&&Q.removeChild($)};$.style.pointerEvents="none",$.style.position="absolute",$.style.overflow="hidden",$.setAttribute("aria-hidden","true");const R=VP($);R&&(R.style.opacity="0");const x=rg($);x&&(x.classList.add(T?t[Vn.caption_before_exit]:t[Vn.caption_after_exit]),x.addEventListener("animationend",A));const k=ig($);k&&k.classList.add(T?t[Vn.weeks_before_exit]:t[Vn.weeks_after_exit]),Q.insertBefore($,Q.firstChild)})}})}function UP(n,e,t,i){const s=n[0],l=n[n.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:g}=t??{},{addDays:p,differenceInCalendarDays:v,differenceInCalendarMonths:T,endOfBroadcastWeek:b,endOfISOWeek:C,endOfMonth:I,endOfWeek:U,isAfter:V,startOfBroadcastWeek:j,startOfISOWeek:G,startOfWeek:Q}=i,se=g?j(s,i):c?G(s):Q(s),$=g?b(l):c?C(I(l)):U(I(l)),le=v($,se),D=T(l,s)+1,A=[];for(let k=0;k<=le;k++){const L=p(se,k);if(e&&V(L,e))break;A.push(L)}const x=(g?35:42)*D;if(d&&A.length<x){const k=x-A.length;for(let L=0;L<k;L++){const M=p(A[A.length-1],1);A.push(M)}}return A}function BP(n){const e=[];return n.reduce((t,i)=>{const s=i.weeks.reduce((l,c)=>[...l,...c.days],e);return[...t,...s]},e)}function zP(n,e,t,i){const{numberOfMonths:s=1}=t,l=[];for(let c=0;c<s;c++){const d=i.addMonths(n,c);if(e&&d>e)break;l.push(d)}return l}function uT(n,e){const{month:t,defaultMonth:i,today:s=e.today(),numberOfMonths:l=1,endMonth:c,startMonth:d}=n;let g=t||i||s;const{differenceInCalendarMonths:p,addMonths:v,startOfMonth:T}=e;if(c&&p(c,g)<0){const b=-1*(l-1);g=v(c,b)}return d&&p(g,d)<0&&(g=d),T(g)}function jP(n,e,t,i){const{addDays:s,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:d,endOfWeek:g,getISOWeek:p,getWeek:v,startOfBroadcastWeek:T,startOfISOWeek:b,startOfWeek:C}=i,I=n.reduce((U,V)=>{const j=t.broadcastCalendar?T(V,i):t.ISOWeek?b(V):C(V),G=t.broadcastCalendar?l(V):t.ISOWeek?c(d(V)):g(d(V)),Q=e.filter(D=>D>=j&&D<=G),se=t.broadcastCalendar?35:42;if(t.fixedWeeks&&Q.length<se){const D=e.filter(A=>{const R=se-Q.length;return A>G&&A<=s(G,R)});Q.push(...D)}const $=Q.reduce((D,A)=>{const R=t.ISOWeek?p(A):v(A),x=D.find(L=>L.weekNumber===R),k=new E1(A,V,i);return x?x.days.push(k):D.push(new Ok(R,[k])),D},[]),le=new Dk(V,$);return U.push(le),U},[]);return t.reverseMonths?I.reverse():I}function qP(n,e){let{startMonth:t,endMonth:i}=n;const{startOfYear:s,startOfDay:l,startOfMonth:c,endOfMonth:d,addYears:g,endOfYear:p,newDate:v,today:T}=e,{fromYear:b,toYear:C,fromMonth:I,toMonth:U}=n;!t&&I&&(t=I),!t&&b&&(t=e.newDate(b,0,1)),!i&&U&&(i=U),!i&&C&&(i=v(C,11,31));const V=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=c(t):b?t=v(b,0,1):!t&&V&&(t=s(g(n.today??T(),-100))),i?i=d(i):C?i=v(C,11,31):!i&&V&&(i=p(n.today??T())),[t&&l(t),i&&l(i)]}function HP(n,e,t,i){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l=1}=t,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:g}=i,p=s?l:1,v=c(n);if(!e)return d(v,p);if(!(g(e,n)<l))return d(v,p)}function FP(n,e,t,i){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l}=t,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:g}=i,p=s?l??1:1,v=c(n);if(!e)return d(v,-p);if(!(g(v,e)<=0))return d(v,-p)}function YP(n){const e=[];return n.reduce((t,i)=>[...t,...i.weeks],e)}function Lf(n,e){const[t,i]=z.useState(n);return[e===void 0?t:e,i]}function GP(n,e){const[t,i]=qP(n,e),{startOfMonth:s,endOfMonth:l}=e,c=uT(n,e),[d,g]=Lf(c,n.month?c:void 0);z.useEffect(()=>{const le=uT(n,e);g(le)},[n.timeZone]);const p=zP(d,i,n,e),v=UP(p,n.endMonth?l(n.endMonth):void 0,n,e),T=jP(p,v,n,e),b=YP(T),C=BP(T),I=FP(d,t,n,e),U=HP(d,i,n,e),{disableNavigation:V,onMonthChange:j}=n,G=le=>b.some(D=>D.days.some(A=>A.isEqualTo(le))),Q=le=>{if(V)return;let D=s(le);t&&D<s(t)&&(D=s(t)),i&&D>s(i)&&(D=s(i)),g(D),j==null||j(D)};return{months:T,weeks:b,days:C,navStart:t,navEnd:i,previousMonth:I,nextMonth:U,goToMonth:Q,goToDay:le=>{G(le)||Q(le.date)}}}var xr;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(xr||(xr={}));function cT(n){return!n[yt.disabled]&&!n[yt.hidden]&&!n[yt.outside]}function WP(n,e,t,i){let s,l=-1;for(const c of n){const d=e(c);cT(d)&&(d[yt.focused]&&l<xr.FocusedModifier?(s=c,l=xr.FocusedModifier):i!=null&&i.isEqualTo(c)&&l<xr.LastFocused?(s=c,l=xr.LastFocused):t(c.date)&&l<xr.Selected?(s=c,l=xr.Selected):d[yt.today]&&l<xr.Today&&(s=c,l=xr.Today))}return s||(s=n.find(c=>cT(e(c)))),s}function QP(n,e,t,i,s,l,c){const{ISOWeek:d,broadcastCalendar:g}=l,{addDays:p,addMonths:v,addWeeks:T,addYears:b,endOfBroadcastWeek:C,endOfISOWeek:I,endOfWeek:U,max:V,min:j,startOfBroadcastWeek:G,startOfISOWeek:Q,startOfWeek:se}=c;let le={day:p,week:T,month:v,year:b,startOfWeek:D=>g?G(D,c):d?Q(D):se(D),endOfWeek:D=>g?C(D):d?I(D):U(D)}[n](t,e==="after"?1:-1);return e==="before"&&i?le=V([i,le]):e==="after"&&s&&(le=j([s,le])),le}function M1(n,e,t,i,s,l,c,d=0){if(d>365)return;const g=QP(n,e,t.date,i,s,l,c),p=!!(l.disabled&&Ri(g,l.disabled,c)),v=!!(l.hidden&&Ri(g,l.hidden,c)),T=g,b=new E1(g,T,c);return!p&&!v?b:M1(n,e,b,i,s,l,c,d+1)}function $P(n,e,t,i,s){const{autoFocus:l}=n,[c,d]=z.useState(),g=WP(e.days,t,i||(()=>!1),c),[p,v]=z.useState(l?g:void 0);return{isFocusTarget:U=>!!(g!=null&&g.isEqualTo(U)),setFocused:v,focused:p,blur:()=>{d(p),v(void 0)},moveFocus:(U,V)=>{if(!p)return;const j=M1(U,V,p,e.navStart,e.navEnd,n,s);j&&(e.goToDay(j),v(j))}}}function KP(n,e){const{selected:t,required:i,onSelect:s}=n,[l,c]=Lf(t,s?t:void 0),d=s?t:l,{isSameDay:g}=e,p=C=>(d==null?void 0:d.some(I=>g(I,C)))??!1,{min:v,max:T}=n;return{selected:d,select:(C,I,U)=>{let V=[...d??[]];if(p(C)){if((d==null?void 0:d.length)===v||i&&(d==null?void 0:d.length)===1)return;V=d==null?void 0:d.filter(j=>!g(j,C))}else(d==null?void 0:d.length)===T?V=[C]:V=[...V,C];return s||c(V),s==null||s(V,C,I,U),V},isSelected:p}}function XP(n,e,t=0,i=0,s=!1,l=Hr){const{from:c,to:d}=e||{},{isSameDay:g,isAfter:p,isBefore:v}=l;let T;if(!c&&!d)T={from:n,to:t>0?void 0:n};else if(c&&!d)g(c,n)?s?T={from:c,to:void 0}:T=void 0:v(n,c)?T={from:n,to:c}:T={from:c,to:n};else if(c&&d)if(g(c,n)&&g(d,n))s?T={from:c,to:d}:T=void 0;else if(g(c,n))T={from:c,to:t>0?void 0:n};else if(g(d,n))T={from:n,to:t>0?void 0:n};else if(v(n,c))T={from:n,to:d};else if(p(n,c))T={from:c,to:n};else if(p(n,d))T={from:c,to:n};else throw new Error("Invalid range");if(T!=null&&T.from&&(T!=null&&T.to)){const b=l.differenceInCalendarDays(T.to,T.from);i>0&&b>i?T={from:n,to:void 0}:t>1&&b<t&&(T={from:n,to:void 0})}return T}function ZP(n,e,t=Hr){const i=Array.isArray(e)?e:[e];let s=n.from;const l=t.differenceInCalendarDays(n.to,n.from),c=Math.min(l,6);for(let d=0;d<=c;d++){if(i.includes(s.getDay()))return!0;s=t.addDays(s,1)}return!1}function hT(n,e,t=Hr){return Ai(n,e.from,!1,t)||Ai(n,e.to,!1,t)||Ai(e,n.from,!1,t)||Ai(e,n.to,!1,t)}function JP(n,e,t=Hr){const i=Array.isArray(e)?e:[e];if(i.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:t.isDate(d)?Ai(n,d,!1,t):A1(d,t)?d.some(g=>Ai(n,g,!1,t)):Wp(d)?d.from&&d.to?hT(n,{from:d.from,to:d.to},t):!1:S1(d)?ZP(n,d.dayOfWeek,t):T1(d)?t.isAfter(d.before,d.after)?hT(n,{from:t.addDays(d.after,1),to:t.addDays(d.before,-1)},t):Ri(n.from,d,t)||Ri(n.to,d,t):b1(d)||w1(d)?Ri(n.from,d,t)||Ri(n.to,d,t):!1))return!0;const c=i.filter(d=>typeof d=="function");if(c.length){let d=n.from;const g=t.differenceInCalendarDays(n.to,n.from);for(let p=0;p<=g;p++){if(c.some(v=>v(d)))return!0;d=t.addDays(d,1)}}return!1}function e4(n,e){const{disabled:t,excludeDisabled:i,selected:s,required:l,onSelect:c}=n,[d,g]=Lf(s,c?s:void 0),p=c?s:d;return{selected:p,select:(b,C,I)=>{const{min:U,max:V}=n,j=b?XP(b,p,U,V,l,e):void 0;return i&&t&&(j!=null&&j.from)&&j.to&&JP({from:j.from,to:j.to},t,e)&&(j.from=b,j.to=void 0),c||g(j),c==null||c(j,b,C,I),j},isSelected:b=>p&&Ai(p,b,!1,e)}}function t4(n,e){const{selected:t,required:i,onSelect:s}=n,[l,c]=Lf(t,s?t:void 0),d=s?t:l,{isSameDay:g}=e;return{selected:d,select:(T,b,C)=>{let I=T;return!i&&d&&d&&g(T,d)&&(I=void 0),s||c(I),s==null||s(I,T,b,C),I},isSelected:T=>d?g(d,T):!1}}function n4(n,e){const t=t4(n,e),i=KP(n,e),s=e4(n,e);switch(n.mode){case"single":return t;case"multiple":return i;case"range":return s;default:return}}function r4(n){var Ui;let e=n;e.timeZone&&(e={...n},e.today&&(e.today=new un(e.today,e.timeZone)),e.month&&(e.month=new un(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new un(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new un(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new un(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new un(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Ui=e.selected)==null?void 0:Ui.map(De=>new un(De,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new un(e.selected.from,e.timeZone):void 0,to:e.selected.to?new un(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:i,labels:s,dateLib:l,locale:c,classNames:d}=z.useMemo(()=>{const De={...Gp,...e.locale};return{dateLib:new Vi({locale:De,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:sP(e.components),formatters:yP(e.formatters),labels:{...xP,...e.labels},locale:De,classNames:{...lP(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:g,mode:p,navLayout:v,numberOfMonths:T=1,onDayBlur:b,onDayClick:C,onDayFocus:I,onDayKeyDown:U,onDayMouseEnter:V,onDayMouseLeave:j,onNextClick:G,onPrevClick:Q,showWeekNumber:se,styles:$}=e,{formatCaption:le,formatDay:D,formatMonthDropdown:A,formatWeekNumber:R,formatWeekNumberHeader:x,formatWeekdayName:k,formatYearDropdown:L}=i,M=GP(e,l),{days:Rt,months:ot,navStart:X,navEnd:ce,previousMonth:me,nextMonth:Ie,goToMonth:N}=M,re=Mk(Rt,e,l),{isSelected:ue,select:ie,selected:pe}=n4(e,l)??{},{blur:Oe,focused:Ee,isFocusTarget:Ct,moveFocus:Xe,setFocused:dn}=$P(e,M,re,ue??(()=>!1),l),{labelDayButton:mr,labelGridcell:Jn,labelGrid:Fr,labelMonthDropdown:Yr,labelNav:gr,labelPrevious:Ua,labelNext:Is,labelWeekday:Tn,labelWeekNumber:nl,labelWeekNumberHeader:Ba,labelYearDropdown:Li}=s,Gr=z.useMemo(()=>EP(l,e.ISOWeek),[l,e.ISOWeek]),Ds=p!==void 0||C!==void 0,pr=z.useCallback(()=>{me&&(N(me),Q==null||Q(me))},[me,N,Q]),Wr=z.useCallback(()=>{Ie&&(N(Ie),G==null||G(Ie))},[N,Ie,G]),Os=z.useCallback((De,Qe)=>Le=>{Le.preventDefault(),Le.stopPropagation(),dn(De),ie==null||ie(De.date,Qe,Le),C==null||C(De.date,Qe,Le)},[ie,C,dn]),ht=z.useCallback((De,Qe)=>Le=>{dn(De),I==null||I(De.date,Qe,Le)},[I,dn]),Ge=z.useCallback((De,Qe)=>Le=>{Oe(),b==null||b(De.date,Qe,Le)},[Oe,b]),mn=z.useCallback((De,Qe)=>Le=>{const Ht={ArrowLeft:["day",e.dir==="rtl"?"after":"before"],ArrowRight:["day",e.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[Le.shiftKey?"year":"month","before"],PageDown:[Le.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ht[Le.key]){Le.preventDefault(),Le.stopPropagation();const[Kt,gn]=Ht[Le.key];Xe(Kt,gn)}U==null||U(De.date,Qe,Le)},[Xe,U,e.dir]),qt=z.useCallback((De,Qe)=>Le=>{V==null||V(De.date,Qe,Le)},[V]),Ms=z.useCallback((De,Qe)=>Le=>{j==null||j(De.date,Qe,Le)},[j]),rl=z.useCallback(De=>Qe=>{const Le=Number(Qe.target.value),Ht=l.setMonth(l.startOfMonth(De),Le);N(Ht)},[l,N]),Qr=z.useCallback(De=>Qe=>{const Le=Number(Qe.target.value),Ht=l.setYear(l.startOfMonth(De),Le);N(Ht)},[l,N]),{className:$r,style:Kr}=z.useMemo(()=>({className:[d[ve.Root],e.className].filter(Boolean).join(" "),style:{...$==null?void 0:$[ve.Root],...e.style}}),[d,e.className,e.style,$]),Cn=oP(e),Xr=z.useRef(null);LP(Xr,!!e.animate,{classNames:d,months:ot,focused:Ee,dateLib:l});const Zr={dayPickerProps:e,selected:pe,select:ie,isSelected:ue,months:ot,nextMonth:Ie,previousMonth:me,goToMonth:N,getModifiers:re,components:t,classNames:d,styles:$,labels:s,formatters:i};return he.createElement(R1.Provider,{value:Zr},he.createElement(t.Root,{rootRef:e.animate?Xr:void 0,className:$r,style:Kr,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Cn},he.createElement(t.Months,{className:d[ve.Months],style:$==null?void 0:$[ve.Months]},!e.hideNavigation&&!v&&he.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[ve.Nav],style:$==null?void 0:$[ve.Nav],"aria-label":gr(),onPreviousClick:pr,onNextClick:Wr,previousMonth:me,nextMonth:Ie}),ot.map((De,Qe)=>{const Le=vP(De.date,X,ce,i,l),Ht=TP(X,ce,i,l);return he.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:d[ve.Month],style:$==null?void 0:$[ve.Month],key:Qe,displayIndex:Qe,calendarMonth:De},v==="around"&&!e.hideNavigation&&Qe===0&&he.createElement(t.PreviousMonthButton,{type:"button",className:d[ve.PreviousMonthButton],tabIndex:me?void 0:-1,"aria-disabled":me?void 0:!0,"aria-label":Ua(me),onClick:pr,"data-animated-button":e.animate?"true":void 0},he.createElement(t.Chevron,{disabled:me?void 0:!0,className:d[ve.Chevron],orientation:e.dir==="rtl"?"right":"left"})),he.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:d[ve.MonthCaption],style:$==null?void 0:$[ve.MonthCaption],calendarMonth:De,displayIndex:Qe},g!=null&&g.startsWith("dropdown")?he.createElement(t.DropdownNav,{className:d[ve.Dropdowns],style:$==null?void 0:$[ve.Dropdowns]},g==="dropdown"||g==="dropdown-months"?he.createElement(t.MonthsDropdown,{className:d[ve.MonthsDropdown],"aria-label":Yr(),classNames:d,components:t,disabled:!!e.disableNavigation,onChange:rl(De.date),options:Le,style:$==null?void 0:$[ve.Dropdown],value:l.getMonth(De.date)}):he.createElement("span",null,A(De.date,l)),g==="dropdown"||g==="dropdown-years"?he.createElement(t.YearsDropdown,{className:d[ve.YearsDropdown],"aria-label":Li(l.options),classNames:d,components:t,disabled:!!e.disableNavigation,onChange:Qr(De.date),options:Ht,style:$==null?void 0:$[ve.Dropdown],value:l.getYear(De.date)}):he.createElement("span",null,L(De.date,l)),he.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},le(De.date,l.options,l))):he.createElement(t.CaptionLabel,{className:d[ve.CaptionLabel],role:"status","aria-live":"polite"},le(De.date,l.options,l))),v==="around"&&!e.hideNavigation&&Qe===T-1&&he.createElement(t.NextMonthButton,{type:"button",className:d[ve.NextMonthButton],tabIndex:Ie?void 0:-1,"aria-disabled":Ie?void 0:!0,"aria-label":Is(Ie),onClick:Wr,"data-animated-button":e.animate?"true":void 0},he.createElement(t.Chevron,{disabled:Ie?void 0:!0,className:d[ve.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Qe===T-1&&v==="after"&&!e.hideNavigation&&he.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[ve.Nav],style:$==null?void 0:$[ve.Nav],"aria-label":gr(),onPreviousClick:pr,onNextClick:Wr,previousMonth:me,nextMonth:Ie}),he.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":Fr(De.date,l.options,l)||void 0,className:d[ve.MonthGrid],style:$==null?void 0:$[ve.MonthGrid]},!e.hideWeekdays&&he.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:d[ve.Weekdays],style:$==null?void 0:$[ve.Weekdays]},se&&he.createElement(t.WeekNumberHeader,{"aria-label":Ba(l.options),className:d[ve.WeekNumberHeader],style:$==null?void 0:$[ve.WeekNumberHeader],scope:"col"},x()),Gr.map((Kt,gn)=>he.createElement(t.Weekday,{"aria-label":Tn(Kt,l.options,l),className:d[ve.Weekday],key:gn,style:$==null?void 0:$[ve.Weekday],scope:"col"},k(Kt,l.options,l)))),he.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:d[ve.Weeks],style:$==null?void 0:$[ve.Weeks]},De.weeks.map((Kt,gn)=>he.createElement(t.Week,{className:d[ve.Week],key:Kt.weekNumber,style:$==null?void 0:$[ve.Week],week:Kt},se&&he.createElement(t.WeekNumber,{week:Kt,style:$==null?void 0:$[ve.WeekNumber],"aria-label":nl(Kt.weekNumber,{locale:c}),className:d[ve.WeekNumber],scope:"row",role:"rowheader"},R(Kt.weekNumber,l)),Kt.days.map(_t=>{const{date:kt}=_t,Ue=re(_t);if(Ue[yt.focused]=!Ue.hidden&&!!(Ee!=null&&Ee.isEqualTo(_t)),Ue[or.selected]=(ue==null?void 0:ue(kt))||Ue.selected,Wp(pe)){const{from:gt,to:ft}=pe;Ue[or.range_start]=!!(gt&&ft&&l.isSameDay(kt,gt)),Ue[or.range_end]=!!(gt&&ft&&l.isSameDay(kt,ft)),Ue[or.range_middle]=Ai(pe,kt,!0,l)}const yr=_P(Ue,$,e.modifiersStyles),Ns=Nk(Ue,d,e.modifiersClassNames),lt=!Ds&&!Ue.hidden?Jn(kt,Ue,l.options,l):void 0;return he.createElement(t.Day,{key:`${l.format(kt,"yyyy-MM-dd")}_${l.format(_t.displayMonth,"yyyy-MM")}`,day:_t,modifiers:Ue,className:Ns.join(" "),style:yr,role:"gridcell","aria-selected":Ue.selected||void 0,"aria-label":lt,"data-day":l.format(kt,"yyyy-MM-dd"),"data-month":_t.outside?l.format(kt,"yyyy-MM"):void 0,"data-selected":Ue.selected||void 0,"data-disabled":Ue.disabled||void 0,"data-hidden":Ue.hidden||void 0,"data-outside":_t.outside||void 0,"data-focused":Ue.focused||void 0,"data-today":Ue.today||void 0},!Ue.hidden&&Ds?he.createElement(t.DayButton,{className:d[ve.DayButton],style:$==null?void 0:$[ve.DayButton],type:"button",day:_t,modifiers:Ue,disabled:Ue.disabled||void 0,tabIndex:Ct(_t)?0:-1,"aria-label":mr(kt,Ue,l.options,l),onClick:Os(_t,Ue),onBlur:Ge(_t,Ue),onFocus:ht(_t,Ue),onKeyDown:mn(_t,Ue),onMouseEnter:qt(_t,Ue),onMouseLeave:Ms(_t,Ue)},D(kt,l.options,l)):!Ue.hidden&&D(_t.date,l.options,l))}))))))})),e.footer&&he.createElement(t.Footer,{className:d[ve.Footer],style:$==null?void 0:$[ve.Footer],role:"status","aria-live":"polite"},e.footer)))}const i4={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},a4=(n,e,t)=>{let i;const s=i4[n];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+i:"hace "+i:i},s4={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},o4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},l4={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u4={date:xo({formats:s4,defaultWidth:"full"}),time:xo({formats:o4,defaultWidth:"full"}),dateTime:xo({formats:l4,defaultWidth:"full"})},c4={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},h4={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},f4=(n,e,t,i)=>e.getHours()!==1?h4[n]:c4[n],d4={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},m4={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},g4={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},p4={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},y4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},v4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},_4=(n,e)=>Number(n)+"",E4={ordinalNumber:_4,era:Pr({values:d4,defaultWidth:"wide"}),quarter:Pr({values:m4,defaultWidth:"wide",argumentCallback:n=>Number(n)-1}),month:Pr({values:g4,defaultWidth:"wide"}),day:Pr({values:p4,defaultWidth:"wide"}),dayPeriod:Pr({values:y4,defaultWidth:"wide",formattingValues:v4,defaultFormattingWidth:"wide"})},T4=/^(\d+)()?/i,b4=/\d+/i,w4={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},S4={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},A4={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},R4={any:[/1/i,/2/i,/3/i,/4/i]},C4={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},I4={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},D4={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},O4={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},M4={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},N4={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},x4={ordinalNumber:m1({matchPattern:T4,parsePattern:b4,valueCallback:function(n){return parseInt(n,10)}}),era:Vr({matchPatterns:w4,defaultMatchWidth:"wide",parsePatterns:S4,defaultParseWidth:"any"}),quarter:Vr({matchPatterns:A4,defaultMatchWidth:"wide",parsePatterns:R4,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Vr({matchPatterns:C4,defaultMatchWidth:"wide",parsePatterns:I4,defaultParseWidth:"any"}),day:Vr({matchPatterns:D4,defaultMatchWidth:"wide",parsePatterns:O4,defaultParseWidth:"any"}),dayPeriod:Vr({matchPatterns:M4,defaultMatchWidth:"any",parsePatterns:N4,defaultParseWidth:"any"})},k4={code:"es",formatDistance:a4,formatLong:u4,formatRelative:f4,localize:E4,match:x4,options:{weekStartsOn:1,firstWeekContainsDate:1}};function P4({onDateChange:n,selectedDate:e,turnos:t}){const s={hasTurno:z.useMemo(()=>t.map(l=>{const c=l.fecha.split("-").map(Number);return new Date(c[0],c[1]-1,c[2])}),[t])};return ae.jsx("div",{className:"calendar-container",children:ae.jsx(r4,{mode:"single",selected:e,onSelect:n,locale:k4,modifiers:s,showOutsideDays:!0,fixedWeeks:!0})})}var N1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fT=he.createContext&&he.createContext(N1),V4=["attr","size","title"];function L4(n,e){if(n==null)return{};var t=U4(n,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function U4(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function uf(){return uf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uf.apply(this,arguments)}function dT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function cf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(t),!0).forEach(function(i){B4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function B4(n,e,t){return e=z4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z4(n){var e=j4(n,"string");return typeof e=="symbol"?e:e+""}function j4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function x1(n){return n&&n.map((e,t)=>he.createElement(e.tag,cf({key:t},e.attr),x1(e.child)))}function k1(n){return e=>he.createElement(q4,uf({attr:cf({},n.attr)},e),x1(n.child))}function q4(n){var e=t=>{var{attr:i,size:s,title:l}=n,c=L4(n,V4),d=s||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),he.createElement("svg",uf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:g,style:cf(cf({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&he.createElement("title",null,l),n.children)};return fT!==void 0?he.createElement(fT.Consumer,null,t=>e(t)):e(N1)}function H4(n){return k1({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function F4(n){return k1({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(n)}function Y4({turno:n,onDelete:e,onEdit:t}){const{id:i,nombre:s,hora:l,servicio:c}=n;return ae.jsxs("div",{className:"turno-row",children:[ae.jsx("div",{className:"col-hora",children:l}),ae.jsx("div",{className:"col-nombre",title:`Servicio: ${c||"N/A"}`,children:s}),ae.jsxs("div",{className:"col-acciones",children:[ae.jsx("button",{onClick:()=>t(i),className:"btn btn-sm btn-outline-info",children:ae.jsx(H4,{})}),ae.jsx("button",{onClick:()=>e(i),className:"btn btn-sm btn-outline-danger",children:ae.jsx(F4,{})})]})]})}function G4({turnos:n,onEdit:e,onDelete:t}){return n.length===0?ae.jsx("p",{className:"text-white-50 text-center mt-4",children:"No hay turnos registrados para este da."}):ae.jsxs("div",{className:"turnos-table-container",children:[ae.jsxs("div",{className:"turnos-table-header",children:[ae.jsx("div",{className:"col-hora",children:"Hora"}),ae.jsx("div",{className:"col-nombre",children:"Nombre"}),ae.jsx("div",{className:"col-acciones",children:"Acciones"})]}),ae.jsx("div",{className:"turnos-table-body",children:n.map(i=>ae.jsx(Y4,{turno:i,onDelete:t,onEdit:e},i.id))})]})}let W4={data:""},Q4=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||W4,$4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,K4=/\/\*[^]*?\*\/|  +/g,mT=/\n+/g,ya=(n,e)=>{let t="",i="",s="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":i+=l[1]=="f"?ya(c,l):l+"{"+ya(c,l[1]=="k"?"":e)+"}":typeof c=="object"?i+=ya(c,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,d):d?d+" "+g:g)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ya.p?ya.p(l,c):l+":"+c+";")}return t+(e&&s?e+"{"+s+"}":s)+i},bi={},P1=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+P1(n[t]);return e}return n},X4=(n,e,t,i,s)=>{let l=P1(n),c=bi[l]||(bi[l]=(g=>{let p=0,v=11;for(;p<g.length;)v=101*v+g.charCodeAt(p++)>>>0;return"go"+v})(l));if(!bi[c]){let g=l!==n?n:(p=>{let v,T,b=[{}];for(;v=$4.exec(p.replace(K4,""));)v[4]?b.shift():v[3]?(T=v[3].replace(mT," ").trim(),b.unshift(b[0][T]=b[0][T]||{})):b[0][v[1]]=v[2].replace(mT," ").trim();return b[0]})(n);bi[c]=ya(s?{["@keyframes "+c]:g}:g,t?"":"."+c)}let d=t&&bi.g?bi.g:null;return t&&(bi.g=bi[c]),((g,p,v,T)=>{T?p.data=p.data.replace(T,g):p.data.indexOf(g)===-1&&(p.data=v?g+p.data:p.data+g)})(bi[c],e,i,d),c},Z4=(n,e,t)=>n.reduce((i,s,l)=>{let c=e[l];if(c&&c.call){let d=c(t),g=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=g?"."+g:d&&typeof d=="object"?d.props?"":ya(d,""):d===!1?"":d}return i+s+(c??"")},"");function Uf(n){let e=this||{},t=n.call?n(e.p):n;return X4(t.unshift?t.raw?Z4(t,[].slice.call(arguments,1),e.p):t.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):t,Q4(e.target),e.g,e.o,e.k)}let V1,Vg,Lg;Uf.bind({g:1});let ki=Uf.bind({k:1});function J4(n,e,t,i){ya.p=e,V1=n,Vg=t,Lg=i}function La(n,e){let t=this||{};return function(){let i=arguments;function s(l,c){let d=Object.assign({},l),g=d.className||s.className;t.p=Object.assign({theme:Vg&&Vg()},d),t.o=/ *go\d+/.test(g),d.className=Uf.apply(t,i)+(g?" "+g:"");let p=n;return n[0]&&(p=d.as||n,delete d.as),Lg&&p[0]&&Lg(d),V1(p,d)}return s}}var eV=n=>typeof n=="function",Ug=(n,e)=>eV(n)?n(e):n,tV=(()=>{let n=0;return()=>(++n).toString()})(),nV=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),rV=20,L1=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,rV)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return L1(n,{type:n.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},iV=[],ag={toasts:[],pausedAt:void 0},Qp=n=>{ag=L1(ag,n),iV.forEach(e=>{e(ag)})},aV=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||tV()}),Xu=n=>(e,t)=>{let i=aV(e,n,t);return Qp({type:2,toast:i}),i.id},Ln=(n,e)=>Xu("blank")(n,e);Ln.error=Xu("error");Ln.success=Xu("success");Ln.loading=Xu("loading");Ln.custom=Xu("custom");Ln.dismiss=n=>{Qp({type:3,toastId:n})};Ln.remove=n=>Qp({type:4,toastId:n});Ln.promise=(n,e,t)=>{let i=Ln.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let l=e.success?Ug(e.success,s):void 0;return l?Ln.success(l,{id:i,...t,...t==null?void 0:t.success}):Ln.dismiss(i),s}).catch(s=>{let l=e.error?Ug(e.error,s):void 0;l?Ln.error(l,{id:i,...t,...t==null?void 0:t.error}):Ln.dismiss(i)}),n};var sV=ki`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oV=ki`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lV=ki`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uV=La("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cV=ki`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hV=La("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${cV} 1s linear infinite;
`,fV=ki`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dV=ki`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mV=La("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gV=La("div")`
  position: absolute;
`,pV=La("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yV=ki`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vV=La("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_V=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?z.createElement(vV,null,e):e:t==="blank"?null:z.createElement(pV,null,z.createElement(hV,{...i}),t!=="loading"&&z.createElement(gV,null,t==="error"?z.createElement(uV,{...i}):z.createElement(mV,{...i})))},EV=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,TV=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,bV="0%{opacity:0;} 100%{opacity:1;}",wV="0%{opacity:1;} 100%{opacity:0;}",SV=La("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AV=La("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,RV=(n,e)=>{let t=n.includes("top")?1:-1,[i,s]=nV()?[bV,wV]:[EV(t),TV(t)];return{animation:e?`${ki(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ki(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};z.memo(({toast:n,position:e,style:t,children:i})=>{let s=n.height?RV(n.position||e||"top-center",n.visible):{opacity:0},l=z.createElement(_V,{toast:n}),c=z.createElement(AV,{...n.ariaProps},Ug(n.message,n));return z.createElement(SV,{className:n.className,style:{...s,...t,...n.style}},typeof i=="function"?i({icon:l,message:c}):z.createElement(z.Fragment,null,l,c))});J4(z.createElement);Uf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Un=Ln;function CV(){const[n,e]=z.useState([]),[t,i]=z.useState(!0),[s,l]=z.useState(null),[c,d]=z.useState(new Date),g=Ss();z.useEffect(()=>{const C=Np(Zh(vs,"turnos"),ME("fecha","asc"),ME("hora","asc")),I=z2(C,U=>{const V=U.docs.map(j=>({id:j.id,...j.data()}));e(V),i(!1)},U=>{console.error("Error al obtener turnos en tiempo real:",U),l("Error al cargar los turnos."),i(!1)});return()=>I()},[]);const p=z.useMemo(()=>{if(!c)return[];const C=c.toISOString().split("T")[0];return n.filter(I=>I.fecha===C)},[c,n]),v=C=>{C&&d(C)},T=async C=>{if(window.confirm("Ests seguro de que quieres eliminar este turno?")){const I=U2(Jh(vs,"turnos",C));Un.promise(I,{loading:"Eliminando turno...",success:"Turno eliminado con xito",error:U=>(console.error("Error al eliminar:",U),"No se pudo eliminar el turno.")})}},b=C=>{g(`/edit-turno/${C}`)};return t?ae.jsx("div",{className:"text-center mt-5",children:ae.jsx("div",{className:"spinner-border"})}):s?ae.jsx("div",{className:"alert alert-danger text-center",children:s}):ae.jsxs("div",{className:"container mt-4",children:[ae.jsx("h2",{className:"mb-3 text-white",children:"Tu Agenda"}),ae.jsx(P4,{onDateChange:v,selectedDate:c,turnos:n}),ae.jsx("h3",{className:"mb-3 mt-4 text-white",children:c&&`Turnos para el ${c.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}`}),ae.jsx(G4,{turnos:p,onEdit:b,onDelete:T})]})}function U1({turnoData:n,onFormChange:e,onSubmit:t,isSaving:i,submitText:s}){const{nombre:l,fecha:c,hora:d,servicio:g}=n;return ae.jsxs("form",{onSubmit:t,children:[ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{htmlFor:"nombre",className:"form-label",children:"Nombre del Cliente"}),ae.jsx("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",value:l,onChange:e,required:!0})]}),ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{htmlFor:"fecha",className:"form-label",children:"Fecha"}),ae.jsx("input",{type:"date",className:"form-control",id:"fecha",name:"fecha",value:c,onChange:e,required:!0})]}),ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{htmlFor:"hora",className:"form-label",children:"Hora"}),ae.jsx("input",{type:"time",className:"form-control",id:"hora",name:"hora",value:d,onChange:e,required:!0})]}),ae.jsxs("div",{className:"mb-4",children:[ae.jsx("label",{htmlFor:"servicio",className:"form-label",children:"Servicio"}),ae.jsx("input",{type:"text",className:"form-control",id:"servicio",name:"servicio",value:g||"",onChange:e})]}),ae.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:i,children:i?"Guardando...":s})]})}const IV={nombre:"",fecha:"",hora:"",servicio:""};function DV(){const[n,e]=z.useState(IV),[t,i]=z.useState(!1),s=Ss(),l=d=>{const{name:g,value:p}=d.target;e(v=>({...v,[g]:p}))},c=async d=>{if(d.preventDefault(),!n.nombre.trim()||!n.fecha||!n.hora){Un.error("Nombre, fecha y hora son campos obligatorios.");return}i(!0);try{const g=Np(Zh(vs,"turnos"),tf("fecha","==",n.fecha),tf("hora","==",n.hora));if(!(await Tw(g)).empty){Un.error("Este horario ya est ocupado. Por favor, elige otro."),i(!1);return}await B2(Zh(vs,"turnos"),{...n,creado:xt.now()}),Un.success("Turno guardado con xito"),s("/")}catch(g){console.error("Error en handleSubmit de AddTurno:",g),Un.error("Hubo un error al validar o guardar el turno.")}finally{i(!1)}};return ae.jsxs("div",{className:"container mt-4",style:{maxWidth:"600px"},children:[ae.jsx("h2",{className:"mb-4",children:"Nuevo Turno"}),ae.jsx(U1,{turnoData:n,onFormChange:l,onSubmit:c,isSaving:t,submitText:"Guardar Turno"})]})}function OV(){const{id:n}=KA(),e=Ss(),[t,i]=z.useState(null),[s,l]=z.useState(!0),[c,d]=z.useState(!1);z.useEffect(()=>{(async()=>{try{const T=await V2(Jh(vs,"turnos",n));T.exists()?i({id:T.id,...T.data()}):(Un.error("El turno no existe."),e("/"))}catch(T){console.error("Error en fetchTurno de EditTurno:",T),Un.error("Error al cargar el turno."),e("/")}finally{l(!1)}})()},[n,e]);const g=v=>{const{name:T,value:b}=v.target;i(C=>({...C,[T]:b}))},p=async v=>{if(v.preventDefault(),!t.nombre||!t.fecha||!t.hora){Un.error("Nombre, fecha y hora son campos obligatorios.");return}d(!0);try{const T=Np(Zh(vs,"turnos"),tf("fecha","==",t.fecha),tf("hora","==",t.hora)),b=await Tw(T);let C=!1;if(b.forEach(j=>{j.id!==n&&(C=!0)}),C){Un.error("Este horario ya est ocupado por otro turno."),d(!1);return}const{id:I,...U}=t,V=Jh(vs,"turnos",I);await L2(V,U),Un.success("Turno actualizado con xito"),e("/")}catch(T){console.error("Error en handleSubmit de EditTurno:",T),Un.error("Error al actualizar el turno.")}finally{d(!1)}};return s?ae.jsx("div",{className:"text-center mt-5",children:ae.jsx("div",{className:"spinner-border"})}):t?ae.jsxs("div",{className:"container mt-4",style:{maxWidth:"600px"},children:[ae.jsx("h2",{className:"mb-4",children:"Editar Turno"}),ae.jsx(U1,{turnoData:t,onFormChange:g,onSubmit:p,isSaving:c,submitText:"Actualizar Turno"})]}):ae.jsx("div",{className:"alert alert-danger text-center",children:"No se encontr el turno."})}function MV(){const[n,e]=z.useState(""),[t,i]=z.useState(""),[s,l]=z.useState(!1),c=Ss(),d=async g=>{g.preventDefault(),l(!0);try{if(!n||!t){Un.error("Por favor, completa todos los campos."),l(!1);return}await zM(i1,n,t),c("/")}catch(p){console.error("Error en handleLogin:",p),Un.error("Email o contrasea incorrectos.")}finally{l(!1)}};return ae.jsx("div",{className:"container mt-5 d-flex justify-content-center",children:ae.jsxs("div",{className:"card bg-dark text-white p-4 shadow",style:{maxWidth:"400px",width:"100%"},children:[ae.jsx("h2",{className:"card-title text-center mb-4",children:"Iniciar Sesin"}),ae.jsxs("form",{onSubmit:d,children:[ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),ae.jsx("input",{type:"email",className:"form-control",id:"email",value:n,onChange:g=>e(g.target.value),required:!0})]}),ae.jsxs("div",{className:"mb-4",children:[ae.jsx("label",{htmlFor:"password",className:"form-label",children:"Contrasea"}),ae.jsx("input",{type:"password",className:"form-control",id:"password",value:t,onChange:g=>i(g.target.value),required:!0})]}),ae.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:s,children:s?"Iniciando...":"Iniciar Sesin"})]})]})})}function NV(){const n=Ss(),e=n1(),t=async()=>{try{await FM(e),n("/login")}catch(i){console.error("Error al cerrar sesin:",i)}};return ae.jsxs("nav",{className:"app-navbar",children:[ae.jsxs("div",{className:"nav-buttons",children:[ae.jsx(Uh,{to:"/",className:"btn btn-outline-light",children:"Inicio"}),ae.jsx(Uh,{to:"/nuevo",className:"btn btn-primary",children:"Agregar Turno"})]}),ae.jsxs("div",{className:"user-actions",children:[ae.jsx("span",{className:"welcome-text",children:"Bienvenido Benja"}),ae.jsx("button",{onClick:t,className:"btn btn-outline-danger",children:"Cerrar Sesin"})]})]})}function sg({user:n,children:e}){return n===void 0?ae.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"80vh"},children:ae.jsx("div",{className:"spinner-border",role:"status",children:ae.jsx("span",{className:"visually-hidden",children:"Cargando..."})})}):n?e:ae.jsx(AT,{to:"/login"})}function xV(){const[n,e]=z.useState(void 0);return z.useEffect(()=>{const t=HM(i1,i=>{e(i)});return()=>t()},[]),ae.jsxs("div",{className:"container-fluid px-3 py-4 bg-dark text-white min-vh-100 d-flex flex-column",children:[n&&ae.jsx(NV,{currentUser:n}),ae.jsx("main",{className:"flex-grow-1 mt-3",children:ae.jsxs(hR,{children:[ae.jsx(wo,{path:"/login",element:ae.jsx(MV,{})}),ae.jsx(wo,{path:"/",element:ae.jsx(sg,{user:n,children:ae.jsx(CV,{})})}),ae.jsx(wo,{path:"/nuevo",element:ae.jsx(sg,{user:n,children:ae.jsx(DV,{})})}),ae.jsx(wo,{path:"/edit-turno/:id",element:ae.jsx(sg,{user:n,children:ae.jsx(OV,{})})}),ae.jsx(wo,{path:"*",element:ae.jsx(AT,{to:"/"})})]})})]})}_A.createRoot(document.getElementById("root")).render(ae.jsx(he.StrictMode,{children:ae.jsx(PR,{children:ae.jsx(xV,{})})}));
